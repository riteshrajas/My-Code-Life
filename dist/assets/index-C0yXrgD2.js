import{j as e,S as t,O as n,P as r,C as a,a as s,T as i,D as l,R as o,b as c,L as u,c as d,d as f,e as m,f as p,g as h,h as g,i as x,I as v,k as y,l as b,m as w,n as N,o as j,p as k,q as S,r as C,s as _,t as E,u as D,v as A,w as I,x as T,V as O,y as P,z as R,A as L,B as M,E as F,F as z,G as B,H as U,J as $,K as G,M as q,N as H,Q as W,U as V,W as Y,X as J,Y as Q,Z as K}from"./vendor-ui-Bdpq3jDM.js";import{e as X,f as Z,d as ee,r as te,u as ne,h as re,L as ae,c as se,a as ie,b as le,i as oe,O as ce,N as ue,B as de,j as fe,k as me}from"./vendor-react-BjtW3kFX.js";import{c as pe,t as he,X as ge,C as xe,a as ve,b as ye,U as be,S as we,L as Ne,P as je,B as ke,d as Se,e as Ce,f as _e,g as Ee,m as De,h as Ae,i as Ie,M as Te,j as Oe,k as Pe,l as Re,n as Le,A as Me,V as Fe,o as ze,p as Be,q as Ue,R as $e,r as Ge,s as qe,u as He,v as We,T as Ve,w as Ye,F as Je,x as Qe,y as Ke,z as Xe,D as Ze,E as et,G as tt,H as nt,I as rt,J as at,K as st,N as it,O as lt,Q as ot,W as ct,Y as ut,Z as dt,_ as ft,$ as mt,a0 as pt,a1 as ht,a2 as gt,a3 as xt,a4 as vt,a5 as yt,a6 as bt,a7 as wt,a8 as Nt,a9 as jt,aa as kt,ab as St,ac as Ct,ad as _t,ae as Et,af as Dt,ag as At,ah as It,ai as Tt,aj as Ot,ak as Pt,al as Rt,am as Lt,an as Mt,ao as Ft,ap as zt,aq as Bt,ar as Ut,as as $t,at as Gt,au as qt,av as Ht,aw as Wt,ax as Vt,ay as Yt,az as Jt,aA as Qt}from"./vendor-utils-D-pDYK6I.js";import{c as Kt,S as Xt,T as Zt}from"./vendor-supabase-RjpU2EfH.js";import{H as en,a as tn,G as nn}from"./vendor-google-Bxysuc0V.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var rn,an,sn,ln,on={exports:{}},cn={},un={exports:{}},dn={};function fn(){return an||(an=1,un.exports=(rn||(rn=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,u=e[c];if(0>a(o,n))c<s&&0>a(u,o)?(e[r]=u,e[c]=n,r=c):(e[r]=o,e[l]=n,r=l);else{if(!(c<s&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var o=[],c=[],u=1,d=null,f=3,m=!1,p=!1,h=!1,g="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var a=n(c);null!==a;){if(null===a.callback)r(c);else{if(!(a.startTime<=e))break;r(c),a.sortIndex=a.expirationTime,t(o,a)}a=n(c)}}function b(e){if(h=!1,y(e),!p)if(null!==n(o))p=!0,A();else{var t=n(c);null!==t&&I(b,t.startTime-e)}}var w,N=!1,j=-1,k=5,S=-1;function C(){return!(e.unstable_now()-S<k)}function _(){if(N){var t=e.unstable_now();S=t;var a=!0;try{e:{p=!1,h&&(h=!1,x(j),j=-1),m=!0;var s=f;try{t:{for(y(t),d=n(o);null!==d&&!(d.expirationTime>t&&C());){var i=d.callback;if("function"==typeof i){d.callback=null,f=d.priorityLevel;var l=i(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){d.callback=l,y(t),a=!0;break t}d===n(o)&&r(o),y(t)}else r(o);d=n(o)}if(null!==d)a=!0;else{var u=n(c);null!==u&&I(b,u.startTime-t),a=!1}}break e}finally{d=null,f=s,m=!1}a=void 0}}finally{a?w():N=!1}}}if("function"==typeof v)w=function(){v(_)};else if("undefined"!=typeof MessageChannel){var E=new MessageChannel,D=E.port2;E.port1.onmessage=_,w=function(){D.postMessage(null)}}else w=function(){g(_,0)};function A(){N||(N=!0,w())}function I(t,n){j=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,A())},e.unstable_forceFrameRate=function(e){0>e||125<e||(k=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,a,s){var i=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,r){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return r={id:u++,callback:a,priorityLevel:r,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(r.sortIndex=s,t(c,r),null===n(o)&&r===n(c)&&(h?(x(j),j=-1):h=!0,I(b,s-i))):(r.sortIndex=l,t(o,r),p||m||(p=!0,A())),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(dn)),dn)),un.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function mn(){if(sn)return cn;sn=1;var e=fn(),t=X(),n=Z();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var s=Symbol.for("react.element"),i=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),b=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function N(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=w&&e[w]||e["@@iterator"])?e:null}var j=Symbol.for("react.client.reference");function k(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===j?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case o:return"Fragment";case l:return"Portal";case u:return"Profiler";case c:return"StrictMode";case h:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Provider";case f:return(e._context.displayName||"Context")+".Consumer";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:k(e.type)||"Memo";case v:t=e._payload,e=e._init;try{return k(e(t))}catch(n){}}return null}var S,C,_=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=Object.assign;function D(e){if(void 0===S)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||"",C=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+S+e+C}var A=!1;function I(e,t){if(!e||A)return"";A=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&r&&"string"==typeof l.stack)return[l.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],l=s[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(a=r=0;r<o.length&&!o[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===o.length||a===c.length)for(r=o.length-1,a=c.length-1;1<=r&&0<=a&&o[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(o[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||o[r]!==c[a]){var u="\n"+o[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{A=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?D(n):""}function T(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=I(e.type,!1);case 11:return e=I(e.type.render,!1);case 1:return e=I(e.type,!0);default:return""}}function O(e){try{var t="";do{t+=T(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function P(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function R(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function L(e){if(P(e)!==e)throw Error(r(188))}function M(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=M(e)))return t;e=e.sibling}return null}var F=Array.isArray,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},U=[],$=-1;function G(e){return{current:e}}function q(e){0>$||(e.current=U[$],U[$]=null,$--)}function H(e,t){$++,U[$]=e.current,e.current=t}var W=G(null),V=G(null),Y=G(null),J=G(null);function Q(e,t){switch(H(Y,t),H(V,e),H(W,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Zu(e=Xu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(W),H(W,t)}function K(){q(W),q(V),q(Y)}function ee(e){null!==e.memoizedState&&H(J,e);var t=W.current,n=Zu(t,e.type);t!==n&&(H(V,e),H(W,n))}function te(e){V.current===e&&(q(W),q(V)),J.current===e&&(q(J),Fd._currentValue=B)}var ne=Object.prototype.hasOwnProperty,re=e.unstable_scheduleCallback,ae=e.unstable_cancelCallback,se=e.unstable_shouldYield,ie=e.unstable_requestPaint,le=e.unstable_now,oe=e.unstable_getCurrentPriorityLevel,ce=e.unstable_ImmediatePriority,ue=e.unstable_UserBlockingPriority,de=e.unstable_NormalPriority,fe=e.unstable_LowPriority,me=e.unstable_IdlePriority,pe=e.log,he=e.unstable_setDisableYieldValue,ge=null,xe=null;function ve(e){if("function"==typeof pe&&he(e),xe&&"function"==typeof xe.setStrictMode)try{xe.setStrictMode(ge,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(be(e)/we|0)|0},be=Math.log,we=Math.LN2;var Ne=128,je=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Se(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=e.warmLanes;e=0!==e.finishedLanes;var l=134217727&n;return 0!==l?0!==(n=l&~a)?r=ke(n):0!==(s&=l)?r=ke(s):e||0!==(i=l&~i)&&(r=ke(i)):0!==(l=n&~a)?r=ke(l):0!==s?r=ke(s):e||0!==(i=n&~i)&&(r=ke(i)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||32===a&&4194176&i)?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=Ne;return!(4194176&(Ne<<=1))&&(Ne=128),e}function De(){var e=je;return!(62914560&(je<<=1))&&(je=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ye(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ye(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Pe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Re(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:Zd(e.type)}var Le=Math.random().toString(36).slice(2),Me="__reactFiber$"+Le,Fe="__reactProps$"+Le,ze="__reactContainer$"+Le,Be="__reactEvents$"+Le,Ue="__reactListeners$"+Le,$e="__reactHandles$"+Le,Ge="__reactResources$"+Le,qe="__reactMarker$"+Le;function He(e){delete e[Me],delete e[Fe],delete e[Be],delete e[Ue],delete e[$e]}function We(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ud(e);null!==e;){if(n=e[Me])return n;e=ud(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Me]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Je(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[qe]=!0}var Ke=new Set,Xe={};function Ze(e,t){et(e,t),et(e+"Capture",t)}function et(e,t){for(Xe[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var tt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rt={},at={};function st(e,t,n){if(a=t,ne.call(at,a)||!ne.call(rt,a)&&(nt.test(a)?at[a]=!0:(rt[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function pt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ht(e,t,n,r,a,s,i,l){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ot(t)):e.value!==""+ot(t)&&(e.value=""+ot(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?xt(e,i,ot(t)):null!=n?xt(e,i,ot(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!=typeof a),null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.name=""+ot(l):e.removeAttribute("name")}function gt(e,t,n,r,a,s,i,l){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+ot(n):"",t=null!=t?""+ot(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:a)&&"symbol"!=typeof r&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i)}function xt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function vt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ot(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function yt(e,t,n){null==t||((t=""+ot(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ot(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function bt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(r(92));if(F(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ot(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&jt(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&jt(e,i,t[i])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Dt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Tt=null;function Ot(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(ht(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Fe]||null;if(!s)throw Error(r(90));ht(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&dt(a)}break e;case"textarea":yt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&vt(e,!!n.multiple,t,!1)}}}var Pt=!1;function Rt(e,t,n){if(Pt)return e(t,n);Pt=!0;try{return e(t)}finally{if(Pt=!1,(null!==It||null!==Tt)&&(Bc(),It&&(t=It,e=Tt,Tt=It=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Fe]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Mt=!1;if(tt)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(kf){Mt=!1}var zt=null,Bt=null,Ut=null;function $t(){if(Ut)return Ut;var e,t,n=Bt,r=n.length,a="value"in zt?zt.value:zt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Ut=a.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Ht(){return!1}function Wt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?qt:Ht,this.isPropagationStopped=Ht,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Vt,Yt,Jt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kt=Wt(Qt),Xt=E({},Qt,{view:0,detail:0}),Zt=Wt(Xt),en=E({},Xt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Vt=e.screenX-Jt.screenX,Yt=e.screenY-Jt.screenY):Yt=Vt=0,Jt=e),Vt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),tn=Wt(en),nn=Wt(E({},en,{dataTransfer:0})),rn=Wt(E({},Xt,{relatedTarget:0})),an=Wt(E({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Wt(E({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),on=Wt(E({},Qt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function hn(){return pn}var gn=Wt(E({},Xt,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Wt(E({},en,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Wt(E({},Xt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),yn=Wt(E({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Wt(E({},en,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Wt(E({},Qt,{newState:0,oldState:0})),Nn=[9,13,27,32],jn=tt&&"CompositionEvent"in window,kn=null;tt&&"documentMode"in document&&(kn=document.documentMode);var Sn=tt&&"TextEvent"in window&&!kn,Cn=tt&&(!jn||kn&&8<kn&&11>=kn),_n=String.fromCharCode(32),En=!1;function Dn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function Pn(e,t,n,r){It?Tt?Tt.push(r):Tt=[r]:It=r,0<(t=Fu(t,"onChange")).length&&(n=new Kt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,Ln=null;function Mn(e){Au(e,0)}function Fn(e){if(dt(Ye(e)))return e}function zn(e,t){if("change"===e)return t}var Bn=!1;if(tt){var Un;if(tt){var $n="oninput"in document;if(!$n){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),$n="function"==typeof Gn.oninput}Un=$n}else Un=!1;Bn=Un&&(!document.documentMode||9<document.documentMode)}function qn(){Rn&&(Rn.detachEvent("onpropertychange",Hn),Ln=Rn=null)}function Hn(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];Pn(t,Ln,e,At(e)),Rt(Mn,t)}}function Wn(e,t,n){"focusin"===e?(qn(),Ln=n,(Rn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function Vn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Yn(e,t){if("click"===e)return Fn(t)}function Jn(e,t){if("input"===e||"change"===e)return Fn(t)}var Qn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Kn(e,t){if(Qn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!ne.call(t,a)||!Qn(e[a],t[a]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function er(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?er(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function rr(e,t){var n=tr(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&er(t.ownerDocument.documentElement,t)){if(null!==r&&nr(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var a=t.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!n.extend&&s>r&&(a=r,r=s,s=a),a=Zn(t,s);var i=Zn(t,r);a&&i&&(1!==n.rangeCount||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==i.node||n.focusOffset!==i.offset)&&((e=e.createRange()).setStart(a.node,a.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ar=tt&&"documentMode"in document&&11>=document.documentMode,sr=null,ir=null,lr=null,or=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==sr||sr!==ft(r)||("selectionStart"in(r=sr)&&nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Kn(lr,r)||(lr=r,0<(r=Fu(ir,"onSelect")).length&&(t=new Kt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},fr={},mr={};function pr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return fr[e]=n[t];return e}tt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var hr=pr("animationend"),gr=pr("animationiteration"),xr=pr("animationstart"),vr=pr("transitionrun"),yr=pr("transitionstart"),br=pr("transitioncancel"),wr=pr("transitionend"),Nr=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kr(e,t){Nr.set(e,t),Ze(t,[e])}var Sr=[],Cr=0,_r=0;function Er(){for(var e=Cr,t=_r=Cr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var a=Sr[t];Sr[t++]=null;var s=Sr[t];if(Sr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Tr(n,a,s)}}function Dr(e,t,n,r){Sr[Cr++]=e,Sr[Cr++]=t,Sr[Cr++]=n,Sr[Cr++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Dr(e,t,n,r),Or(e)}function Ir(e,t){return Dr(e,null,null,t),Or(e)}function Tr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;a&&null!==t&&3===e.tag&&(s=e.stateNode,a=31-ye(n),null===(e=(s=s.hiddenUpdates)[a])?s[a]=[t]:e.push(t),t.lane=536870912|n)}function Or(e){if(50<Ac)throw Ac=0,Ic=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pr={},Rr=new WeakMap;function Lr(e,t){if("object"==typeof e&&null!==e){var n=Rr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:O(t)},Rr.set(e,t),t)}return{value:e,source:t,stack:O(t)}}var Mr=[],Fr=0,zr=null,Br=0,Ur=[],$r=0,Gr=null,qr=1,Hr="";function Wr(e,t){Mr[Fr++]=Br,Mr[Fr++]=zr,zr=e,Br=t}function Vr(e,t,n){Ur[$r++]=qr,Ur[$r++]=Hr,Ur[$r++]=Gr,Gr=e;var r=qr;e=Hr;var a=32-ye(r)-1;r&=~(1<<a),n+=1;var s=32-ye(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,qr=1<<32-ye(t)+a|n<<a|r,Hr=s+e}else qr=1<<s|n<<a|r,Hr=e}function Yr(e){null!==e.return&&(Wr(e,1),Vr(e,1,0))}function Jr(e){for(;e===zr;)zr=Mr[--Fr],Mr[Fr]=null,Br=Mr[--Fr],Mr[Fr]=null;for(;e===Gr;)Gr=Ur[--$r],Ur[$r]=null,Hr=Ur[--$r],Ur[$r]=null,qr=Ur[--$r],Ur[$r]=null}var Qr=null,Kr=null,Xr=!1,Zr=null,ea=!1,ta=Error(r(519));function na(e){throw la(Lr(Error(r(418,"")),e)),ta}function ra(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Me]=e,t[Fe]=r,n){case"dialog":Iu("cancel",t),Iu("close",t);break;case"iframe":case"object":case"embed":Iu("load",t);break;case"video":case"audio":for(n=0;n<Eu.length;n++)Iu(Eu[n],t);break;case"source":Iu("error",t);break;case"img":case"image":case"link":Iu("error",t),Iu("load",t);break;case"details":Iu("toggle",t);break;case"input":Iu("invalid",t),gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ut(t);break;case"select":Iu("invalid",t);break;case"textarea":Iu("invalid",t),bt(t,r.value,r.defaultValue,r.children),ut(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||qu(t.textContent,n)?(null!=r.popover&&(Iu("beforetoggle",t),Iu("toggle",t)),null!=r.onScroll&&Iu("scroll",t),null!=r.onScrollEnd&&Iu("scrollend",t),null!=r.onClick&&(t.onclick=Hu),t=!0):t=!1,t||na(e)}function aa(e){for(Qr=e.return;Qr;)switch(Qr.tag){case 3:case 27:return void(ea=!0);case 5:case 13:return void(ea=!1);default:Qr=Qr.return}}function sa(e){if(e!==Qr)return!1;if(!Xr)return aa(e),Xr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ed(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Kr&&na(e),aa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Kr=cd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Kr=null}}else Kr=Qr?cd(e.stateNode.nextSibling):null;return!0}function ia(){Kr=Qr=null,Xr=!1}function la(e){null===Zr?Zr=[e]:Zr.push(e)}var oa=Error(r(460)),ca=Error(r(474)),ua={then:function(){}};function da(e){return"fulfilled"===(e=e.status)||"rejected"===e}function fa(){}function ma(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(fa,fa),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===oa)throw Error(r(483));throw e;default:if("string"==typeof t.status)t.then(fa,fa);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===oa)throw Error(r(483));throw e}throw pa=t,oa}}var pa=null;function ha(){if(null===pa)throw Error(r(459));var e=pa;return pa=null,e}var ga=null,xa=0;function va(e){var t=xa;return xa+=1,null===ga&&(ga=[]),ma(ga,e,t)}function ya(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ba(e,t){if(t.$$typeof===s)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wa(e){return(0,e._init)(e._payload)}function Na(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=zo(e,t)).index=0,e.sibling=null,e}function c(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=qo(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===o?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===v&&wa(a)===t.type)?(ya(t=s(t,n.props),n),t.return=e,t):(ya(t=Uo(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ho(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=$o(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function g(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=qo(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case i:return ya(n=Uo(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case l:return(t=Ho(t,e.mode,n)).return=e,t;case v:return g(e,t=(0,t._init)(t._payload),n)}if(F(t)||N(t))return(t=$o(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return g(e,va(t),n);if(t.$$typeof===m)return g(e,_l(e,t),n);ba(e,t)}return null}function x(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:d(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case i:return n.key===a?f(e,t,n,r):null;case l:return n.key===a?p(e,t,n,r):null;case v:return x(e,t,n=(a=n._init)(n._payload),r)}if(F(n)||N(n))return null!==a?null:h(e,t,n,r,null);if("function"==typeof n.then)return x(e,t,va(n),r);if(n.$$typeof===m)return x(e,t,_l(e,n),r);ba(e,n)}return null}function y(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return d(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case i:return f(t,e=e.get(null===r.key?n:r.key)||null,r,a);case l:return p(t,e=e.get(null===r.key?n:r.key)||null,r,a);case v:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(F(r)||N(r))return h(t,e=e.get(n)||null,r,a,null);if("function"==typeof r.then)return y(e,t,n,va(r),a);if(r.$$typeof===m)return y(e,t,n,_l(t,r),a);ba(t,r)}return null}function b(d,f,p,h){if("object"==typeof p&&null!==p&&p.type===o&&null===p.key&&(p=p.props.children),"object"==typeof p&&null!==p){switch(p.$$typeof){case i:e:{for(var w=p.key;null!==f;){if(f.key===w){if((w=p.type)===o){if(7===f.tag){n(d,f.sibling),(h=s(f,p.props.children)).return=d,d=h;break e}}else if(f.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===v&&wa(w)===f.type){n(d,f.sibling),ya(h=s(f,p.props),p),h.return=d,d=h;break e}n(d,f);break}t(d,f),f=f.sibling}p.type===o?((h=$o(p.props.children,d.mode,h,p.key)).return=d,d=h):(ya(h=Uo(p.type,p.key,p.props,null,d.mode,h),p),h.return=d,d=h)}return u(d);case l:e:{for(w=p.key;null!==f;){if(f.key===w){if(4===f.tag&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(d,f.sibling),(h=s(f,p.children||[])).return=d,d=h;break e}n(d,f);break}t(d,f),f=f.sibling}(h=Ho(p,d.mode,h)).return=d,d=h}return u(d);case v:return b(d,f,p=(w=p._init)(p._payload),h)}if(F(p))return function(r,s,i,l){for(var o=null,u=null,d=s,f=s=0,m=null;null!==d&&f<i.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var p=x(r,d,i[f],l);if(null===p){null===d&&(d=m);break}e&&d&&null===p.alternate&&t(r,d),s=c(p,s,f),null===u?o=p:u.sibling=p,u=p,d=m}if(f===i.length)return n(r,d),Xr&&Wr(r,f),o;if(null===d){for(;f<i.length;f++)null!==(d=g(r,i[f],l))&&(s=c(d,s,f),null===u?o=d:u.sibling=d,u=d);return Xr&&Wr(r,f),o}for(d=a(d);f<i.length;f++)null!==(m=y(d,r,f,i[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),s=c(m,s,f),null===u?o=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(r,e)}),Xr&&Wr(r,f),o}(d,f,p,h);if(N(p)){if("function"!=typeof(w=N(p)))throw Error(r(150));return function(s,i,l,o){if(null==l)throw Error(r(151));for(var u=null,d=null,f=i,m=i=0,p=null,h=l.next();null!==f&&!h.done;m++,h=l.next()){f.index>m?(p=f,f=null):p=f.sibling;var v=x(s,f,h.value,o);if(null===v){null===f&&(f=p);break}e&&f&&null===v.alternate&&t(s,f),i=c(v,i,m),null===d?u=v:d.sibling=v,d=v,f=p}if(h.done)return n(s,f),Xr&&Wr(s,m),u;if(null===f){for(;!h.done;m++,h=l.next())null!==(h=g(s,h.value,o))&&(i=c(h,i,m),null===d?u=h:d.sibling=h,d=h);return Xr&&Wr(s,m),u}for(f=a(f);!h.done;m++,h=l.next())null!==(h=y(f,s,m,h.value,o))&&(e&&null!==h.alternate&&f.delete(null===h.key?m:h.key),i=c(h,i,m),null===d?u=h:d.sibling=h,d=h);return e&&f.forEach(function(e){return t(s,e)}),Xr&&Wr(s,m),u}(d,f,p=w.call(p),h)}if("function"==typeof p.then)return b(d,f,va(p),h);if(p.$$typeof===m)return b(d,f,_l(d,p),h);ba(d,p)}return"string"==typeof p&&""!==p||"number"==typeof p||"bigint"==typeof p?(p=""+p,null!==f&&6===f.tag?(n(d,f.sibling),(h=s(f,p)).return=d,d=h):(n(d,f),(h=qo(p,d.mode,h)).return=d,d=h),u(d)):n(d,f)}return function(e,t,n,r){try{xa=0;var a=b(e,t,n,r);return ga=null,a}catch(i){if(i===oa)throw i;var s=Mo(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var ja=Na(!0),ka=Na(!1),Sa=G(null),Ca=G(0);function _a(e,t){H(Ca,e=dc),H(Sa,t),dc=e|t.baseLanes}function Ea(){H(Ca,dc),H(Sa,Sa.current)}function Da(){dc=Ca.current,q(Sa),q(Ca)}var Aa=G(null),Ia=null;function Ta(e){var t=e.alternate;H(La,1&La.current),H(Aa,e),null===Ia&&(null===t||null!==Sa.current||null!==t.memoizedState)&&(Ia=e)}function Oa(e){if(22===e.tag){if(H(La,La.current),H(Aa,e),null===Ia){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ia=e)}}else Pa()}function Pa(){H(La,La.current),H(Aa,Aa.current)}function Ra(e){q(Aa),Ia===e&&(Ia=null),q(La)}var La=G(0);function Ma(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},za=e.unstable_scheduleCallback,Ba=e.unstable_NormalPriority,Ua={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $a(){return{controller:new Fa,data:new Map,refCount:0}}function Ga(e){e.refCount--,0===e.refCount&&za(Ba,function(){e.controller.abort()})}var qa=null,Ha=0,Wa=0,Va=null;function Ya(){if(0===--Ha&&null!==qa){null!==Va&&(Va.status="fulfilled");var e=qa;qa=null,Wa=0,Va=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ja=_.S;_.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===qa){var n=qa=[];Ha=0,Wa=ju(),Va={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ha++,t.then(Ya,Ya)}(0,t),null!==Ja&&Ja(e,t)};var Qa=G(null);function Ka(){var e=Qa.current;return null!==e?e:rc.pooledCache}function Xa(e,t){H(Qa,null===t?Qa.current:t.pool)}function Za(){var e=Ka();return null===e?null:{parent:Ua._currentValue,pool:e}}var es=0,ts=null,ns=null,rs=null,as=!1,ss=!1,is=!1,ls=0,os=0,cs=null,us=0;function ds(){throw Error(r(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,a,s){return es=s,ts=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=null===e||null===e.memoizedState?_i:Ei,is=!1,s=n(r,a),is=!1,ss&&(s=hs(t,n,r,a)),ps(e),s}function ps(e){_.H=Ci;var t=null!==ns&&null!==ns.next;if(es=0,rs=ns=ts=null,as=!1,os=0,cs=null,t)throw Error(r(300));null===e||Hi||null!==(e=e.dependencies)&&kl(e)&&(Hi=!0)}function hs(e,t,n,a){ts=e;var s=0;do{if(ss&&(cs=null),os=0,ss=!1,25<=s)throw Error(r(301));if(s+=1,rs=ns=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}_.H=Di,i=t(n,a)}while(ss);return i}function gs(){var e=_.H,t=e.useState()[0];return t="function"==typeof t.then?Ns(t):t,e=e.useState()[0],(null!==ns?ns.memoizedState:null)!==e&&(ts.flags|=1024),t}function xs(){var e=0!==ls;return ls=0,e}function vs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ys(e){if(as){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}as=!1}es=0,rs=ns=ts=null,ss=!1,os=ls=0,cs=null}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===rs?ts.memoizedState=rs=e:rs=rs.next=e,rs}function ws(){if(null===ns){var e=ts.alternate;e=null!==e?e.memoizedState:null}else e=ns.next;var t=null===rs?ts.memoizedState:rs.next;if(null!==t)rs=t,ns=e;else{if(null===e){if(null===ts.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(ns=e).memoizedState,baseState:ns.baseState,baseQueue:ns.baseQueue,queue:ns.queue,next:null},null===rs?ts.memoizedState=rs=e:rs=rs.next=e}return rs}function Ns(e){var t=os;return os+=1,null===cs&&(cs=[]),e=ma(cs,e,t),t=ts,null===(null===rs?t.memoizedState:rs.next)&&(t=t.alternate,_.H=null===t||null===t.memoizedState?_i:Ei),e}function js(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Ns(e);if(e.$$typeof===m)return Cl(e)}throw Error(r(438,String(e)))}function ks(e){var t=null,n=ts.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ts.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ts.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=b;return t.index++,n}function Ss(e,t){return"function"==typeof t?t(e):t}function Cs(e){return _s(ws(),ns,e)}function _s(e,t,n){var a=e.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(null!==i){if(null!==s){var l=s.next;s.next=i.next,i.next=l}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var o=l=null,c=null,u=t=s.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(sc&f)===f:(es&f)===f){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Wa&&(d=!0);else{if((es&m)===m){u=u.next,m===Wa&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=f,l=i):c=c.next=f,ts.lanes|=m,mc|=m}f=u.action,is&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,l=i):c=c.next=m,ts.lanes|=f,mc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?l=i:c.next=o,!Qn(i,e.memoizedState)&&(Hi=!0,d&&null!==(n=Va)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=c,a.lastRenderedState=i}return null===s&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Es(e){var t=ws(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var l=s=s.next;do{i=e(i,l.action),l=l.next}while(l!==s);Qn(i,t.memoizedState)||(Hi=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Ds(e,t,n){var a=ts,s=ws(),i=Xr;if(i){if(void 0===n)throw Error(r(407));n=n()}else n=t();var l=!Qn((ns||s).memoizedState,n);if(l&&(s.memoizedState=n,Hi=!0),s=s.queue,ei(Ts.bind(null,a,s,e),[e]),s.getSnapshot!==t||l||null!==rs&&1&rs.memoizedState.tag){if(a.flags|=2048,Js(9,Is.bind(null,a,s,n,t),{destroy:void 0},null),null===rc)throw Error(r(349));i||60&es||As(a,t,n)}return n}function As(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ts.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ts.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,Os(t)&&Ps(e)}function Ts(e,t,n){return n(function(){Os(t)&&Ps(e)})}function Os(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Ps(e){var t=Ir(e,2);null!==t&&Pc(t,e,2)}function Rs(e){var t=bs();if("function"==typeof e){var n=e;if(e=n(),is){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:e},t}function Ls(e,t,n,r){return e.baseState=n,_s(e,ns,"function"==typeof r?r:Ss)}function Ms(e,t,n,a,s){if(ji(e))throw Error(r(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==_.T?n(!0):i.isTransition=!1,a(i),null===(n=t.pending)?(i.next=t.pending=i,Fs(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Fs(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=_.T,i={};_.T=i;try{var l=n(a,r),o=_.S;null!==o&&o(i,l),zs(e,t,l)}catch(c){Us(e,t,c)}finally{_.T=s}}else try{zs(e,t,s=n(a,r))}catch(u){Us(e,t,u)}}function zs(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Bs(e,t,n)},function(n){return Us(e,t,n)}):Bs(e,t,n)}function Bs(e,t,n){t.status="fulfilled",t.value=n,$s(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Fs(e,n)))}function Us(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,$s(t),t=t.next}while(t!==r)}e.action=null}function $s(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gs(e,t){return t}function qs(e,t){if(Xr){var n=rc.formState;if(null!==n){e:{var r=ts;if(Xr){if(Kr){t:{for(var a=Kr,s=ea;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=cd(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){Kr=cd(a.nextSibling),r="F!"===a.data;break e}}na(r)}r=!1}r&&(t=n[0])}}return(n=bs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:t},n.queue=r,n=bi.bind(null,ts,r),r.dispatch=n,r=Rs(!1),s=Ni.bind(null,ts,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=bs()).queue=a,n=Ms.bind(null,ts,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Hs(e){return Ws(ws(),ns,e)}function Ws(e,t,n){t=_s(e,t,Gs)[0],e=Cs(Ss)[0],t="object"==typeof t&&null!==t&&"function"==typeof t.then?Ns(t):t;var r=ws(),a=r.queue,s=a.dispatch;return n!==r.memoizedState&&(ts.flags|=2048,Js(9,Vs.bind(null,a,n),{destroy:void 0},null)),[t,s,e]}function Vs(e,t){e.action=t}function Ys(e){var t=ws(),n=ns;if(null!==n)return Ws(t,n,e);ws(),t=t.memoizedState;var r=(n=ws()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Js(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=ts.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ts.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Qs(){return ws().memoizedState}function Ks(e,t,n,r){var a=bs();ts.flags|=e,a.memoizedState=Js(1|t,n,{destroy:void 0},void 0===r?null:r)}function Xs(e,t,n,r){var a=ws();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==ns&&null!==r&&fs(r,ns.memoizedState.deps)?a.memoizedState=Js(t,n,s,r):(ts.flags|=e,a.memoizedState=Js(1|t,n,s,r))}function Zs(e,t){Ks(8390656,8,e,t)}function ei(e,t){Xs(2048,8,e,t)}function ti(e,t){return Xs(4,2,e,t)}function ni(e,t){return Xs(4,4,e,t)}function ri(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ai(e,t,n){n=null!=n?n.concat([e]):null,Xs(4,4,ri.bind(null,t,e),n)}function si(){}function ii(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&fs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function li(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&fs(t,r[1]))return r[0];if(r=e(),is){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function oi(e,t,n){return void 0===n||1073741824&es?e.memoizedState=t:(e.memoizedState=n,e=Oc(),ts.lanes|=e,mc|=e,n)}function ci(e,t,n,r){return Qn(n,t)?n:null!==Sa.current?(e=oi(e,n,r),Qn(e,t)||(Hi=!0),e):42&es?(e=Oc(),ts.lanes|=e,mc|=e,t):(Hi=!0,e.memoizedState=n)}function ui(e,t,n,r,a){var s=z.p;z.p=0!==s&&8>s?s:8;var i,l,o,c=_.T,u={};_.T=u,Ni(e,!1,t,n);try{var d=a(),f=_.S;if(null!==f&&f(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)wi(e,t,(i=r,l=[],o={status:"pending",value:null,reason:null,then:function(e){l.push(e)}},d.then(function(){o.status="fulfilled",o.value=i;for(var e=0;e<l.length;e++)(0,l[e])(i)},function(e){for(o.status="rejected",o.reason=e,e=0;e<l.length;e++)(0,l[e])(void 0)}),o),Tc());else wi(e,t,r,Tc())}catch(m){wi(e,t,{then:function(){},status:"rejected",reason:m},Tc())}finally{z.p=s,_.T=c}}function di(){}function fi(e,t,n,a){if(5!==e.tag)throw Error(r(476));var s=mi(e).queue;ui(e,s,t,B,null===n?di:function(){return pi(e),n(a)})}function mi(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:B},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function pi(e){wi(e,mi(e).next.queue,{},Tc())}function hi(){return Cl(Fd)}function gi(){return ws().memoizedState}function xi(){return ws().memoizedState}function vi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Tc(),r=Ol(t,e=Tl(n),n);return null!==r&&(Pc(r,t,n),Pl(r,t,n)),t={cache:$a()},void(e.payload=t)}t=t.return}}function yi(e,t,n){var r=Tc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ji(e)?ki(t,n):null!==(n=Ar(e,t,n,r))&&(Pc(n,e,r),Si(n,t,r))}function bi(e,t,n){wi(e,t,n,Tc())}function wi(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ji(e))ki(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,n);if(a.hasEagerState=!0,a.eagerState=l,Qn(l,i))return Dr(e,t,a,0),null===rc&&Er(),!1}catch(o){}if(null!==(n=Ar(e,t,a,r)))return Pc(n,e,r),Si(n,t,r),!0}return!1}function Ni(e,t,n,a){if(a={lane:2,revertLane:ju(),action:a,hasEagerState:!1,eagerState:null,next:null},ji(e)){if(t)throw Error(r(479))}else null!==(t=Ar(e,n,a,2))&&Pc(t,e,2)}function ji(e){var t=e.alternate;return e===ts||null!==t&&t===ts}function ki(e,t){ss=as=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Si(e,t,n){if(4194176&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var Ci={readContext:Cl,use:js,useCallback:ds,useContext:ds,useEffect:ds,useImperativeHandle:ds,useLayoutEffect:ds,useInsertionEffect:ds,useMemo:ds,useReducer:ds,useRef:ds,useState:ds,useDebugValue:ds,useDeferredValue:ds,useTransition:ds,useSyncExternalStore:ds,useId:ds};Ci.useCacheRefresh=ds,Ci.useMemoCache=ds,Ci.useHostTransitionStatus=ds,Ci.useFormState=ds,Ci.useActionState=ds,Ci.useOptimistic=ds;var _i={readContext:Cl,use:js,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:Cl,useEffect:Zs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Ks(4194308,4,ri.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ks(4194308,4,e,t)},useInsertionEffect:function(e,t){Ks(4,2,e,t)},useMemo:function(e,t){var n=bs();t=void 0===t?null:t;var r=e();if(is){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bs();if(void 0!==n){var a=n(t);if(is){ve(!0);try{n(t)}finally{ve(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=yi.bind(null,ts,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:function(e){var t=(e=Rs(e)).queue,n=bi.bind(null,ts,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:si,useDeferredValue:function(e,t){return oi(bs(),e,t)},useTransition:function(){var e=Rs(!1);return e=ui.bind(null,ts,e.queue,!0,!1),bs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ts,s=bs();if(Xr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===rc)throw Error(r(349));60&sc||As(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Zs(Ts.bind(null,a,i,e),[e]),a.flags|=2048,Js(9,Is.bind(null,a,i,n,t),{destroy:void 0},null),n},useId:function(){var e=bs(),t=rc.identifierPrefix;if(Xr){var n=Hr;t=":"+t+"R"+(n=(qr&~(1<<32-ye(qr)-1)).toString(32)+n),0<(n=ls++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=us++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bs().memoizedState=vi.bind(null,ts)}};_i.useMemoCache=ks,_i.useHostTransitionStatus=hi,_i.useFormState=qs,_i.useActionState=qs,_i.useOptimistic=function(e){var t=bs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ni.bind(null,ts,!0,n),n.dispatch=t,[e,t]};var Ei={readContext:Cl,use:js,useCallback:ii,useContext:Cl,useEffect:ei,useImperativeHandle:ai,useInsertionEffect:ti,useLayoutEffect:ni,useMemo:li,useReducer:Cs,useRef:Qs,useState:function(){return Cs(Ss)},useDebugValue:si,useDeferredValue:function(e,t){return ci(ws(),ns.memoizedState,e,t)},useTransition:function(){var e=Cs(Ss)[0],t=ws().memoizedState;return["boolean"==typeof e?e:Ns(e),t]},useSyncExternalStore:Ds,useId:gi};Ei.useCacheRefresh=xi,Ei.useMemoCache=ks,Ei.useHostTransitionStatus=hi,Ei.useFormState=Hs,Ei.useActionState=Hs,Ei.useOptimistic=function(e,t){return Ls(ws(),0,e,t)};var Di={readContext:Cl,use:js,useCallback:ii,useContext:Cl,useEffect:ei,useImperativeHandle:ai,useInsertionEffect:ti,useLayoutEffect:ni,useMemo:li,useReducer:Es,useRef:Qs,useState:function(){return Es(Ss)},useDebugValue:si,useDeferredValue:function(e,t){var n=ws();return null===ns?oi(n,e,t):ci(n,ns.memoizedState,e,t)},useTransition:function(){var e=Es(Ss)[0],t=ws().memoizedState;return["boolean"==typeof e?e:Ns(e),t]},useSyncExternalStore:Ds,useId:gi};function Ai(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:E({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Di.useCacheRefresh=xi,Di.useMemoCache=ks,Di.useHostTransitionStatus=hi,Di.useFormState=Ys,Di.useActionState=Ys,Di.useOptimistic=function(e,t){var n=ws();return null!==ns?Ls(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Ii={isMounted:function(e){return!!(e=e._reactInternals)&&P(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tc(),a=Tl(r);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ol(e,a,r))&&(Pc(t,e,r),Pl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tc(),a=Tl(r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ol(e,a,r))&&(Pc(t,e,r),Pl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tc(),r=Tl(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=Ol(e,r,n))&&(Pc(t,e,n),Pl(t,e,n))}};function Ti(e,t,n,r,a,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Kn(n,r)||!Kn(a,s))}function Oi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ii.enqueueReplaceState(t,t.state,null)}function Pi(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=E({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var Ri="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function Li(e){Ri(e)}function Mi(e){}function Fi(e){Ri(e)}function zi(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Bi(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ui(e,t,n){return(n=Tl(n)).tag=3,n.payload={element:null},n.callback=function(){zi(e,t)},n}function $i(e){return(e=Tl(e)).tag=3,e}function Gi(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"==typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){Bi(t,n,r)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){Bi(t,n,r),"function"!=typeof a&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var qi=Error(r(461)),Hi=!1;function Wi(e,t,n,r){t.child=null===e?ka(t,null,n,r):ja(t,e.child,n,r)}function Vi(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var l in r)"ref"!==l&&(i[l]=r[l])}else i=r;return Sl(t),r=ms(e,t,n,i,s,a),l=xs(),null===e||Hi?(Xr&&l&&Yr(t),t.flags|=1,Wi(e,t,r,a),t.child):(vs(e,t,a),ml(e,t,a))}function Yi(e,t,n,r,a){if(null===e){var s=n.type;return"function"!=typeof s||Fo(s)||void 0!==s.defaultProps||null!==n.compare?((e=Uo(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ji(e,t,s,r,a))}if(s=e.child,!pl(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(i,r)&&e.ref===t.ref)return ml(e,t,a)}return t.flags|=1,(e=zo(s,r)).ref=t.ref,e.return=t,t.child=e}function Ji(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Kn(s,r)&&e.ref===t.ref){if(Hi=!1,t.pendingProps=r=s,!pl(e,a))return t.lanes=e.lanes,ml(e,t,a);131072&e.flags&&(Hi=!0)}}return Zi(e,t,n,r,a)}function Qi(e,t,n){var r=t.pendingProps,a=r.children,s=!!(2&t.stateNode._pendingVisibility),i=null!==e?e.memoizedState:null;if(Xi(e,t),"hidden"===r.mode||s){if(128&t.flags){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Ki(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ki(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xa(0,null!==i?i.cachePool:null),null!==i?_a(t,i):Ea(),Oa(t)}else null!==i?(Xa(0,i.cachePool),_a(t,i),Pa(),t.memoizedState=null):(null!==e&&Xa(0,null),Ea(),Pa());return Wi(e,t,a,n),t.child}function Ki(e,t,n,r){var a=Ka();return a=null===a?null:{parent:Ua._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Xa(0,null),Ea(),Oa(t),null!==e&&jl(e,t,r,!0),null}function Xi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Zi(e,t,n,r,a){return Sl(t),n=ms(e,t,n,r,void 0,a),r=xs(),null===e||Hi?(Xr&&r&&Yr(t),t.flags|=1,Wi(e,t,n,a),t.child):(vs(e,t,a),ml(e,t,a))}function el(e,t,n,r,a,s){return Sl(t),t.updateQueue=null,n=hs(t,r,n,a),ps(e),r=xs(),null===e||Hi?(Xr&&r&&Yr(t),t.flags|=1,Wi(e,t,n,s),t.child):(vs(e,t,s),ml(e,t,s))}function tl(e,t,n,r,a){if(Sl(t),null===t.stateNode){var s=Pr,i=n.contextType;"object"==typeof i&&null!==i&&(s=Cl(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Ii,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},Al(t),i=n.contextType,s.context="object"==typeof i&&null!==i?Cl(i):Pr,s.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(Ai(t,n,i,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&Ii.enqueueReplaceState(s,s.state,null),Fl(t,r,s,a),Ml(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var l=t.memoizedProps,o=Pi(n,l);s.props=o;var c=s.context,u=n.contextType;i=Pr,"object"==typeof u&&null!==u&&(i=Cl(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,l=t.pendingProps!==l,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l||c!==i)&&Oi(t,s,r,i),Dl=!1;var f=t.memoizedState;s.state=f,Fl(t,r,s,a),Ml(),c=t.memoizedState,l||f!==c||Dl?("function"==typeof d&&(Ai(t,n,d,r),c=t.memoizedState),(o=Dl||Ti(t,n,o,r,f,c,i))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Il(e,t),u=Pi(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,f=s.context,c=n.contextType,o=Pr,"object"==typeof c&&null!==c&&(o=Cl(c)),(c="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==d||f!==o)&&Oi(t,s,r,o),Dl=!1,f=t.memoizedState,s.state=f,Fl(t,r,s,a),Ml();var m=t.memoizedState;i!==d||f!==m||Dl||null!==e&&null!==e.dependencies&&kl(e.dependencies)?("function"==typeof l&&(Ai(t,n,l,r),m=t.memoizedState),(u=Dl||Ti(t,n,u,r,f,m,o)||null!==e&&null!==e.dependencies&&kl(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,o),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,o)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=o,r=u):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Xi(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,n,a)):Wi(e,t,n,a),t.memoizedState=s.state,e=t.child):e=ml(e,t,a),e}function nl(e,t,n,r){return ia(),t.flags|=256,Wi(e,t,n,r),t.child}var rl={dehydrated:null,treeContext:null,retryLane:0};function al(e){return{baseLanes:e,cachePool:Za()}}function sl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function il(e,t,n){var a,s=t.pendingProps,i=!1,l=!!(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&!!(2&La.current)),a&&(i=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(Xr){if(i?Ta(t):Pa(),Xr){var o,c=Kr;if(o=c){e:{for(o=c,c=ea;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=cd(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Gr?{id:qr,overflow:Hr}:null,retryLane:536870912},(o=Mo(18,null,null,0)).stateNode=c,o.return=t,t.child=o,Qr=t,Kr=null,o=!0):o=!1}o||na(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Ra(t)}return c=s.children,s=s.fallback,i?(Pa(),c=ol({mode:"hidden",children:c},i=t.mode),s=$o(s,i,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(i=t.child).memoizedState=al(n),i.childLanes=sl(e,a,n),t.memoizedState=rl,s):(Ta(t),ll(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(l)256&t.flags?(Ta(t),t.flags&=-257,t=cl(e,t,n)):null!==t.memoizedState?(Pa(),t.child=e.child,t.flags|=128,t=null):(Pa(),i=s.fallback,c=t.mode,s=ol({mode:"visible",children:s.children},c),(i=$o(i,c,n,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,ja(t,e.child,null,n),(s=t.child).memoizedState=al(n),s.childLanes=sl(e,a,n),t.memoizedState=rl,t=i);else if(Ta(t),"$!"===c.data){if(a=c.nextSibling&&c.nextSibling.dataset)var u=a.dgst;a=u,(s=Error(r(419))).stack="",s.digest=a,la({value:s,source:null,stack:null}),t=cl(e,t,n)}else if(Hi||jl(e,t,n,!1),a=0!==(n&e.childLanes),Hi||a){if(null!==(a=rc)){if(42&(s=n&-n))s=1;else switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=64;break;case 268435456:s=134217728;break;default:s=0}if(0!==(s=0!==(s&(a.suspendedLanes|n))?0:s)&&s!==o.retryLane)throw o.retryLane=s,Ir(e,s),Pc(a,e,s),qi}"$?"===c.data||Wc(),t=cl(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=cu.bind(null,e),c._reactRetry=t,t=null):(e=o.treeContext,Kr=cd(c.nextSibling),Qr=t,Xr=!0,Zr=null,ea=!1,null!==e&&(Ur[$r++]=qr,Ur[$r++]=Hr,Ur[$r++]=Gr,qr=e.id,Hr=e.overflow,Gr=t),(t=ll(t,s.children)).flags|=4096);return t}return i?(Pa(),i=s.fallback,c=t.mode,u=(o=e.child).sibling,(s=zo(o,{mode:"hidden",children:s.children})).subtreeFlags=31457280&o.subtreeFlags,null!==u?i=zo(u,i):(i=$o(i,c,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,null===(c=e.child.memoizedState)?c=al(n):(null!==(o=c.cachePool)?(u=Ua._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Za(),c={baseLanes:c.baseLanes|n,cachePool:o}),i.memoizedState=c,i.childLanes=sl(e,a,n),t.memoizedState=rl,s):(Ta(t),e=(n=e.child).sibling,(n=zo(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function ll(e,t){return(t=ol({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ol(e,t){return Go(e,t,0,null)}function cl(e,t,n){return ja(t,e.child,null,n),(e=ll(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ul(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wl(e.return,t,n)}function dl(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function fl(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Wi(e,t,r.children,n),2&(r=La.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ul(e,n,t);else if(19===e.tag)ul(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(H(La,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Ma(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),dl(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ma(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}dl(t,!0,n,null,s);break;case"together":dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(jl(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=zo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function pl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!kl(e))}function hl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Hi=!0;else{if(!(pl(e,n)||128&t.flags))return Hi=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),yl(t,Ua,e.memoizedState.cache),ia();break;case 27:case 5:ee(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:yl(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ta(t),t.flags|=128,null):0!==(n&t.child.childLanes)?il(e,t,n):(Ta(t),null!==(e=ml(e,t,n))?e.sibling:null);Ta(t);break;case 19:var a=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(jl(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return fl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),H(La,La.current),r)break;return null;case 22:case 23:return t.lanes=0,Qi(e,t,n);case 24:yl(t,Ua,e.memoizedState.cache)}return ml(e,t,n)}(e,t,n);Hi=!!(131072&e.flags)}else Hi=!1,Xr&&1048576&t.flags&&Vr(t,Br,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,s=a._init;if(a=s(a._payload),t.type=a,"function"!=typeof a){if(null!=a){if((s=a.$$typeof)===p){t.tag=11,t=Vi(null,t,a,e,n);break e}if(s===x){t.tag=14,t=Yi(null,t,a,e,n);break e}}throw t=k(a)||a,Error(r(306,t,""))}Fo(a)?(e=Pi(a,e),t.tag=1,t=tl(null,t,a,e,n)):(t.tag=0,t=Zi(null,t,a,e,n))}return t;case 0:return Zi(e,t,t.type,t.pendingProps,n);case 1:return tl(e,t,a=t.type,s=Pi(a,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(r(387));var i=t.pendingProps;a=(s=t.memoizedState).element,Il(e,t),Fl(t,i,null,n);var l=t.memoizedState;if(i=l.cache,yl(t,Ua,i),i!==s.cache&&Nl(t,[Ua],n,!0),Ml(),i=l.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=nl(e,t,i,n);break e}if(i!==a){la(a=Lr(Error(r(424)),t)),t=nl(e,t,i,n);break e}for(Kr=cd(t.stateNode.containerInfo.firstChild),Qr=t,Xr=!0,Zr=null,ea=!0,n=ka(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ia(),i===a){t=ml(e,t,n);break e}Wi(e,t,i,n)}t=t.child}return t;case 26:return Xi(e,t),null===e?(n=vd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Xr||(n=t.type,e=t.pendingProps,(a=Ku(Y.current).createElement(n))[Me]=t,a[Fe]=e,Yu(a,n,e),Qe(a),t.stateNode=a):t.memoizedState=vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ee(t),null===e&&Xr&&(a=t.stateNode=dd(t.type,t.pendingProps,Y.current),Qr=t,ea=!0,Kr=cd(a.firstChild)),a=t.pendingProps.children,null!==e||Xr?Wi(e,t,a,n):t.child=ja(t,null,a,n),Xi(e,t),t.child;case 5:return null===e&&Xr&&((s=a=Kr)&&(null!==(a=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=cd(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,ea))?(t.stateNode=a,Qr=t,Kr=cd(a.firstChild),ea=!1,s=!0):s=!1),s||na(t)),ee(t),s=t.type,i=t.pendingProps,l=null!==e?e.memoizedProps:null,a=i.children,ed(s,i)?a=null:null!==l&&ed(s,l)&&(t.flags|=32),null!==t.memoizedState&&(s=ms(e,t,gs,null,null,n),Fd._currentValue=s),Xi(e,t),Wi(e,t,a,n),t.child;case 6:return null===e&&Xr&&((e=n=Kr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=cd(e.nextSibling)))return null}return e}(n,t.pendingProps,ea))?(t.stateNode=n,Qr=t,Kr=null,e=!0):e=!1),e||na(t)),null;case 13:return il(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ja(t,null,a,n):Wi(e,t,a,n),t.child;case 11:return Vi(e,t,t.type,t.pendingProps,n);case 7:return Wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wi(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,yl(t,t.type,a.value),Wi(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Sl(t),a=a(s=Cl(s)),t.flags|=1,Wi(e,t,a,n),t.child;case 14:return Yi(e,t,t.type,t.pendingProps,n);case 15:return Ji(e,t,t.type,t.pendingProps,n);case 19:return fl(e,t,n);case 22:return Qi(e,t,n);case 24:return Sl(t),a=Cl(Ua),null===e?(null===(s=Ka())&&(s=rc,i=$a(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},Al(t),yl(t,Ua,s)):(0!==(e.lanes&n)&&(Il(e,t),Fl(t,null,null,n),Ml()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),yl(t,Ua,a)):(a=i.cache,yl(t,Ua,a),a!==s.cache&&Nl(t,[Ua],n,!0))),Wi(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}var gl=G(null),xl=null,vl=null;function yl(e,t,n){H(gl,t._currentValue),t._currentValue=n}function bl(e){e._currentValue=gl.current,q(gl)}function wl(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nl(e,t,n,a){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var l=s.child;i=i.firstContext;e:for(;null!==i;){var o=i;i=s;for(var c=0;c<t.length;c++)if(o.context===t[c]){i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),wl(i.return,n,e),a||(l=null);break e}i=o.next}}else if(18===s.tag){if(null===(l=s.return))throw Error(r(341));l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),wl(l,n,e),l=null}else l=s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===e){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}}function jl(e,t,n,a){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(524288&s.flags)i=!0;else if(262144&s.flags)break;if(10===s.tag){var l=s.alternate;if(null===l)throw Error(r(387));if(null!==(l=l.memoizedProps)){var o=s.type;Qn(s.pendingProps.value,l.value)||(null!==e?e.push(o):e=[o])}}else if(s===J.current){if(null===(l=s.alternate))throw Error(r(387));l.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Fd):e=[Fd])}s=s.return}null!==e&&Nl(t,e,n,a),t.flags|=262144}function kl(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sl(e){xl=e,vl=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Cl(e){return El(xl,e)}function _l(e,t){return null===xl&&Sl(e),El(e,t)}function El(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vl){if(null===e)throw Error(r(308));vl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vl=vl.next=t;return n}var Dl=!1;function Al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Il(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ol(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&nc){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Or(e),Tr(e,null,n),t}return Dr(e,r,t,n),Or(e)}function Pl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function Rl(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ll=!1;function Ml(){if(Ll){if(null!==Va)throw Va}}function Fl(e,t,n,r){Ll=!1;var a=e.updateQueue;Dl=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==s){var d=a.baseState;for(i=0,u=c=o=null,l=s;;){var f=-536870913&l.lane,m=f!==l.lane;if(m?(sc&f)===f:(r&f)===f){0!==f&&f===Wa&&(Ll=!0),null!==u&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,h=l;f=t;var g=n;switch(h.tag){case 1:if("function"==typeof(p=h.payload)){d=p.call(g,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=h.payload)?p.call(g,d,f):p))break e;d=E({},d,f);break e;case 2:Dl=!0}}null!==(f=l.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=a.callbacks)?a.callbacks=[f]:m.push(f))}else m={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=m,o=d):u=u.next=m,i|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(m=l).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}null===u&&(o=d),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),mc|=i,e.lanes=i,e.memoizedState=d}}function zl(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Bl(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)zl(n[e],t)}function Ul(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(l){su(t,t.return,l)}}function $l(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,a=t;var o=n;try{l()}catch(c){su(a,o,c)}}}r=r.next}while(r!==s)}}catch(c){su(t,t.return,c)}}function Gl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Bl(t,n)}catch(r){su(e,e.return,r)}}}function ql(e,t,n){n.props=Pi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){su(e,t,r)}}function Hl(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var a=r;break;default:a=r}"function"==typeof n?e.refCleanup=n(a):n.current=a}}catch(s){su(e,t,s)}}function Wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(a){su(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){su(e,t,s)}else n.current=null}function Vl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){su(e,e.return,a)}}function Yl(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,l=null,o=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":c=f;default:a.hasOwnProperty(p)||Wu(e,t,p,null,a,f)}}for(var m in a){var p=a[m];if(f=n[m],a.hasOwnProperty(m)&&(null!=p||null!=f))switch(m){case"type":i=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":l=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:p!==f&&Wu(e,t,m,p,a,f)}}return void ht(e,l,o,c,u,d,i,s);case"select":for(i in p=l=o=m=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:a.hasOwnProperty(i)||Wu(e,t,i,null,a,c)}for(s in a)if(i=a[s],c=n[s],a.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":m=i;break;case"defaultValue":o=i;break;case"multiple":l=i;default:i!==c&&Wu(e,t,s,i,a,c)}return t=o,n=l,a=p,void(null!=m?vt(e,!!n,m,!1):!!a!=!!n&&(null!=t?vt(e,!!n,t,!0):vt(e,!!n,n?[]:"",!1)));case"textarea":for(o in p=m=null,n)if(s=n[o],n.hasOwnProperty(o)&&null!=s&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:Wu(e,t,o,null,a,s)}for(l in a)if(s=a[l],i=n[l],a.hasOwnProperty(l)&&(null!=s||null!=i))switch(l){case"value":m=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(r(91));break;default:s!==i&&Wu(e,t,l,s,a,i)}return void yt(e,m,p);case"option":for(var h in n)if(m=n[h],n.hasOwnProperty(h)&&null!=m&&!a.hasOwnProperty(h))if("selected"===h)e.selected=!1;else Wu(e,t,h,null,a,m);for(c in a)if(m=a[c],p=n[c],a.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else Wu(e,t,c,m,a,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g)&&Wu(e,t,g,null,a,m);for(u in a)if(m=a[u],p=n[u],a.hasOwnProperty(u)&&m!==p&&(null!=m||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(r(137,t));break;default:Wu(e,t,u,m,a,p)}return;default:if(St(t)){for(var x in n)m=n[x],n.hasOwnProperty(x)&&void 0!==m&&!a.hasOwnProperty(x)&&Vu(e,t,x,void 0,a,m);for(d in a)m=a[d],p=n[d],!a.hasOwnProperty(d)||m===p||void 0===m&&void 0===p||Vu(e,t,d,m,a,p);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&null!=m&&!a.hasOwnProperty(v)&&Wu(e,t,v,null,a,m);for(f in a)m=a[f],p=n[f],!a.hasOwnProperty(f)||m===p||null==m&&null==p||Wu(e,t,f,m,a,p)}(a,e.type,n,t),a[Fe]=t}catch(s){su(e,e.return,s)}}function Jl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ql(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Jl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Kl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Hu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Kl(e,t,n),e=e.sibling;null!==e;)Kl(e,t,n),e=e.sibling}function Xl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Xl(e,t,n),e=e.sibling;null!==e;)Xl(e,t,n),e=e.sibling}var Zl=!1,eo=!1,to=!1,no="function"==typeof WeakSet?WeakSet:Set,ro=null,ao=!1;function so(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yo(e,n),4&r&&Ul(5,n);break;case 1:if(yo(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){su(n,n.return,l)}else{var a=Pi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){su(n,n.return,o)}}64&r&&Gl(n),512&r&&Hl(n,n.return);break;case 3:if(yo(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Bl(r,e)}catch(l){su(n,n.return,l)}}break;case 26:yo(e,n),512&r&&Hl(n,n.return);break;case 27:case 5:yo(e,n),null===t&&4&r&&Vl(n),512&r&&Hl(n,n.return);break;case 12:default:yo(e,n);break;case 13:yo(e,n),4&r&&fo(e,n);break;case 22:if(!(a=null!==n.memoizedState||Zl)){t=null!==t&&null!==t.memoizedState||eo;var s=Zl,i=eo;Zl=a,(eo=t)&&!i?wo(e,n,!!(8772&n.subtreeFlags)):yo(e,n),Zl=s,eo=i}512&r&&("manual"===n.memoizedProps.mode?Hl(n,n.return):Wl(n,n.return))}}function io(e){var t=e.alternate;null!==t&&(e.alternate=null,io(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&He(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lo=null,oo=!1;function co(e,t,n){for(n=n.child;null!==n;)uo(e,t,n),n=n.sibling}function uo(e,t,n){if(xe&&"function"==typeof xe.onCommitFiberUnmount)try{xe.onCommitFiberUnmount(ge,n)}catch(i){}switch(n.tag){case 26:eo||Wl(n,t),co(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:eo||Wl(n,t);var r=lo,a=oo;for(lo=n.stateNode,co(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);He(n),lo=r,oo=a;break;case 5:eo||Wl(n,t);case 6:a=lo;var s=oo;if(lo=null,co(e,t,n),oo=s,null!==(lo=a))if(oo)try{e=lo,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(l){su(n,t,l)}else try{lo.removeChild(n.stateNode)}catch(l){su(n,t,l)}break;case 18:null!==lo&&(oo?(t=lo,n=n.stateNode,8===t.nodeType?ld(t.parentNode,n):1===t.nodeType&&ld(t,n),vf(t)):ld(lo,n.stateNode));break;case 4:r=lo,a=oo,lo=n.stateNode.containerInfo,oo=!0,co(e,t,n),lo=r,oo=a;break;case 0:case 11:case 14:case 15:eo||$l(2,n,t),eo||$l(4,n,t),co(e,t,n);break;case 1:eo||(Wl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&ql(n,t,r)),co(e,t,n);break;case 21:co(e,t,n);break;case 22:eo||Wl(n,t),eo=(r=eo)||null!==n.memoizedState,co(e,t,n),eo=r;break;default:co(e,t,n)}}function fo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{vf(e)}catch(n){su(t,t.return,n)}}function mo(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new no),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new no),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=uu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function po(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var s=n[a],i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 27:case 5:lo=o.stateNode,oo=!1;break e;case 3:case 4:lo=o.stateNode.containerInfo,oo=!0;break e}o=o.return}if(null===lo)throw Error(r(160));uo(i,l,s),lo=null,oo=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}var ho=null;function go(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:po(t,e),xo(e),4&a&&($l(3,e,e.return),Ul(3,e),$l(5,e,e.return));break;case 1:po(t,e),xo(e),512&a&&(eo||null===n||Wl(n,n.return)),64&a&&Zl&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var s=ho;if(po(t,e),xo(e),512&a&&(eo||null===n||Wl(n,n.return)),4&a){var i=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":(!(i=s.getElementsByTagName("title")[0])||i[qe]||i[Me]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),Yu(i,a,n),i[Me]=e,Qe(i),a=i;break e;case"link":var l=Dd("link","href",s).get(a+(n.href||""));if(l)for(var o=0;o<l.length;o++)if((i=l[o]).getAttribute("href")===(null==n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(o,1);break t}Yu(i=s.createElement(a),a,n),s.head.appendChild(i);break;case"meta":if(l=Dd("meta","content",s).get(a+(n.content||"")))for(o=0;o<l.length;o++)if((i=l[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(o,1);break t}Yu(i=s.createElement(a),a,n),s.head.appendChild(i);break;default:throw Error(r(468,a))}i[Me]=e,Qe(i),a=i}e.stateNode=a}else Ad(s,e.type,e.stateNode);else e.stateNode=kd(s,a,e.memoizedProps);else i!==a?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===a?Ad(s,e.type,e.stateNode):kd(s,a,e.memoizedProps)):null===a&&null!==e.stateNode&&Yl(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&a&&null===e.alternate){s=e.stateNode,i=e.memoizedProps;try{for(var c=s.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[qe]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||s.removeChild(c),c=u}for(var f=e.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Yu(s,f,i),s[Me]=e,s[Fe]=i}catch(h){su(e,e.return,h)}}case 5:if(po(t,e),xo(e),512&a&&(eo||null===n||Wl(n,n.return)),32&e.flags){s=e.stateNode;try{wt(s,"")}catch(h){su(e,e.return,h)}}4&a&&null!=e.stateNode&&Yl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&a&&(to=!0);break;case 6:if(po(t,e),xo(e),4&a){if(null===e.stateNode)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(h){su(e,e.return,h)}}break;case 3:if(Ed=null,s=ho,ho=pd(t.containerInfo),po(t,e),ho=s,xo(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{vf(t.containerInfo)}catch(h){su(e,e.return,h)}to&&(to=!1,vo(e));break;case 4:a=ho,ho=pd(e.stateNode.containerInfo),po(t,e),xo(e),ho=a;break;case 12:po(t,e),xo(e);break;case 13:po(t,e),xo(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(wc=le()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,mo(e,a)));break;case 22:if(512&a&&(eo||null===n||Wl(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Zl=(d=Zl)||c,eo=(f=eo)||u,po(t,e),eo=f,Zl=d,xo(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&a&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Zl||eo,null===n||u||t||bo(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(s=u.stateNode,c)"function"==typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{l=u.stateNode;var p=null!=(o=u.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null;l.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(h){su(u,u.return,h)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(h){su(u,u.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,mo(e,n))));break;case 19:po(t,e),xo(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,mo(e,a)));break;case 21:break;default:po(t,e),xo(e)}}function xo(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Jl(n)){var a=n;break e}n=n.return}throw Error(r(160))}switch(a.tag){case 27:var s=a.stateNode;Xl(e,Ql(e),s);break;case 5:var i=a.stateNode;32&a.flags&&(wt(i,""),a.flags&=-33),Xl(e,Ql(e),i);break;case 3:case 4:var l=a.stateNode.containerInfo;Kl(e,Ql(e),l);break;default:throw Error(r(161))}}}catch(o){su(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;vo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function yo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)so(e,t.alternate,t),t=t.sibling}function bo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$l(4,t,t.return),bo(t);break;case 1:Wl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&ql(t,t.return,n),bo(t);break;case 26:case 27:case 5:Wl(t,t.return),bo(t);break;case 22:Wl(t,t.return),null===t.memoizedState&&bo(t);break;default:bo(t)}e=e.sibling}}function wo(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:wo(a,s,n),Ul(4,s);break;case 1:if(wo(a,s,n),"function"==typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){su(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var l=r.stateNode;try{var o=a.shared.hiddenCallbacks;if(null!==o)for(a.shared.hiddenCallbacks=null,a=0;a<o.length;a++)zl(o[a],l)}catch(c){su(r,r.return,c)}}n&&64&i&&Gl(s),Hl(s,s.return);break;case 26:case 27:case 5:wo(a,s,n),n&&null===r&&4&i&&Vl(s),Hl(s,s.return);break;case 12:default:wo(a,s,n);break;case 13:wo(a,s,n),n&&4&i&&fo(a,s);break;case 22:null===s.memoizedState&&wo(a,s,n),Hl(s,s.return)}t=t.sibling}}function No(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ga(n))}function jo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ga(e))}function ko(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)So(e,t,n,r),t=t.sibling}function So(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ko(e,t,n,r),2048&a&&Ul(9,t);break;case 3:ko(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ga(e)));break;case 12:if(2048&a){ko(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,l=s.onPostCommit;"function"==typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){su(t,t.return,o)}}else ko(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?ko(e,t,n,r):_o(e,t):4&s._visibility?ko(e,t,n,r):(s._visibility|=4,Co(e,t,n,r,!!(10256&t.subtreeFlags))),2048&a&&No(t.alternate,t);break;case 24:ko(e,t,n,r),2048&a&&jo(t.alternate,t);break;default:ko(e,t,n,r)}}function Co(e,t,n,r,a){for(a=a&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,l=n,o=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:Co(s,i,l,o,a),Ul(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?4&u._visibility?Co(s,i,l,o,a):_o(s,i):(u._visibility|=4,Co(s,i,l,o,a)),a&&2048&c&&No(i.alternate,i);break;case 24:Co(s,i,l,o,a),a&&2048&c&&jo(i.alternate,i);break;default:Co(s,i,l,o,a)}t=t.sibling}}function _o(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:_o(n,r),2048&a&&No(r.alternate,r);break;case 24:_o(n,r),2048&a&&jo(r.alternate,r);break;default:_o(n,r)}t=t.sibling}}var Eo=8192;function Do(e){if(e.subtreeFlags&Eo)for(e=e.child;null!==e;)Ao(e),e=e.sibling}function Ao(e){switch(e.tag){case 26:Do(e),e.flags&Eo&&null!==e.memoizedState&&function(e,t,n){if(null===Td)throw Error(r(475));var a=Td;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var s=yd(n.href),i=e.querySelector(bd(s));if(i)return null!==(e=i._p)&&"object"==typeof e&&"function"==typeof e.then&&(a.count++,a=Pd.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=i,void Qe(i);i=e.ownerDocument||e,n=wd(n),(s=fd.get(s))&&Cd(n,s),Qe(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),Yu(i,"link",n),t.instance=i}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(a.count++,t=Pd.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}(ho,e.memoizedState,e.memoizedProps);break;case 5:default:Do(e);break;case 3:case 4:var t=ho;ho=pd(e.stateNode.containerInfo),Do(e),ho=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Eo,Eo=16777216,Do(e),Eo=t):Do(e))}}function Io(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function To(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];ro=r,Ro(r,e)}Io(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Oo(e),e=e.sibling}function Oo(e){switch(e.tag){case 0:case 11:case 15:To(e),2048&e.flags&&$l(9,e,e.return);break;case 3:case 12:default:To(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Po(e)):To(e)}}function Po(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];ro=r,Ro(r,e)}Io(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:$l(8,t,t.return),Po(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Po(t));break;default:Po(t)}e=e.sibling}}function Ro(e,t){for(;null!==ro;){var n=ro;switch(n.tag){case 0:case 11:case 15:$l(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ga(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,ro=r;else e:for(n=e;null!==ro;){var a=(r=ro).sibling,s=r.return;if(io(r),r===n){ro=null;break e}if(null!==a){a.return=s,ro=a;break e}ro=s}}}function Lo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mo(e,t,n,r){return new Lo(e,t,n,r)}function Fo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zo(e,t){var n=e.alternate;return null===n?((n=Mo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Bo(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Uo(e,t,n,a,s,i){var l=0;if(a=e,"function"==typeof e)Fo(e)&&(l=1);else if("string"==typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case o:return $o(n.children,s,i,t);case c:l=8,s|=24;break;case u:return(e=Mo(12,n,t,2|s)).elementType=u,e.lanes=i,e;case h:return(e=Mo(13,n,t,s)).elementType=h,e.lanes=i,e;case g:return(e=Mo(19,n,t,s)).elementType=g,e.lanes=i,e;case y:return Go(n,s,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case d:case m:l=10;break e;case f:l=9;break e;case p:l=11;break e;case x:l=14;break e;case v:l=16,a=null;break e}l=29,n=Error(r(130,null===e?"null":typeof e,"")),a=null}return(t=Mo(l,n,t,s)).elementType=e,t.type=a,t.lanes=i,t}function $o(e,t,n,r){return(e=Mo(7,e,r,t)).lanes=n,e}function Go(e,t,n,a){(e=Mo(22,e,a,t)).elementType=y,e.lanes=n;var s={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=s._current;if(null===e)throw Error(r(456));if(!(2&s._pendingVisibility)){var t=Ir(e,2);null!==t&&(s._pendingVisibility|=2,Pc(t,e,2))}},attach:function(){var e=s._current;if(null===e)throw Error(r(456));if(2&s._pendingVisibility){var t=Ir(e,2);null!==t&&(s._pendingVisibility&=-3,Pc(t,e,2))}}};return e.stateNode=s,e}function qo(e,t,n){return(e=Mo(6,e,null,t)).lanes=n,e}function Ho(e,t,n){return(t=Mo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wo(e){e.flags|=4}function Vo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Id(t)){if(null!==(t=Aa.current)&&((4194176&sc)===sc?null!==Ia:(62914560&sc)!==sc&&!(536870912&sc)||t!==Ia))throw pa=ua,ca;e.flags|=8192}}function Yo(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?De():536870912,e.lanes|=t,xc|=t)}function Jo(e,t){if(!Xr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=31457280&a.subtreeFlags,r|=31457280&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var a=t.pendingProps;switch(Jr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Qo(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),bl(Ua),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(sa(t)?Wo(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Zr&&(Lc(Zr),Zr=null))),Qo(t),null;case 26:return n=t.memoizedState,null===e?(Wo(t),null!==n?(Qo(t),Vo(t,n)):(Qo(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Wo(t),Qo(t),Vo(t,n)):(Qo(t),t.flags&=-16777217):(e.memoizedProps!==a&&Wo(t),Qo(t),t.flags&=-16777217),null;case 27:te(t),n=Y.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Wo(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return Qo(t),null}e=W.current,sa(t)?ra(t):(e=dd(s,a,n),t.stateNode=e,Wo(t))}return Qo(t),null;case 5:if(te(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Wo(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return Qo(t),null}if(e=W.current,sa(t))ra(t);else{switch(s=Ku(Y.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof a.is?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"==typeof a.is?s.createElement(n,{is:a.is}):s.createElement(n)}}e[Me]=t,e[Fe]=a;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(Yu(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wo(t)}}return Qo(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Wo(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(r(166));if(e=Y.current,sa(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(s=Qr))switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||qu(e.nodeValue,n)))||na(t)}else(e=Ku(e).createTextNode(a))[Me]=t,t.stateNode=e}return Qo(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=sa(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[Me]=t}else ia(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),s=!1}else null!==Zr&&(Lc(Zr),Zr=null),s=!0;if(!s)return 256&t.flags?(Ra(t),t):(Ra(t),null)}if(Ra(t),128&t.flags)return t.lanes=n,t;if(n=null!==a,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(s=a.alternate.memoizedState.cachePool.pool);var i=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Yo(t,t.updateQueue),Qo(t),null;case 4:return K(),null===e&&Pu(t.stateNode.containerInfo),Qo(t),null;case 10:return bl(t.type),Qo(t),null;case 19:if(q(La),null===(s=t.memoizedState))return Qo(t),null;if(a=!!(128&t.flags),null===(i=s.rendering))if(a)Jo(s,!1);else{if(0!==fc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=Ma(e))){for(t.flags|=128,Jo(s,!1),e=i.updateQueue,t.updateQueue=e,Yo(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Bo(n,e),n=n.sibling;return H(La,1&La.current|2),t.child}e=e.sibling}null!==s.tail&&le()>Nc&&(t.flags|=128,a=!0,Jo(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Ma(i))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Yo(t,e),Jo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!Xr)return Qo(t),null}else 2*le()-s.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,a=!0,Jo(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=s.last)?e.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=le(),t.sibling=null,e=La.current,H(La,a?1&e|2:1&e),t):(Qo(t),null);case 22:case 23:return Ra(t),Da(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&n)&&!(128&t.flags)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null!==(n=t.updateQueue)&&Yo(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&q(Qa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bl(Ua),Qo(t),null;case 25:return null}throw Error(r(156,t.tag))}function Xo(e,t){switch(Jr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bl(Ua),K(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return te(t),null;case 13:if(Ra(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ia()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(La),null;case 4:return K(),null;case 10:return bl(t.type),null;case 22:case 23:return Ra(t),Da(),null!==e&&q(Qa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bl(Ua),null;default:return null}}function Zo(e,t){switch(Jr(t),t.tag){case 3:bl(Ua),K();break;case 26:case 27:case 5:te(t);break;case 4:K();break;case 13:Ra(t);break;case 19:q(La);break;case 10:bl(t.type);break;case 22:case 23:Ra(t),Da(),null!==e&&q(Qa);break;case 24:bl(Ua)}}var ec={getCacheForType:function(e){var t=Cl(Ua),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"==typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,sc=0,ic=0,lc=null,oc=!1,cc=!1,uc=!1,dc=0,fc=0,mc=0,pc=0,hc=0,gc=0,xc=0,vc=null,yc=null,bc=!1,wc=0,Nc=1/0,jc=null,kc=null,Sc=!1,Cc=null,_c=0,Ec=0,Dc=null,Ac=0,Ic=null;function Tc(){if(2&nc&&0!==sc)return sc&-sc;if(null!==_.T){return 0!==Wa?Wa:ju()}return Re()}function Oc(){0===gc&&(gc=536870912&sc&&!Xr?536870912:Ee());var e=Aa.current;return null!==e&&(e.flags|=32),gc}function Pc(e,t,n){(e===rc&&2===ic||null!==e.cancelPendingCommit)&&($c(e,0),zc(e,sc,gc,!1)),Ie(e,n),2&nc&&e===rc||(e===rc&&(!(2&nc)&&(pc|=n),4===fc&&zc(e,sc,gc,!1)),xu(e))}function Rc(e,t,n){if(6&nc)throw Error(r(327));for(var a=!n&&!(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),s=a?function(e,t){var n=nc;nc|=2;var a=qc(),s=Hc();rc!==e||sc!==t?(jc=null,Nc=le()+500,$c(e,t)):cc=Ce(e,t);e:for(;;)try{if(0!==ic&&null!==ac){t=ac;var i=lc;t:switch(ic){case 1:ic=0,lc=null,Xc(e,t,i,1);break;case 2:if(da(i)){ic=0,lc=null,Kc(t);break}t=function(){2===ic&&rc===e&&(ic=7),xu(e)},i.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:da(i)?(ic=0,lc=null,Kc(t)):(ic=0,lc=null,Xc(e,t,i,7));break;case 5:var l=null;switch(ac.tag){case 26:l=ac.memoizedState;case 5:case 27:var o=ac;if(!l||Id(l)){ic=0,lc=null;var c=o.sibling;if(null!==c)ac=c;else{var u=o.return;null!==u?(ac=u,Zc(u)):ac=null}break t}}ic=0,lc=null,Xc(e,t,i,5);break;case 6:ic=0,lc=null,Xc(e,t,i,6);break;case 8:Uc(),fc=6;break e;default:throw Error(r(462))}}Jc();break}catch(d){Gc(e,d)}return vl=xl=null,_.H=a,_.A=s,nc=n,null!==ac?0:(rc=null,sc=0,Er(),fc)}(e,t):Vc(e,t,!0),i=a;;){if(0===s){cc&&!a&&zc(e,t,0,!1);break}if(6===s)zc(e,t,0,!oc);else{if(n=e.current.alternate,i&&!Fc(n)){s=Vc(e,t,!1),i=!1;continue}if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var o=e;s=vc;var c=o.current.memoizedState.isDehydrated;if(c&&($c(o,l).flags|=256),2!==(l=Vc(o,l,!1))){if(uc&&!c){o.errorRecoveryDisabledLanes|=i,pc|=i,s=4;break e}i=yc,yc=s,null!==i&&Lc(i)}s=l}if(i=!1,2!==s)continue}}if(1===s){$c(e,0),zc(e,t,0,!0);break}e:{switch(a=e,s){case 0:case 1:throw Error(r(345));case 4:if((4194176&t)===t){zc(a,t,gc,!oc);break e}break;case 2:yc=null;break;case 3:case 5:break;default:throw Error(r(329))}if(a.finishedWork=n,a.finishedLanes=t,(62914560&t)===t&&10<(i=wc+300-le())){if(zc(a,t,gc,!oc),0!==Se(a,0))break e;a.timeoutHandle=nd(Mc.bind(null,a,n,yc,jc,bc,t,gc,pc,xc,oc,2,-0,0),i)}else Mc(a,n,yc,jc,bc,t,gc,pc,xc,oc,0,-0,0)}}break}xu(e)}function Lc(e){null===yc?yc=e:yc.push.apply(yc,e)}function Mc(e,t,n,a,s,i,l,o,c,u,d,f,m){var p=t.subtreeFlags;if((8192&p||!(16785408&~p))&&(Td={stylesheets:null,count:0,unsuspend:Od},Ao(t),null!==(t=function(){if(null===Td)throw Error(r(475));var e=Td;return e.stylesheets&&0===e.count&&Ld(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ld(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(tu.bind(null,e,n,a,s,l,o,c,1,f,m)),void zc(e,i,l,!u);tu(e,n,a,s,l,o,c,d,f,m)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Qn(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~hc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-ye(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&Te(e,n,t)}function Bc(){return!!(6&nc)||(vu(0),!1)}function Uc(){if(null!==ac){if(0===ic)var e=ac.return;else vl=xl=null,ys(e=ac),ga=null,xa=0,e=ac;for(;null!==e;)Zo(e.alternate,e),e=e.return;ac=null}}function $c(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,rd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),rc=e,ac=n=zo(e.current,null),sc=t,ic=0,lc=null,oc=!1,cc=Ce(e,t),uc=!1,xc=gc=hc=pc=mc=fc=0,yc=vc=null,bc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-ye(r),s=1<<a;t|=e[a],r&=~s}return dc=t,Er(),n}function Gc(e,t){ts=null,_.H=Ci,t===oa?(t=ha(),ic=3):t===ca?(t=ha(),ic=4):ic=t===qi?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,lc=t,null===ac&&(fc=1,zi(e,Lr(t,e.current)))}function qc(){var e=_.H;return _.H=Ci,null===e?Ci:e}function Hc(){var e=_.A;return _.A=ec,e}function Wc(){fc=4,oc||(4194176&sc)!==sc&&null!==Aa.current||(cc=!0),!(134217727&mc)&&!(134217727&pc)||null===rc||zc(rc,sc,gc,!1)}function Vc(e,t,n){var r=nc;nc|=2;var a=qc(),s=Hc();rc===e&&sc===t||(jc=null,$c(e,t)),t=!1;var i=fc;e:for(;;)try{if(0!==ic&&null!==ac){var l=ac,o=lc;switch(ic){case 8:Uc(),i=6;break e;case 3:case 2:case 6:null===Aa.current&&(t=!0);var c=ic;if(ic=0,lc=null,Xc(e,l,o,c),n&&cc){i=0;break e}break;default:c=ic,ic=0,lc=null,Xc(e,l,o,c)}}Yc(),i=fc;break}catch(u){Gc(e,u)}return t&&e.shellSuspendCounter++,vl=xl=null,nc=r,_.H=a,_.A=s,null===ac&&(rc=null,sc=0,Er()),i}function Yc(){for(;null!==ac;)Qc(ac)}function Jc(){for(;null!==ac&&!se();)Qc(ac)}function Qc(e){var t=hl(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?Zc(e):ac=t}function Kc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=el(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=el(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:ys(t);default:Zo(n,t),t=hl(n,t=ac=Bo(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?Zc(e):ac=t}function Xc(e,t,n,a){vl=xl=null,ys(t),ga=null,xa=0;var s=t.return;try{if(function(e,t,n,a,s){if(n.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=n.alternate)&&jl(t,n,s,!0),null!==(n=Aa.current)){switch(n.tag){case 13:return null===Ia?Wc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===ua?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),iu(e,a,s)),!1;case 22:return n.flags|=65536,a===ua?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),iu(e,a,s)),!1}throw Error(r(435,n.tag))}return iu(e,a,s),Wc(),!1}if(Xr)return null!==(t=Aa.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==ta&&la(Lr(e=Error(r(422),{cause:a}),n))):(a!==ta&&la(Lr(t=Error(r(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,a=Lr(a,n),Rl(e,s=Ui(e.stateNode,a,s)),4!==fc&&(fc=2)),!1;var i=Error(r(520),{cause:a});if(i=Lr(i,n),null===vc?vc=[i]:vc.push(i),4!==fc&&(fc=2),null===t)return!0;a=Lr(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,Rl(n,e=Ui(n.stateNode,a,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==kc&&kc.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,Gi(s=$i(s),e,n,a),Rl(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,sc))return fc=1,zi(e,Lr(n,e.current)),void(ac=null)}catch(i){if(null!==s)throw ac=s,i;return fc=1,zi(e,Lr(n,e.current)),void(ac=null)}32768&t.flags?(Xr||1===a?e=!0:cc||536870912&sc?e=!1:(oc=e=!0,(2===a||3===a||6===a)&&(null!==(a=Aa.current)&&13===a.tag&&(a.flags|=16384))),eu(t,e)):Zc(t)}function Zc(e){var t=e;do{if(32768&t.flags)return void eu(t,oc);e=t.return;var n=Ko(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===fc&&(fc=5)}function eu(e,t){do{var n=Xo(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);fc=6,ac=null}function tu(e,t,n,a,s,i,l,o,c,u){var d=_.T,f=z.p;try{z.p=2,_.T=null,function(e,t,n,a,s,i,l,o){do{ru()}while(null!==Cc);if(6&nc)throw Error(r(327));var c=e.finishedWork;if(a=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-ye(n),d=1<<u;l[u]=0,o[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var m=f[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,a,u|=_r,i,l,o),e===rc&&(ac=rc=null,sc=0),!(10256&c.subtreeFlags)&&!(10256&c.flags)||Sc||(Sc=!0,Ec=u,Dc=n,function(e,t){re(e,t)}(de,function(){return ru(),null})),n=!!(15990&c.flags),15990&c.subtreeFlags||n?(n=_.T,_.T=null,i=z.p,z.p=2,l=nc,nc|=4,function(e,t){if(e=e.containerInfo,Ju=Wd,nr(e=tr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||0!==s&&3!==f.nodeType||(o=l+s),f!==i||0!==a&&3!==f.nodeType||(c=l+a),3===f.nodeType&&(l+=f.nodeValue.length),null!==(p=f.firstChild);)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(o=l),m===i&&++d===a&&(c=l),null!==(p=f.nextSibling))break;m=(f=m).parentNode}f=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:e,selectionRange:n},Wd=!1,ro=t;null!==ro;)if(e=(t=ro).child,1028&t.subtreeFlags&&null!==e)e.return=t,ro=e;else for(;null!==ro;){switch(i=(t=ro).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var h=Pi(n.type,s,(n.elementType,n.type));e=a.getSnapshotBeforeUpdate(h,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(x){su(n,n.return,x)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))od(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,ro=e;break}ro=t.return}h=ao,ao=!1}(e,c),go(c,e),rr(Qu,e.containerInfo),Wd=!!Ju,Qu=Ju=null,e.current=c,so(e,c.alternate,c),ie(),nc=l,z.p=i,_.T=n):e.current=c,Sc?(Sc=!1,Cc=e,_c=a):nu(e,u),u=e.pendingLanes,0===u&&(kc=null),function(e){if(xe&&"function"==typeof xe.onCommitFiberRoot)try{xe.onCommitFiberRoot(ge,e,void 0,!(128&~e.current.flags))}catch(t){}}(c.stateNode),xu(e),null!==t)for(s=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],s(u.value,{componentStack:u.stack});!!(3&_c)&&ru(),u=e.pendingLanes,4194218&a&&42&u?e===Ic?Ac++:(Ac=0,Ic=e):Ac=0,vu(0)}(e,t,n,a,f,s,i,l)}finally{_.T=d,z.p=f}}function nu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ga(t)))}function ru(){if(null!==Cc){var e=Cc,t=Ec;Ec=0;var n=Pe(_c),a=_.T,s=z.p;try{if(z.p=32>n?32:n,_.T=null,null===Cc)var i=!1;else{n=Dc,Dc=null;var l=Cc,o=_c;if(Cc=null,_c=0,6&nc)throw Error(r(331));var c=nc;if(nc|=4,Oo(l.current),So(l,l.current,o,n),nc=c,vu(0,!1),xe&&"function"==typeof xe.onPostCommitFiberRoot)try{xe.onPostCommitFiberRoot(ge,l)}catch(u){}i=!0}return i}finally{z.p=s,_.T=a,nu(e,t)}}return!1}function au(e,t,n){t=Lr(n,t),null!==(e=Ol(e,t=Ui(e.stateNode,t,2),2))&&(Ie(e,2),xu(e))}function su(e,t,n){if(3===e.tag)au(e,e,n);else for(;null!==t;){if(3===t.tag){au(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=Lr(n,e),null!==(r=Ol(t,n=$i(2),2))&&(Gi(n,r,t,e),Ie(r,2),xu(r));break}}t=t.return}}function iu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=lu.bind(null,e,t,n),t.then(e,e))}function lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===fc||3===fc&&(62914560&sc)===sc&&300>le()-wc?!(2&nc)&&$c(e,0):hc|=n,xc===sc&&(xc=0)),xu(e)}function ou(e,t){0===t&&(t=De()),null!==(e=Ir(e,t))&&(Ie(e,t),xu(e))}function cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ou(e,n)}function uu(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==a&&a.delete(t),ou(e,n)}var du=null,fu=null,mu=!1,pu=!1,hu=!1,gu=0;function xu(e){var t;e!==fu&&null===e.next&&(null===fu?du=fu=e:fu=fu.next=e),pu=!0,mu||(mu=!0,t=yu,sd(function(){6&nc?re(ce,t):t()}))}function vu(e,t){if(!hu&&pu){hu=!0;do{for(var n=!1,r=du;null!==r;){if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,l=r.pingedLanes;s=(1<<31-ye(42|e)+1)-1,s=201326677&(s&=a&~(i&~l))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,Nu(r,s))}else s=sc,!(3&(s=Se(r,r===rc?s:0)))||Ce(r,s)||(n=!0,Nu(r,s));r=r.next}}while(n);hu=!1}}function yu(){pu=mu=!1;var e=0;0!==gu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==td&&(td=e,!0);return td=null,!1}()&&(e=gu),gu=0);for(var t=le(),n=null,r=du;null!==r;){var a=r.next,s=bu(r,t);0===s?(r.next=null,null===n?du=a:n.next=a,null===a&&(fu=n)):(n=r,(0!==e||3&s)&&(pu=!0)),r=a}vu(e)}function bu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-ye(s),l=1<<i,o=a[i];-1===o?0!==(l&n)&&0===(l&r)||(a[i]=_e(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(n=sc,n=Se(e,e===(t=rc)?n:0),r=e.callbackNode,0===n||e===t&&2===ic||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Pe(n)){case 2:case 8:n=ue;break;case 32:default:n=de;break;case 268435456:n=me}return r=wu.bind(null,e),n=re(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function wu(e,t){var n=e.callbackNode;if(ru()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=Se(e,e===rc?r:0))?null:(Rc(e,r,t),bu(e,le()),null!=e.callbackNode&&e.callbackNode===n?wu.bind(null,e):null)}function Nu(e,t){if(ru())return null;Rc(e,t,!0)}function ju(){return 0===gu&&(gu=Ee()),gu}function ku(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Et(""+e)}function Su(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Cu=0;Cu<jr.length;Cu++){var _u=jr[Cu];kr(_u.toLowerCase(),"on"+(_u[0].toUpperCase()+_u.slice(1)))}kr(hr,"onAnimationEnd"),kr(gr,"onAnimationIteration"),kr(xr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(vr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(br,"onTransitionCancel"),kr(wr,"onTransitionEnd"),et("onMouseEnter",["mouseout","mouseover"]),et("onMouseLeave",["mouseout","mouseover"]),et("onPointerEnter",["pointerout","pointerover"]),et("onPointerLeave",["pointerout","pointerover"]),Ze("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ze("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ze("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function Au(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(u){Ri(u)}a.currentTarget=null,s=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(u){Ri(u)}a.currentTarget=null,s=o}}}}function Iu(e,t){var n=t[Be];void 0===n&&(n=t[Be]=new Set);var r=e+"__bubble";n.has(r)||(Ru(t,e,2,!1),n.add(r))}function Tu(e,t,n){var r=0;t&&(r|=4),Ru(n,e,r,t)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Pu(e){if(!e[Ou]){e[Ou]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||Tu(t,!1,e),Tu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ou]||(t[Ou]=!0,Tu("selectionchange",!1,t))}}function Ru(e,t,n,r){switch(Zd(t)){case 2:var a=Vd;break;case 8:a=Yd;break;default:a=Jd}n=a.bind(null,t,n,e),a=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Lu(e,t,n,r,a){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;i=i.return}for(;null!==l;){if(null===(i=We(l)))return;if(5===(o=i.tag)||6===o||26===o||27===o){r=s=i;continue e}l=l.parentNode}}r=r.return}Rt(function(){var r=s,a=At(n),i=[];e:{var l=Nr.get(e);if(void 0!==l){var o=Kt,c=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":o=gn;break;case"focusin":c="focus",o=rn;break;case"focusout":c="blur",o=rn;break;case"beforeblur":case"afterblur":o=rn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=vn;break;case hr:case gr:case xr:o=an;break;case wr:o=yn;break;case"scroll":case"scrollend":o=Zt;break;case"wheel":o=bn;break;case"copy":case"cut":case"paste":o=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=xn;break;case"toggle":case"beforetoggle":o=wn}var u=!!(4&t),d=!u&&("scroll"===e||"scrollend"===e),f=u?null!==l?l+"Capture":null:l;u=[];for(var m,p=r;null!==p;){var h=p;if(m=h.stateNode,5!==(h=h.tag)&&26!==h&&27!==h||null===m||null===f||null!=(h=Lt(p,f))&&u.push(Mu(p,h,m)),d)break;p=p.return}0<u.length&&(l=new o(l,c,null,n,a),i.push({event:l,listeners:u}))}}if(!(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Dt||!(c=n.relatedTarget||n.fromElement)||!We(c)&&!c[ze])&&(o||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?We(c):null)&&(d=P(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(o=null,c=r),o!==c)){if(u=tn,h="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,h="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==o?l:Ye(o),m=null==c?l:Ye(c),(l=new u(h,p+"leave",o,n,a)).target=d,l.relatedTarget=m,h=null,We(a)===r&&((u=new u(f,p+"enter",c,n,a)).target=m,u.relatedTarget=d,h=u),d=h,o&&c)e:{for(f=c,p=0,m=u=o;m;m=zu(m))p++;for(m=0,h=f;h;h=zu(h))m++;for(;0<p-m;)u=zu(u),p--;for(;0<m-p;)f=zu(f),m--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=zu(u),f=zu(f)}u=null}else u=null;null!==o&&Bu(i,l,o,u,!1),null!==c&&null!==d&&Bu(i,d,c,u,!0)}if("select"===(o=(l=r?Ye(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var g=zn;else if(On(l))if(Bn)g=Jn;else{g=Vn;var x=Wn}else!(o=l.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&St(r.elementType)&&(g=zn):g=Yn;switch(g&&(g=g(e,r))?Pn(i,g,n,a):(x&&x(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&xt(l,"number",l.value)),x=r?Ye(r):window,e){case"focusin":(On(x)||"true"===x.contentEditable)&&(sr=x,ir=r,lr=null);break;case"focusout":lr=ir=sr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,cr(i,n,a);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":cr(i,n,a)}var v;if(jn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else In?Dn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Cn&&"ko"!==n.locale&&(In||"onCompositionStart"!==y?"onCompositionEnd"===y&&In&&(v=$t()):(Bt="value"in(zt=a)?zt.value:zt.textContent,In=!0)),0<(x=Fu(r,y)).length&&(y=new on(y,e,null,n,a),i.push({event:y,listeners:x}),v?y.data=v:null!==(v=An(n))&&(y.data=v))),(v=Sn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(En=!0,_n);case"textInput":return(e=t.data)===_n&&En?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!jn&&Dn(e,t)?(e=$t(),Ut=Bt=zt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=Fu(r,"onBeforeInput")).length&&(x=new on("onBeforeInput","beforeinput",null,n,a),i.push({event:x,listeners:y}),x.data=v)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=ku((a[Fe]||null).action),i=r.submitter;i&&null!==(t=(t=i[Fe]||null)?ku(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var l=new Kt("action","action",null,r,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==gu){var e=i?Su(a,i):new FormData(a);fi(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"==typeof s&&(l.preventDefault(),e=i?Su(a,i):new FormData(a),fi(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}Au(i,t)})}function Mu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Lt(e,n))&&r.unshift(Mu(e,a,s)),null!=(a=Lt(e,t))&&r.push(Mu(e,a,s))),e=e.return}return r}function zu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Bu(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===r)break;5!==l&&26!==l&&27!==l||null===c||(o=c,a?null!=(c=Lt(n,s))&&i.unshift(Mu(n,c,o)):a||null!=(c=Lt(n,s))&&i.push(Mu(n,c,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Uu=/\r\n?/g,$u=/\u0000|\uFFFD/g;function Gu(e){return("string"==typeof e?e:""+e).replace(Uu,"\n").replace($u,"")}function qu(e,t){return t=Gu(t),Gu(e)===t}function Hu(){}function Wu(e,t,n,a,s,i){switch(n){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||wt(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&wt(e,""+a);break;case"className":it(e,"class",a);break;case"tabIndex":it(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,a);break;case"style":kt(e,a,i);break;case"data":if("object"!==t){it(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Et(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&Wu(e,t,"name",s.name,s,null),Wu(e,t,"formEncType",s.formEncType,s,null),Wu(e,t,"formMethod",s.formMethod,s,null),Wu(e,t,"formTarget",s.formTarget,s,null)):(Wu(e,t,"encType",s.encType,s,null),Wu(e,t,"method",s.method,s,null),Wu(e,t,"target",s.target,s,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Et(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Hu);break;case"onScroll":null!=a&&Iu("scroll",e);break;case"onScrollEnd":null!=a&&Iu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}n=Et(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Iu("beforetoggle",e),Iu("toggle",e),st(e,"popover",a);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":st(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=Ct.get(n)||n,a)}}function Vu(e,t,n,a,s,i){switch(n){case"style":kt(e,a,i);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof a?wt(e,a):("number"==typeof a||"bigint"==typeof a)&&wt(e,""+a);break;case"onScroll":null!=a&&Iu("scroll",e);break;case"onScrollEnd":null!=a&&Iu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Xe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"==typeof(i=null!=(i=e[Fe]||null)?i[n]:null)&&e.removeEventListener(t,i,s),"function"!=typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):st(e,n,a):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s)))}}function Yu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Iu("error",e),Iu("load",e);var a,s=!1,i=!1;for(a in n)if(n.hasOwnProperty(a)){var l=n[a];if(null!=l)switch(a){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Wu(e,t,a,l,n,null)}}return i&&Wu(e,t,"srcSet",n.srcSet,n,null),void(s&&Wu(e,t,"src",n.src,n,null));case"input":Iu("invalid",e);var o=a=l=i=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":i=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:Wu(e,t,s,d,n,null)}}return gt(e,a,o,c,u,l,i,!1),void ut(e);case"select":for(i in Iu("invalid",e),s=l=a=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":a=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:Wu(e,t,i,o,n,null)}return t=a,n=l,e.multiple=!!s,void(null!=t?vt(e,!!s,t,!1):null!=n&&vt(e,!!s,n,!0));case"textarea":for(l in Iu("invalid",e),a=i=s=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":s=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(r(91));break;default:Wu(e,t,l,o,n,null)}return bt(e,s,i,a),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s;else Wu(e,t,c,s,n,null);return;case"dialog":Iu("cancel",e),Iu("close",e);break;case"iframe":case"object":Iu("load",e);break;case"video":case"audio":for(s=0;s<Eu.length;s++)Iu(Eu[s],e);break;case"image":Iu("error",e),Iu("load",e);break;case"details":Iu("toggle",e);break;case"embed":case"source":case"link":Iu("error",e),Iu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Wu(e,t,u,s,n,null)}return;default:if(St(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&Vu(e,t,d,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(s=n[o])&&Wu(e,t,o,s,n,null))}var Ju=null,Qu=null;function Ku(e){return 9===e.nodeType?e:e.ownerDocument}function Xu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ed(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var td=null;var nd="function"==typeof setTimeout?setTimeout:void 0,rd="function"==typeof clearTimeout?clearTimeout:void 0,ad="function"==typeof Promise?Promise:void 0,sd="function"==typeof queueMicrotask?queueMicrotask:void 0!==ad?function(e){return ad.resolve(null).then(e).catch(id)}:nd;function id(e){setTimeout(function(){throw e})}function ld(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void vf(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);vf(t)}function od(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":od(n),He(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function cd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ud(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function dd(e,t,n){switch(t=Ku(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}var fd=new Map,md=new Set;function pd(e){return"function"==typeof e.getRootNode?e.getRootNode():e.ownerDocument}var hd=z.d;z.d={f:function(){var e=hd.f(),t=Bc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?pi(t):hd.r(e)},D:function(e){hd.D(e),xd("dns-prefetch",e,null)},C:function(e,t){hd.C(e,t),xd("preconnect",e,t)},L:function(e,t,n){hd.L(e,t,n);var r=gd;if(r&&e&&t){var a='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(a+='[imagesizes="'+pt(n.imageSizes)+'"]')):a+='[href="'+pt(e)+'"]';var s=a;switch(t){case"style":s=yd(e);break;case"script":s=Nd(e)}fd.has(s)||(e=E({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),fd.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(bd(s))||"script"===t&&r.querySelector(jd(s))||(Yu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}},m:function(e,t){hd.m(e,t);var n=gd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+pt(r)+'"][href="'+pt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Nd(e)}if(!fd.has(s)&&(e=E({rel:"modulepreload",href:e},t),fd.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jd(s)))return}Yu(r=n.createElement("link"),"link",e),Qe(r),n.head.appendChild(r)}}},X:function(e,t){hd.X(e,t);var n=gd;if(n&&e){var r=Je(n).hoistableScripts,a=Nd(e),s=r.get(a);s||((s=n.querySelector(jd(a)))||(e=E({src:e,async:!0},t),(t=fd.get(a))&&_d(e,t),Qe(s=n.createElement("script")),Yu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){hd.S(e,t,n);var r=gd;if(r&&e){var a=Je(r).hoistableStyles,s=yd(e);t=t||"default";var i=a.get(s);if(!i){var l={loading:0,preload:null};if(i=r.querySelector(bd(s)))l.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},n),(n=fd.get(s))&&Cd(e,n);var o=i=r.createElement("link");Qe(o),Yu(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Sd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:l},a.set(s,i)}}},M:function(e,t){hd.M(e,t);var n=gd;if(n&&e){var r=Je(n).hoistableScripts,a=Nd(e),s=r.get(a);s||((s=n.querySelector(jd(a)))||(e=E({src:e,async:!0,type:"module"},t),(t=fd.get(a))&&_d(e,t),Qe(s=n.createElement("script")),Yu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var gd="undefined"==typeof document?null:document;function xd(e,t,n){var r=gd;if(r&&"string"==typeof t&&t){var a=pt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"==typeof n&&(a+='[crossorigin="'+n+'"]'),md.has(a)||(md.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(Yu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}}function vd(e,t,n,a){var s,i,l,o,c=(c=Y.current)?pd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=yd(n.href),(a=(n=Je(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=yd(n.href);var u=Je(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(bd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fd.set(e,n),u||(s=c,i=e,l=n,o=d.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=s.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Yu(i,"link",l),Qe(i),s.head.appendChild(i))))),t&&null===a)throw Error(r(528,""));return d}if(t&&null!==a)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Nd(n),(a=(n=Je(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function yd(e){return'href="'+pt(e)+'"'}function bd(e){return'link[rel="stylesheet"]['+e+"]"}function wd(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Nd(e){return'[src="'+pt(e)+'"]'}function jd(e){return"script[async]"+e}function kd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(a)return t.instance=a,Qe(a),a;var s=E({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Qe(a=(e.ownerDocument||e).createElement("style")),Yu(a,"style",s),Sd(a,n.precedence,e),t.instance=a;case"stylesheet":s=yd(n.href);var i=e.querySelector(bd(s));if(i)return t.state.loading|=4,t.instance=i,Qe(i),i;a=wd(n),(s=fd.get(s))&&Cd(a,s),Qe(i=(e.ownerDocument||e).createElement("link"));var l=i;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),Yu(i,"link",a),t.state.loading|=4,Sd(i,n.precedence,e),t.instance=i;case"script":return i=Nd(n.src),(s=e.querySelector(jd(i)))?(t.instance=s,Qe(s),s):(a=n,(s=fd.get(i))&&_d(a=E({},n),s),Qe(s=(e=e.ownerDocument||e).createElement("script")),Yu(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Sd(a,n.precedence,e));return t.instance}function Sd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var l=r[i];if(l.dataset.precedence===t)s=l;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Cd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function _d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ed=null;function Dd(e,t,n){if(null===Ed){var r=new Map,a=Ed=new Map;a.set(n,r)}else(r=(a=Ed).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[qe]||s[Me]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var l=r.get(i);l?l.push(s):r.set(i,[s])}}return r}function Ad(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Id(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Td=null;function Od(){}function Pd(){if(this.count--,0===this.count)if(this.stylesheets)Ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Rd=null;function Ld(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Rd=new Map,t.forEach(Md,e),Rd=null,Pd.call(e))}function Md(e,t){if(!(4&t.state.loading)){var n=Rd.get(e);if(n)var r=n.get(null);else{n=new Map,Rd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=Pd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Fd={$$typeof:m,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function zd(e,t,n,r,a,s,i,l){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Bd(e,t,n,r,a,s,i,l,o,c,u,d){return e=new zd(e,t,n,i,l,o,c,d),t=1,!0===s&&(t|=24),s=Mo(3,null,null,t),e.current=s,s.stateNode=e,(t=$a()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Al(s),e}function Ud(e){return e?e=Pr:Pr}function $d(e,t,n,r,a,s){a=Ud(a),null===r.context?r.context=a:r.pendingContext=a,(r=Tl(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Ol(e,r,t))&&(Pc(n,0,t),Pl(n,e,t))}function Gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qd(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function Hd(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Pc(t,0,67108864),qd(e,67108864)}}var Wd=!0;function Vd(e,t,n,r){var a=_.T;_.T=null;var s=z.p;try{z.p=2,Jd(e,t,n,r)}finally{z.p=s,_.T=a}}function Yd(e,t,n,r){var a=_.T;_.T=null;var s=z.p;try{z.p=8,Jd(e,t,n,r)}finally{z.p=s,_.T=a}}function Jd(e,t,n,r){if(Wd){var a=Qd(r);if(null===a)Lu(e,t,r,Kd,n),cf(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return tf=uf(tf,e,t,n,r,a),!0;case"dragenter":return nf=uf(nf,e,t,n,r,a),!0;case"mouseover":return rf=uf(rf,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return af.set(s,uf(af.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,sf.set(s,uf(sf.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(cf(e,r),4&t&&-1<of.indexOf(e)){for(;null!==a;){var s=Ve(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=ke(s.pendingLanes);if(0!==i){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var o=1<<31-ye(i);l.entanglements[1]|=o,i&=~o}xu(s),!(6&nc)&&(Nc=le()+500,vu(0))}}break;case 13:null!==(l=Ir(s,2))&&Pc(l,0,2),Bc(),qd(s,2)}if(null===(s=Qd(r))&&Lu(e,t,r,Kd,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Lu(e,t,r,null,n)}}function Qd(e){return Xd(e=At(e))}var Kd=null;function Xd(e){if(Kd=null,null!==(e=We(e))){var t=P(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=R(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Kd=e,null}function Zd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case ce:return 2;case ue:return 8;case de:case fe:return 32;case me:return 268435456;default:return 32}default:return 32}}var ef=!1,tf=null,nf=null,rf=null,af=new Map,sf=new Map,lf=[],of="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cf(e,t){switch(e){case"focusin":case"focusout":tf=null;break;case"dragenter":case"dragleave":nf=null;break;case"mouseover":case"mouseout":rf=null;break;case"pointerover":case"pointerout":af.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sf.delete(t.pointerId)}}function uf(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ve(t))&&Hd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function df(e){var t=We(e.target);if(null!==t){var n=P(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=R(n)))return e.blockedOn=t,void function(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}(e.priority,function(){if(13===n.tag){var e=Tc(),t=Ir(n,e);null!==t&&Pc(t,0,e),qd(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ff(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qd(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&Hd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Dt=r,n.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function mf(e,t,n){ff(e)&&n.delete(t)}function pf(){ef=!1,null!==tf&&ff(tf)&&(tf=null),null!==nf&&ff(nf)&&(nf=null),null!==rf&&ff(rf)&&(rf=null),af.forEach(mf),sf.forEach(mf)}function hf(t,n){t.blockedOn===n&&(t.blockedOn=null,ef||(ef=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pf)))}var gf=null;function xf(t){gf!==t&&(gf=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gf===t&&(gf=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],a=t[e+2];if("function"!=typeof r){if(null===Xd(r||n))continue;break}var s=Ve(n);null!==s&&(t.splice(e,3),e-=3,fi(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function vf(e){function t(t){return hf(t,e)}null!==tf&&hf(tf,e),null!==nf&&hf(nf,e),null!==rf&&hf(rf,e),af.forEach(t),sf.forEach(t);for(var n=0;n<lf.length;n++){var r=lf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<lf.length&&null===(n=lf[0]).blockedOn;)df(n),null===n.blockedOn&&lf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Fe]||null;if("function"==typeof s)i||xf(n);else if(i){var l=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Fe]||null)l=i.formAction;else if(null!==Xd(a))continue}else l=i.action;"function"==typeof l?n[r+1]=l:(n.splice(r,3),r-=3),xf(n)}}}function yf(e){this._internalRoot=e}function bf(e){this._internalRoot=e}bf.prototype.render=yf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));$d(t.current,Tc(),e,t,null,null)},bf.prototype.unmount=yf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&ru(),$d(e.current,2,null,e,null,null),Bc(),t[ze]=null}},bf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lf.length&&0!==t&&t<lf[n].priority;n++);lf.splice(n,0,e),0===n&&df(e)}};var wf=t.version;if("19.0.0"!==wf)throw Error(r(527,wf,"19.0.0"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=P(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(a=s.return)){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return L(s),e;if(i===a)return L(s),t;i=i.sibling}throw Error(r(188))}if(n.return!==a.return)n=s,a=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,a=i;break}if(o===a){l=!0,a=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,a=s;break}if(o===a){l=!0,a=i,n=s;break}o=o.sibling}if(!l)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?M(e):null)?null:e.stateNode};var Nf={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:_,findFiberByHostInstance:We,reconcilerVersion:"19.0.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{ge=jf.inject(Nf),xe=jf}catch(Sf){}}return cn.createRoot=function(e,t){if(!a(e))throw Error(r(299));var n=!1,s="",i=Li,l=Mi,o=Fi;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Bd(e,1,!1,null,0,n,s,i,l,o,0,null),e[ze]=t.current,Pu(8===e.nodeType?e.parentNode:e),new yf(t)},cn.hydrateRoot=function(e,t,n){if(!a(e))throw Error(r(299));var s=!1,i="",l=Li,o=Mi,c=Fi,u=null;return null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Bd(e,1,!0,t,0,s,i,l,o,c,0,u)).context=Ud(null),n=t.current,(i=Tl(s=Tc())).callback=null,Ol(n,i,s),t.current.lanes=s,Ie(t,s),xu(t),e[ze]=t.current,Pu(e),new bf(t)},cn.version="19.0.0",cn}const pn=ee((ln||(ln=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),on.exports=mn()),on.exports)),hn=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,gn=pe,xn=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return gn(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(e=>{const t=null==n?void 0:n[e],r=null==s?void 0:s[e];if(null===t)return null;const i=hn(t)||hn(r);return a[e][i]}),l=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),o=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...s,...l}[t]):{...s,...l}[t]===n})?[...e,n,r]:e},[]);return gn(e,i,o,null==n?void 0:n.class,null==n?void 0:n.className)};function vn(...e){return he(pe(e))}const yn=xn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),bn=te.forwardRef(({className:n,variant:r,size:a,asChild:s=!1,...i},l)=>{const o=s?t:"button";return e.jsx(o,{className:vn(yn({variant:r,size:a,className:n})),ref:l,...i})});bn.displayName="Button";const wn=o,Nn=c,jn=r,kn=te.forwardRef(({className:t,...r},a)=>e.jsx(n,{className:vn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a}));kn.displayName=n.displayName;const Sn=xn("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Cn=te.forwardRef(({side:t="right",className:n,children:r,...i},l)=>e.jsxs(jn,{children:[e.jsx(kn,{}),e.jsxs(a,{ref:l,className:vn(Sn({side:t}),n),...i,children:[r,e.jsxs(s,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cn.displayName=a.displayName;te.forwardRef(({className:t,...n},r)=>e.jsx(i,{ref:r,className:vn("text-lg font-semibold text-foreground",t),...n})).displayName=i.displayName;te.forwardRef(({className:t,...n},r)=>e.jsx(l,{ref:r,className:vn("text-sm text-muted-foreground",t),...n})).displayName=l.displayName;const _n=m,En=te.forwardRef(({className:t,...n},r)=>e.jsx(u,{ref:r,className:vn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n}));En.displayName=u.displayName;const Dn=te.forwardRef(({className:t,...n},r)=>e.jsx(d,{ref:r,className:vn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n}));Dn.displayName=d.displayName;const An=te.forwardRef(({className:t,...n},r)=>e.jsx(f,{ref:r,className:vn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n}));An.displayName=f.displayName;const In=Kt("https://tjpaxrhqikqlhhvbzzyw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRqcGF4cmhxaWtxbGhodmJ6enl3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1ODczMDMsImV4cCI6MjA2MzE2MzMwM30.MfNDGS-GnfQq6nVMZ_cCsOqMiQHRgYdtOU7oteGastI"),Tn=o,On=c,Pn=r,Rn=te.forwardRef(({className:t,...r},a)=>e.jsx(n,{ref:a,className:vn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));Rn.displayName=n.displayName;const Ln=te.forwardRef(({className:t,children:n,...r},i)=>e.jsxs(Pn,{children:[e.jsx(Rn,{}),e.jsxs(a,{ref:i,className:vn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[n,e.jsxs(s,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ln.displayName=a.displayName;const Mn=({className:t,...n})=>e.jsx("div",{className:vn("flex flex-col space-y-1.5 text-center sm:text-left",t),...n});Mn.displayName="DialogHeader";const Fn=({className:t,...n})=>e.jsx("div",{className:vn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});Fn.displayName="DialogFooter";const zn=te.forwardRef(({className:t,...n},r)=>e.jsx(i,{ref:r,className:vn("text-lg font-semibold leading-none tracking-tight",t),...n}));zn.displayName=i.displayName;const Bn=te.forwardRef(({className:t,...n},r)=>e.jsx(l,{ref:r,className:vn("text-sm text-muted-foreground",t),...n}));Bn.displayName=l.displayName;const Un=te.forwardRef(({className:t,...n},r)=>e.jsx("textarea",{className:vn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));function $n({open:t,onOpenChange:n}){const[r,a]=te.useState("");return e.jsx(Tn,{open:t,onOpenChange:n,children:e.jsxs(Ln,{children:[e.jsxs(Mn,{children:[e.jsx(zn,{children:"Daily Reflection"}),e.jsx(Bn,{children:"Take a moment to reflect on your day. What went well? What could have gone better?"})]}),e.jsx("div",{className:"py-4",children:e.jsx(Un,{placeholder:"Write your thoughts here...",value:r,onChange:e=>a(e.target.value),className:"min-h-[200px]"})}),e.jsxs(Fn,{children:[e.jsx(bn,{variant:"ghost",onClick:()=>n(!1),children:"Skip"}),e.jsx(bn,{onClick:()=>{n(!1)},children:"Save Reflection"})]})]})})}Un.displayName="Textarea";const Gn=k,qn=S;te.forwardRef(({className:t,inset:n,children:r,...a},s)=>e.jsxs(p,{ref:s,className:vn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",t),...a,children:[r,e.jsx(xe,{className:"ml-auto h-4 w-4"})]})).displayName=p.displayName;te.forwardRef(({className:t,...n},r)=>e.jsx(h,{ref:r,className:vn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})).displayName=h.displayName;const Hn=te.forwardRef(({className:t,sideOffset:n=4,...r},a)=>e.jsx(g,{children:e.jsx(x,{ref:a,sideOffset:n,className:vn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Hn.displayName=x.displayName;const Wn=te.forwardRef(({className:t,inset:n,...r},a)=>e.jsx(v,{ref:a,className:vn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",t),...r}));Wn.displayName=v.displayName;te.forwardRef(({className:t,children:n,checked:r,...a},s)=>e.jsxs(y,{ref:s,className:vn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(b,{children:e.jsx(ve,{className:"h-4 w-4"})})}),n]})).displayName=y.displayName;te.forwardRef(({className:t,children:n,...r},a)=>e.jsxs(w,{ref:a,className:vn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(b,{children:e.jsx(ye,{className:"h-2 w-2 fill-current"})})}),n]})).displayName=w.displayName;const Vn=te.forwardRef(({className:t,inset:n,...r},a)=>e.jsx(N,{ref:a,className:vn("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",t),...r}));Vn.displayName=N.displayName;const Yn=te.forwardRef(({className:t,...n},r)=>e.jsx(j,{ref:r,className:vn("-mx-1 my-1 h-px bg-muted",t),...n}));function Jn(){var t;const[n,r]=te.useState(null),[a,s]=te.useState(!0),i=ne();te.useEffect(()=>{(async()=>{try{const{data:e,error:t}=await In.auth.getUser();!t&&(null==e?void 0:e.user)&&r(e.user)}catch(e){}finally{s(!1)}})()},[]);return e.jsxs(Gn,{children:[e.jsx(qn,{asChild:!0,children:e.jsx(bn,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full",children:(null==(t=null==n?void 0:n.user_metadata)?void 0:t.avatar_url)?e.jsx("img",{src:n.user_metadata.avatar_url,width:36,height:36,alt:"Avatar",className:"overflow-hidden rounded-full"}):e.jsx(be,{className:"h-5 w-5"})})}),e.jsxs(Hn,{align:"end",children:[e.jsx(Vn,{children:(null==n?void 0:n.email)||"My Account"}),e.jsx(Yn,{}),"        ",e.jsxs(Wn,{onClick:()=>i("/profile"),children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Profile"]}),e.jsxs(Wn,{onClick:()=>i("/dashboard/settings"),children:[e.jsx(we,{className:"mr-2 h-4 w-4"}),"Settings"]}),e.jsxs(Wn,{onClick:()=>window.location.href="mailto:code.ritesh+MyCodeLife@gmail.com",children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Support"]}),e.jsx(Yn,{}),n?e.jsx(Wn,{onClick:async()=>{await In.auth.signOut(),i("/login")},children:"Sign Out"}):e.jsx(Wn,{onClick:()=>i("/login"),children:"Sign In"})]})]})}function Qn({children:t}){const n=re(),r=ne(),[a,s]=te.useState(null),[i,l]=te.useState(!1);te.useEffect(()=>{const{data:e}=In.auth.onAuthStateChange((e,t)=>{s((null==t?void 0:t.user)??null),(null==t?void 0:t.user)||r("/login")});return(async()=>{const{data:{user:e}}=await In.auth.getUser();s(e),e||r("/login")})(),()=>{null==e||e.subscription.unsubscribe()}},[r]),te.useEffect(()=>{const e=new Date;if(e.getHours()>=20){!localStorage.getItem(`reflection-${e.toDateString()}`)&&a&&l(!0)}},[a]);return a?e.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[e.jsxs("header",{className:"flex h-14 items-center px-4 lg:px-6 border-b",children:[e.jsxs(wn,{children:[e.jsx(Nn,{asChild:!0,children:e.jsxs(bn,{variant:"outline",size:"icon",className:"md:hidden",children:[e.jsx(je,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Toggle Menu"})]})}),e.jsx(Cn,{side:"left",children:e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs(ae,{to:"/dashboard",className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(ke,{className:"h-5 w-5"}),e.jsx("span",{children:"LifePilot"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(ae,{to:"/dashboard",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(ke,{className:"h-5 w-5"}),e.jsx("span",{children:"My Rules"})]}),e.jsxs(ae,{to:"/contacts",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(Se,{className:"h-5 w-5"}),e.jsx("span",{children:"Contacts & Notes"})]}),e.jsxs(ae,{to:"/hierarchy",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(Ce,{className:"h-5 w-5"}),e.jsx("span",{children:"Hierarchy Builder"})]}),e.jsxs(ae,{to:"/calendar-timeline",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(_e,{className:"h-5 w-5"}),e.jsx("span",{children:"Calendar & Timeline"})]})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs(bn,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:async()=>{await In.auth.signOut(),r("/login")},children:[e.jsx(Ee,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sign Out"})]})})]})})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[e.jsxs(ae,{to:"/dashboard",className:"flex items-center gap-2 font-semibold",children:[e.jsx(ke,{className:"h-5 w-5"}),e.jsx("span",{children:"LifePilot"})]}),e.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[e.jsx(ae,{to:"/dashboard",className:"text-sm "+("/dashboard"===n.pathname?"text-foreground":"text-muted-foreground hover:text-foreground"),children:"My Rules"}),e.jsx(ae,{to:"/contacts",className:"text-sm "+(n.pathname.includes("/contacts")?"text-foreground":"text-muted-foreground hover:text-foreground"),children:"Contacts & Notes"}),e.jsx(ae,{to:"/hierarchy",className:"text-sm "+(n.pathname.includes("/hierarchy")?"text-foreground":"text-muted-foreground hover:text-foreground"),children:"Hierarchy Builder"}),e.jsx(ae,{to:"/calendar-timeline",className:"text-sm "+(n.pathname.includes("/calendar-timeline")?"text-foreground":"text-muted-foreground hover:text-foreground"),children:"Calendar & Timeline"})]})]}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:a&&e.jsx(Jn,{})})]}),e.jsx("div",{className:"md:hidden flex border-b",children:e.jsx(_n,{value:n.pathname.includes("/contacts")?"contacts":n.pathname.includes("/hierarchy")?"hierarchy":n.pathname.includes("/journal")?"journal":n.pathname.includes("/dashboard")?"dashboard":"rules",className:"w-full",children:e.jsxs(En,{className:"grid grid-cols-3 w-full",children:[e.jsx(Dn,{value:"rules",asChild:!0,children:e.jsxs(ae,{to:"/dashboard",className:"flex flex-col items-center py-2",children:[e.jsx(ke,{className:"h-4 w-4 mb-1"}),e.jsx("span",{className:"text-xs",children:"Rules"})]})}),e.jsx(Dn,{value:"contacts",asChild:!0,children:e.jsxs(ae,{to:"/contacts",className:"flex flex-col items-center py-2",children:[e.jsx(Se,{className:"h-4 w-4 mb-1"}),e.jsx("span",{className:"text-xs",children:"Contacts"})]})}),e.jsx(Dn,{value:"hierarchy",asChild:!0,children:e.jsxs(ae,{to:"/hierarchy",className:"flex flex-col items-center py-2",children:[e.jsx(Ce,{className:"h-4 w-4 mb-1"}),e.jsx("span",{className:"text-xs",children:"Hierarchy"})]})}),e.jsx(Dn,{value:"calendar-timeline",asChild:!0,children:e.jsxs(ae,{to:"/calendar-timeline",className:"flex flex-col items-center py-2",children:[e.jsx(_e,{className:"h-4 w-4 mb-1"}),e.jsx("span",{className:"text-xs",children:"Calendar & Timeline"})]})})]})})}),e.jsx(De.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex-1 overflow-auto h-[calc(100vh-3.5rem)]",children:t}),i&&e.jsx($n,{open:i,onOpenChange:e=>{l(e),e||localStorage.setItem(`reflection-${(new Date).toDateString()}`,"true")}})]}):null}Yn.displayName=j.displayName;const Kn=()=>{const t=ne(),[n,r]=te.useState(null);return te.useEffect(()=>{const{data:e}=In.auth.onAuthStateChange((e,n)=>{(null==n?void 0:n.user)&&t("/dashboard",{replace:!0})});return()=>{null==e||e.subscription.unsubscribe()}},[t]),e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-background",children:e.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-card shadow-xl rounded-lg",children:[e.jsx("h1",{className:"text-2xl font-bold text-center text-foreground",children:"Login to LifePilot"}),e.jsxs("p",{className:"text-center text-muted-foreground",children:["Login with Passkey (biometrics) or fallback credentials.",e.jsx("br",{}),e.jsxs("span",{className:"text-xs",children:["Email: ",e.jsx("b",{children:"testing@test.com"})," | Password: ",e.jsx("b",{children:"test"})]})]}),n&&e.jsx("p",{className:"text-red-500 text-center",children:n}),e.jsx(Xt,{supabaseClient:In,appearance:{theme:Zt,variables:{default:{colors:{brand:"hsl(var(--primary))",brandAccent:"hsl(var(--primary-focus))"}}}},providers:[],localization:{variables:{sign_in:{email_label:"Email address",password_label:"Password",button_label:"Sign in",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},sign_up:{email_label:"Email address",password_label:"Password",button_label:"Sign up",social_provider_text:"Sign up with {{provider}}",link_text:"Don't have an account? Sign up"},forgotten_password:{email_label:"Email address",password_label:"Password",button_label:"Send reset instructions",link_text:"Forgot your password?"}}}})]})})},Xn=te.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:vn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n}));Xn.displayName="Card";const Zn=te.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:vn("flex flex-col space-y-1.5 p-6",t),...n}));Zn.displayName="CardHeader";const er=te.forwardRef(({className:t,...n},r)=>e.jsx("h3",{ref:r,className:vn("text-2xl font-semibold leading-none tracking-tight",t),...n}));er.displayName="CardTitle";const tr=te.forwardRef(({className:t,...n},r)=>e.jsx("p",{ref:r,className:vn("text-sm text-muted-foreground",t),...n}));tr.displayName="CardDescription";const nr=te.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:vn("p-6 pt-0",t),...n}));nr.displayName="CardContent";const rr=te.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:vn("flex items-center p-6 pt-0",t),...n}));rr.displayName="CardFooter";const ar=xn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function sr({className:t,variant:n,...r}){return e.jsx("div",{className:vn(ar({variant:n}),t),...r})}var ir=te.forwardRef((t,n)=>e.jsx(C.label,{...t,ref:n,onMouseDown:e=>{var n;e.target.closest("button, input, select, textarea")||(null==(n=t.onMouseDown)||n.call(t,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));ir.displayName="Label";var lr=ir;const or=xn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cr=te.forwardRef(({className:t,...n},r)=>e.jsx(lr,{ref:r,className:vn(or(),t),...n}));cr.displayName=lr.displayName;const ur=te.forwardRef(({className:t,type:n,...r},a)=>e.jsx("input",{type:n,className:vn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...r}));ur.displayName="Input";const dr=z,fr=B,mr=te.forwardRef(({className:t,children:n,...r},a)=>e.jsxs(_,{ref:a,className:vn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[n,e.jsx(E,{asChild:!0,children:e.jsx(Ae,{className:"h-4 w-4 opacity-50"})})]}));mr.displayName=_.displayName;const pr=te.forwardRef(({className:t,...n},r)=>e.jsx(D,{ref:r,className:vn("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Ie,{className:"h-4 w-4"})}));pr.displayName=D.displayName;const hr=te.forwardRef(({className:t,...n},r)=>e.jsx(A,{ref:r,className:vn("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Ae,{className:"h-4 w-4"})}));hr.displayName=A.displayName;const gr=te.forwardRef(({className:t,children:n,position:r="popper",...a},s)=>e.jsx(I,{children:e.jsxs(T,{ref:s,className:vn("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...a,children:[e.jsx(pr,{}),e.jsx(O,{className:vn("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(hr,{})]})}));gr.displayName=T.displayName;te.forwardRef(({className:t,...n},r)=>e.jsx(P,{ref:r,className:vn("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...n})).displayName=P.displayName;const xr=te.forwardRef(({className:t,children:n,...r},a)=>e.jsxs(R,{ref:a,className:vn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(L,{children:e.jsx(ve,{className:"h-4 w-4"})})}),e.jsx(M,{children:n})]}));xr.displayName=R.displayName;te.forwardRef(({className:t,...n},r)=>e.jsx(F,{ref:r,className:vn("-mx-1 my-1 h-px bg-muted",t),...n})).displayName=F.displayName;let vr=null;const yr=[{category:tn.HARM_CATEGORY_HATE_SPEECH,threshold:en.BLOCK_MEDIUM_AND_ABOVE},{category:tn.HARM_CATEGORY_HARASSMENT,threshold:en.BLOCK_MEDIUM_AND_ABOVE},{category:tn.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:en.BLOCK_MEDIUM_AND_ABOVE},{category:tn.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:en.BLOCK_MEDIUM_AND_ABOVE}],br={temperature:.7,topK:40,topP:.95,maxOutputTokens:2048};function wr(){const e=function(){if(!vr)try{vr=new nn("AIzaSyBvBjVpsuiriUakXLLNy8LwMTvARG8taKY")}catch(e){return null}return vr}();return e?e.getGenerativeModel({model:"gemini-2.0-flash",safetySettings:yr,generationConfig:br}):null}class Nr{constructor(e,t=!1){this.chatSession=null,this.lifeRules=e,this.agenticMode=t,this.initializeChat()}initializeChat(){const e=`\nYou are an AI advisor that analyzes user messages according to three life rules that guide them.\nThe three life rules are:\n\n${this.lifeRules}\n\nIMPORTANT GUIDELINES:\n1. Only provide rule alignment analysis when the user is asking for advice, making decisions, or sharing something meaningful that relates to their life rules.\n2. For casual conversation (greetings, small talk, simple questions), respond naturally without rule analysis.\n3. Casual inputs that should NOT trigger rule analysis: "hi", "hello", "thanks", "okay", "good", "yes", "no", basic acknowledgments.\n4. Rule analysis should only trigger for: specific advice requests, decision-making, sharing experiences, asking about habits/goals, moral dilemmas, life choices.\n\nFor each user message, analyze which rule it relates to most strongly.\nAlways respond with a properly formatted JSON object with the following structure:\n`,t=`\n${e}\n\nYou are now operating in AGENTIC MODE - you can both provide advice AND take actions within the LifePilot app.\n\nCRITICAL RESPONSE RULES:\n1. For casual greetings ("hi", "hello", "thanks", "okay") → Respond with PLAIN TEXT only\n2. For action requests ("create task", "change theme") → Use ACTION JSON format\n3. For advice requests ("should I...", "help me decide") → Use ADVICE JSON format\n\nAvailable Actions:\n1. CREATE_TASK - Create a new task/activity\n2. CREATE_HABIT - Create a recurring habit\n3. DELETE_TASK - Delete an existing task (requires task ID)\n4. UPDATE_TASK - Update an existing task (requires task ID)\n5. CHANGE_THEME - Change app theme (light/dark/system)\n6. UPDATE_PROFILE - Update user profile information\n7. DELETE_FAMILY_MEMBER - Remove a family member (requires confirmation)\n8. UPDATE_FAMILY_STATUS - Update family member status\n9. NAVIGATE_TO_PAGE - Navigate to a specific app page\n10. EXPORT_DATA - Export user data\n11. CREATE_DIARY_ENTRY - Create a diary/journal entry\n12. UPDATE_SETTINGS - Update app settings\n\nYou should respond with either:\n1. CASUAL CONVERSATION - Simple text response for greetings and small talk (NO JSON)\n2. ACTION - Structured action request that the app can execute (JSON format)\n3. ADVICE - Traditional life rule analysis (JSON format)\n\nCASUAL CONVERSATION Examples (NO JSON):\n- "hi" → "Hello! How can I help you today?"\n- "hello" → "Hi there! What's on your mind?"\n- "thanks" → "You're welcome!"\n- "okay" → "Great! Anything else I can help with?"\n\nFor ACTION responses, use this format:\n{\n  "type": "action",\n  "content": "I'll help you with that! [explanation of what you're doing]",\n  "action": {\n    "actionType": "CHANGE_THEME",\n    "parameters": {\n      "theme": "dark"\n    },\n    "confirmationRequired": false,\n    "confirmationMessage": "Optional confirmation message"\n  }\n}\n\nFor ADVICE responses, use the traditional format:\n{\n  "type": "advice",\n  "ruleMatch": "Rule X: Title",\n  "ruleNumber": X,\n  "statusEmoji": "✅ or ⚠️",\n  "ruleIcon": "brain/shield/bar-chart",\n  "alignmentStrength": "Strong/Potential",\n  "alignmentClass": "success/warning",\n  "quote": "Relevant quote",\n  "advice": "Personalized advice"\n}\n\nBe proactive and magnetic - if the user mentions wanting to do something actionable, offer to do it for them!\n`,n=this.agenticMode?t:`\n${e}\n\nCRITICAL: For casual conversation (like "hi", "hello", "thanks", "okay"), respond with PLAIN TEXT only - NO JSON formatting.\nExamples:\n- "hi" → "Hello! How can I help you today?"\n- "hello" → "Hi there! What's on your mind?"\n- "thanks" → "You're welcome!"\n- "okay" → "Great! Is there anything else I can help with?"\n\nOnly use JSON format for meaningful requests that need life rule analysis.\n\nFor advice requests, use this JSON format:\n{\n  "type": "advice",\n  "ruleMatch": "Rule X: Title of the rule",\n  "ruleNumber": X,\n  "statusEmoji": "✅ or ⚠️",\n  "ruleIcon": "brain for rule 1, shield for rule 2, or bar-chart for rule 3",\n  "alignmentStrength": "Strong or Potential",\n  "alignmentClass": "success or warning",\n  "quote": "A relevant quote related to the rule",\n  "advice": "Personalized advice based on the rule and user message"\n}\n`,r=wr();r&&(this.chatSession=r.startChat({history:[{role:"user",parts:[{text:n}]},{role:"model",parts:[{text:"I understand and will follow these instructions."}]}],generationConfig:{...br}}))}setAgenticMode(e){this.agenticMode!==e&&(this.agenticMode=e,this.initializeChat())}isAgenticModeEnabled(){return this.agenticMode}resetSession(){this.initializeChat()}getHistory(){return this.chatSession,[]}clearSession(){this.chatSession=null,this.initializeChat()}async sendMessage(e){if(!this.chatSession&&(this.initializeChat(),!this.chatSession))return JSON.stringify({type:"advice",ruleMatch:"Connection Error",ruleNumber:0,statusEmoji:"⚠️",ruleIcon:"alert-circle",alignmentStrength:"Error",alignmentClass:"error",quote:"First, solve the problem. Then, write the code.",advice:"There seems to be an issue connecting to the Gemini API. Please check your API key configuration."});try{const n=(await this.chatSession.sendMessage(e)).response.text();if(!n.includes("{")&&!n.includes('"type"'))return n;try{const e=JSON.parse(n);return e.type||(e.type="advice"),JSON.stringify(e)}catch(t){const e=n.match(/```json\n([\s\S]*?)\n```/)||n.match(/```\n([\s\S]*?)\n```/)||n.match(/{[\s\S]*?}/);if(!e)return n;const r=e[1]||e[0],a=JSON.parse(r);return a.type||(a.type="advice"),JSON.stringify(a)}}catch(n){return this.initializeChat(),JSON.stringify({type:"advice",ruleMatch:"Processing Error",ruleNumber:0,statusEmoji:"⚠️",ruleIcon:"alert-circle",alignmentStrength:"Error",alignmentClass:"error",quote:"The obstacle is the way.",advice:"I encountered an issue processing your message. Could you try rephrasing it?"})}}}let jr=0;const kr=new Map,Sr=e=>{if(kr.has(e))return;const t=setTimeout(()=>{kr.delete(e),Dr({type:"REMOVE_TOAST",toastId:e})},1e6);kr.set(e,t)},Cr=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Sr(n):e.toasts.forEach(e=>{Sr(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},_r=[];let Er={toasts:[]};function Dr(e){Er=Cr(Er,e),_r.forEach(e=>{e(Er)})}function Ar({...e}){const t=(jr=(jr+1)%Number.MAX_SAFE_INTEGER,jr.toString()),n=()=>Dr({type:"DISMISS_TOAST",toastId:t});return Dr({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>Dr({type:"UPDATE_TOAST",toast:{...e,id:t}})}}const Ir=({onTranscript:t,onAIAnalysis:n,placeholder:r="Click to start voice recording...",isAnalyzing:a=!1,className:s="",mode:i="diary"})=>{const[l,o]=te.useState(!1),[c,u]=te.useState(""),[d,f]=te.useState(""),[m,p]=te.useState(""),[h,g]=te.useState(!1),[x,v]=te.useState(0),[y,b]=te.useState(0),[w,N]=te.useState(!1),[j,k]=te.useState(!1),S=te.useRef(null),C=te.useRef(null),_=te.useRef(null),E=te.useRef(null),D=te.useRef(null);te.useRef(null);const A=te.useRef(null),I=te.useRef("");te.useEffect(()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;return k(!!e),e&&(S.current=new e,S.current.continuous=!0,S.current.interimResults=!0,S.current.lang="en-US",S.current.onresult=e=>{let t="",n="";for(let a=e.resultIndex;a<e.results.length;a++){const r=e.results[a][0].transcript;e.results[a].isFinal?t+=r:n+=r}t&&(I.current+=t,f(I.current)),p(n);const r=I.current+n;u(r)},S.current.onerror=e=>{o(!1),g(!1);let t="Voice recognition failed";switch(e.error){case"no-speech":t="No speech detected. Please try again.";break;case"audio-capture":t="Microphone access denied or not available.";break;case"not-allowed":t="Microphone permission denied. Please allow microphone access.";break;case"network":t="Network error. Please check your connection."}Ar({title:"Voice Input Error",description:t,variant:"destructive"})},S.current.onend=()=>{w||(o(!1),O(),P())}),()=>{R()}},[]);const T=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});D.current=e,C.current=new(window.AudioContext||window.webkitAudioContext),_.current=C.current.createAnalyser(),E.current=C.current.createMediaStreamSource(e),E.current.connect(_.current),_.current.fftSize=256;const t=new Uint8Array(_.current.frequencyBinCount),n=()=>{if(_.current&&l){_.current.getByteFrequencyData(t);const e=t.reduce((e,t)=>e+t,0)/t.length;v(e/255),requestAnimationFrame(n)}};n()}catch(e){Ar({title:"Microphone Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"})}},O=()=>{D.current&&D.current.getTracks().forEach(e=>e.stop()),C.current&&C.current.close(),v(0)},P=()=>{A.current&&clearInterval(A.current)},R=()=>{S.current&&(l||w)&&S.current.stop(),o(!1),N(!1),O(),P()};if(!j)return e.jsx(Xn,{className:`border-dashed ${s}`,children:e.jsxs(nr,{className:"p-6 text-center",children:[e.jsx(Te,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voice input is not supported in this browser"})]})});const L=(()=>{switch(i){case"diary":return He;case"task":return qe;case"note":return Ge;default:return Pe}})(),M=(()=>{switch(i){case"diary":return"purple";case"task":return"blue";case"note":return"green";default:return"gray"}})();return e.jsx(Xn,{className:`shadow-lg border-2 ${l?`border-${M}-200 bg-${M}-50/30`:"border-gray-200"} ${s}`,children:e.jsx(nr,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:`h-5 w-5 text-${M}-500`}),e.jsxs("span",{className:"font-medium capitalize",children:[i," Voice Input"]})]}),"            ",(l||w)&&e.jsx(sr,{variant:"secondary",className:w?"bg-yellow-100 text-yellow-800":"animate-pulse",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full "+(w?"bg-yellow-500":"bg-red-500 animate-ping")}),w?"Paused":"Recording"]})})]}),"          ",l&&e.jsx(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center py-4",children:e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:20},(t,n)=>e.jsx(De.div,{className:`w-1 bg-${M}-500 rounded-full`,style:{height:Math.max(4,40*x+10*Math.random())},animate:{height:Math.max(4,40*x+10*Math.random())},transition:{duration:.1}},n))})}),w&&e.jsx(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[e.jsx(Oe,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:"Recording Paused"})]})}),(l||w||c)&&e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-sm "+(w?"text-yellow-600":"text-muted-foreground"),children:[(F=y,`${Math.floor(F/60)}:${(F%60).toString().padStart(2,"0")}`)," ",w&&"(Paused)"]})}),e.jsx("div",{className:"flex items-center justify-center gap-2",children:l||w?w?e.jsxs(e.Fragment,{children:[e.jsxs(bn,{onClick:async()=>{if(w)try{o(!0),N(!1),await T(),I.current&&!I.current.endsWith(" ")&&(I.current+=" ",f(I.current),u(I.current)),S.current.start(),Ar({title:"Recording Resumed",description:"Continue speaking..."})}catch(e){N(!0),o(!1)}},size:"lg",variant:"outline",children:[e.jsx(Re,{className:"h-5 w-5 mr-2"}),"Resume"]}),e.jsxs(bn,{onClick:R,size:"lg",variant:"outline",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),"Stop"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(bn,{onClick:()=>{l&&S.current&&(S.current.stop(),N(!0),o(!1),O(),Ar({title:"Recording Paused",description:"Click Resume to continue recording"}))},size:"lg",variant:"outline",children:[e.jsx(Oe,{className:"h-5 w-5 mr-2"}),"Pause"]}),e.jsxs(bn,{onClick:R,size:"lg",variant:"destructive",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),"Stop"]})]}):e.jsxs(bn,{onClick:async()=>{if(j)try{o(!0),w||(u(""),f(""),p(""),I.current=""),N(!1),b(0),A.current=setInterval(()=>{b(e=>e+1)},1e3),await T(),S.current.start(),Ar({title:"Recording Started",description:`Start speaking your ${i}...`})}catch(e){o(!1)}else Ar({title:"Not Supported",description:"Speech recognition is not supported in this browser.",variant:"destructive"})},size:"lg",className:`bg-${M}-500 hover:bg-${M}-600 text-white px-6`,children:[e.jsx(Pe,{className:"h-5 w-5 mr-2"}),"Start Recording"]})}),e.jsx(Me,{children:c&&e.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-3",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Fe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Transcript:"})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:c||r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bn,{onClick:()=>{c.trim()&&(g(!0),t(c),n?setTimeout(()=>{n(`AI analysis of the ${i}: ${c.substring(0,100)}...`),g(!1)},2e3):g(!1),u(""),b(0),Ar({title:"Voice Input Processed",description:"Your speech has been transcribed and saved."}))},disabled:h||!c.trim(),className:"flex-1",children:h?e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Save ",i]})}),n&&e.jsx(bn,{variant:"outline",size:"icon",children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx(bn,{variant:"outline",size:"icon",onClick:()=>{u(""),f(""),p(""),I.current="",b(0)},children:e.jsx($e,{className:"h-4 w-4"})})]})]})}),!l&&!c&&e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:e.jsx("p",{children:"Speak clearly and at a normal pace for best results"})})]})})});var F};async function Tr(e){var t,n,r,a;try{const{data:{user:s}}=await In.auth.getUser();if(!s)throw new Error("User not authenticated");if(e.is_habit&&"daily"===e.habit_frequency&&e.due_date){const i=[],l=new Date,o=new Date(e.due_date),c=e.gemini_analysis||{},u=c.description||e.description||"",d={...e,priority:c.priority||e.priority||"medium",main_topic:(null==(n=null==(t=c.category)?void 0:t.split("→")[0])?void 0:n.trim())||e.main_topic||"Habit",sub_topic:(null==(a=null==(r=c.category)?void 0:r.split("→")[1])?void 0:a.trim())||e.sub_topic||"General",location:c.location||e.location||null,user_id:s.id};for(let t=new Date(l);t<o;t.setDate(t.getDate()+1)){const n=u.match(/(\d{1,2}:\d{2}\s?[AP]M\s?to\s?\d{1,2}:\d{2}\s?[AP]M)/g)||[];if(n.length>0)for(const r of n){const[n,a]=r.split(" to ");i.push({...d,title:`${e.title} - Study Session`,description:`Study from ${n} to ${a}`,due_date:new Date(t).toISOString().split("T")[0],due_time:n.trim()})}else i.push({...d,title:`${e.title}`,description:u,due_date:new Date(t).toISOString().split("T")[0]})}c.due_date&&c.due_time&&i.push({...d,title:`${e.title} - FINAL EXAM`,description:`Check-in at ${c.due_time} for the exam from 9:00 AM to 12:00 PM.`,due_date:c.due_date,due_time:c.due_time,is_habit:!1});const{data:f,error:m}=await In.from("tasks").insert(i).select();if(m)throw m;return(null==f?void 0:f[0])??null}{const{data:t,error:n}=await In.from("tasks").insert([{...e,user_id:s.id}]).select().single();if(n)throw n;return t}}catch(s){return null}}async function Or(e,t){try{const{data:{user:n}}=await In.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:r,error:a}=await In.from("tasks").update(t).eq("id",e).eq("user_id",n.id).select().single();if(a)throw a;return r}catch(n){return null}}async function Pr(e){try{const{data:{user:t}}=await In.auth.getUser();if(!t)throw new Error("User not authenticated");const{error:n}=await In.from("tasks").delete().eq("id",e).eq("user_id",t.id);if(n)throw n;return!0}catch(t){return!1}}async function Rr(e){try{const{data:{user:t}}=await In.auth.getUser();if(!t)throw new Error("User not authenticated");const n={title:e.title,description:e.description,main_topic:"Habit",sub_topic:e.category,location:null,due_date:null,due_time:null,is_holiday:!1,holiday_name:null,status:"pending",priority:"medium",rule_id:e.rule_id||0,gemini_analysis:{type:"habit",category:e.category},is_habit:!0,habit_frequency:e.frequency,habit_target_count:e.target_count,habit_streak_count:0,habit_best_streak:0,habit_color:e.color,habit_category:e.category,user_id:t.id},{data:r,error:a}=await In.from("tasks").insert([n]).select().single();if(a)throw a;return r}catch(t){return null}}var Lr="Switch",[Mr,Fr]=G(Lr),[zr,Br]=Mr(Lr),Ur=te.forwardRef((t,n)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,p]=te.useState(null),h=U(n,e=>p(e)),g=te.useRef(!1),x=!m||(d||!!m.closest("form")),[v,y]=$({prop:s,defaultProp:i??!1,onChange:u,caller:Lr});return e.jsxs(zr,{scope:r,checked:v,disabled:o,children:[e.jsx(C.button,{type:"button",role:"switch","aria-checked":v,"aria-required":l,"data-state":Hr(v),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:h,onClick:q(t.onClick,e=>{y(e=>!e),x&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),x&&e.jsx(qr,{control:m,bubbles:!g.current,name:a,value:c,checked:v,required:l,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Ur.displayName=Lr;var $r="SwitchThumb",Gr=te.forwardRef((t,n)=>{const{__scopeSwitch:r,...a}=t,s=Br($r,r);return e.jsx(C.span,{"data-state":Hr(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:n})});Gr.displayName=$r;var qr=te.forwardRef(({__scopeSwitch:t,control:n,checked:r,bubbles:a=!0,...s},i)=>{const l=te.useRef(null),o=U(l,i),c=H(r),u=W(n);return te.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(c!==r&&n){const t=new Event("click",{bubbles:a});n.call(e,r),e.dispatchEvent(t)}},[c,r,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function Hr(e){return e?"checked":"unchecked"}qr.displayName="SwitchBubbleInput";var Wr=Ur,Vr=Gr;const Yr=te.forwardRef(({className:t,...n},r)=>e.jsx(Wr,{className:vn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...n,ref:r,children:e.jsx(Vr,{className:vn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yr.displayName=Wr.displayName;const Jr=e=>{switch(e){case"urgent":return"red";case"high":return"orange";case"medium":return"yellow";case"low":return"green";default:return"gray"}},Qr=({open:t,onOpenChange:n,onTaskCreate:r})=>{const[a,s]=te.useState(""),[i,l]=te.useState(!1),[o,c]=te.useState(null),[u,d]=te.useState(!1),[f,m]=te.useState("text"),[p,h]=te.useState(!1),[g,x]=te.useState(""),[v,y]=te.useState(""),[b,w]=te.useState(""),[N,j]=te.useState(""),[k,S]=te.useState(""),[C,_]=te.useState("medium"),[E,D]=te.useState("daily"),[A,I]=te.useState(1),[T,O]=te.useState("#8B5CF6"),[P,R]=te.useState("General");te.useEffect(()=>{a.toLowerCase().includes("#habit")&&h(!0)},[a]);const L=()=>{s(""),c(null),d(!1),h(!1),D("daily"),I(1),O("#8B5CF6"),R("General"),n(!1)},M=o?(e=>{switch(e){case 1:return{title:"Seek Truth with Relentless Curiosity",icon:Xe,color:"blue",description:"Learning, research, investigation"};case 2:return{title:"Live with Uncompromising Integrity",icon:et,color:"emerald",description:"Ethical actions, meaningful work"};case 3:return{title:"Grow Through Challenges as an Antifragile System",icon:Ze,color:"violet",description:"Difficult tasks, growth opportunities"};default:return{title:"General Task",icon:Xe,color:"gray",description:"Not aligned with specific rule"}}})(o.ruleAlignment):null,F=null==M?void 0:M.icon;return e.jsx(Tn,{open:t,onOpenChange:n,children:e.jsxs(Ln,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:["        ",e.jsxs(Mn,{children:[e.jsxs(zn,{className:"flex items-center gap-2",children:[p?e.jsx(We,{className:"h-5 w-5 text-purple-500"}):e.jsx(Ue,{className:"h-5 w-5 text-purple-500"}),p?"AI-Powered Habit Creator":"AI-Powered Task Creator"]}),e.jsx(Bn,{children:p?"Create recurring habits that help you build positive routines. Our AI will extract details and set up tracking.":"Describe your task or activity in natural language. Our AI will intelligently extract details like dates, locations, and holiday recognition."})]}),e.jsxs("div",{className:"space-y-4",children:["          ",e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"task-input",children:"Describe your task"}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[p?e.jsx(We,{className:"h-4 w-4 text-purple-500"}):e.jsx(Ve,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:p?"Recurring Habit/Task":"One-time Task"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"One-time"}),e.jsx(Yr,{checked:p,onCheckedChange:h}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Recurring"})]})]}),"            ",a.toLowerCase().includes("#habit")&&!p&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gradient-to-r from-purple-500/10 to-blue-500/10 border border-purple-200 rounded-lg",children:[e.jsx(Ve,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium text-purple-700",children:'Habit detected! Enable "Recurring" mode above to create a habit.'}),e.jsx(bn,{size:"sm",variant:"outline",onClick:()=>h(!0),className:"ml-auto border-purple-300 text-purple-700 hover:bg-purple-50",children:"Enable Recurring"})]}),e.jsxs(_n,{value:f,onValueChange:e=>m(e),className:"w-full",children:[e.jsxs(En,{className:"grid w-full grid-cols-2",children:[e.jsxs(Dn,{value:"text",className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4"}),"Text Input"]}),e.jsxs(Dn,{value:"voice",className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Voice Input"]})]}),e.jsxs(An,{value:"text",className:"space-y-2",children:["                ",e.jsx(Un,{id:"task-input",value:a,onChange:e=>s(e.target.value),placeholder:p?"Example: 'Read for 30 minutes every day' or 'Exercise 3 times per week' or 'Meditate every morning'":"Example: 'I need to play golf on Independence Day at the country club at 2 PM' or 'Set up a meeting with the team next Tuesday'. Type '#habit' or toggle 'Recurring' for habit creation!",className:"min-h-[80px]"})]}),e.jsx(An,{value:"voice",className:"space-y-2",children:e.jsx(Ir,{onTranscript:e=>s(e),mode:"task"})})]}),e.jsx(bn,{onClick:async()=>{if(a.trim()){l(!0);try{const e=await async function(e){const t=wr();if(!t)return null;try{const r=`\nYou are an AI task analyzer that helps break down user input into structured tasks with smart date and location detection.\n\nCurrent context:\n- Today's date: ${(new Date).toISOString().split("T")[0]}\n- Current year: ${(new Date).getFullYear()}\n\nAnalyze the following task input and extract:\n1. Main topic (the primary category/area)\n2. Sub topic (more specific category)  \n3. Title (concise task title)\n4. Description (detailed description)\n5. Location (if specified, including cities, venues, addresses)\n6. Date (if specified, including holiday recognition and relative dates)\n7. Time (if specified)\n8. Priority level (low, medium, high, urgent)\n9. Rule alignment (which of the 3 life rules this aligns with most)\n10. Is this related to a holiday?\n11. Holiday name (if applicable)\n12. Steps (if multi-step process)\n\nHOLIDAY RECOGNITION:\n- Independence Day: July 4th\n- Christmas: December 25th  \n- New Year's Day: January 1st\n- Thanksgiving: 4th Thursday in November\n- Memorial Day: Last Monday in May\n- Labor Day: First Monday in September\n- Halloween: October 31st\n- Valentine's Day: February 14th\n- And other major holidays\n\nDATE PARSING:\n- "Independence Day" → "2025-07-04"\n- "Christmas" → "2025-12-25"\n- "next Monday" → calculate actual date\n- "tomorrow" → calculate actual date\n- "this weekend" → calculate Saturday date\n\nLOCATION EXTRACTION:\n- Extract any mentioned places, cities, venues, golf courses, restaurants, etc.\n- Include full location names when mentioned\n\nMULTI-STEP DETECTION:\n- Break down complex tasks into logical steps\n- For example: "Plan a golf trip" → ["Research golf courses", "Book tee times", "Arrange accommodation", "Pack equipment"]\n\nRespond ONLY with a properly formatted JSON object:\n{\n  "title": "Extracted task title",\n  "description": "Detailed description of what needs to be done",\n  "mainTopic": "Primary category (e.g., Sports, Work, Personal, Health, Travel)",\n  "subTopic": "Specific subcategory (e.g., Golf, Programming, Exercise, Vacation)",\n  "location": "Location if mentioned (or null)",\n  "dueDate": "YYYY-MM-DD format if date mentioned (or null)",\n  "dueTime": "HH:MM format if time mentioned (or null)",\n  "priority": "low/medium/high/urgent",\n  "ruleAlignment": 1, 2, or 3 based on which life rule it aligns with most,\n  "isHoliday": true/false,\n  "holidayName": "Name of holiday if applicable (or null)",\n  "steps": ["Step 1", "Step 2", ...] if multi-step process, or single item array for simple tasks\n}\n\nLife Rules for alignment:\n1. Seek Truth with Relentless Curiosity - learning, research, investigation, studying\n2. Live with Uncompromising Integrity - ethical actions, meaningful work, commitments\n3. Grow Through Challenges as an Antifragile System - difficult tasks, growth opportunities, challenges\n`,a=`Analyze this task input: "${e}"`,s=(await t.generateContent({contents:[{role:"user",parts:[{text:r}]},{role:"model",parts:[{text:"I understand and will analyze tasks according to these instructions."}]},{role:"user",parts:[{text:a}]}],generationConfig:{...br}})).response.text();try{return JSON.parse(s)}catch(n){const e=s.match(/```json\n([\s\S]*?)\n```/)||s.match(/```\n([\s\S]*?)\n```/)||s.match(/{[\s\S]*?}/);if(e){const t=e[1]||e[0];return JSON.parse(t)}throw new Error("Could not parse JSON from response")}}catch(r){return{title:e.slice(0,50),description:e,mainTopic:"General",subTopic:"Task",location:null,dueDate:null,dueTime:null,priority:"medium",ruleAlignment:2,isHoliday:!1,holidayName:null,steps:[e]}}}(a);c(e),x(e.title),y(e.description),w(e.location||""),j(e.dueDate||""),S(e.dueTime||""),_(e.priority)}catch(e){}finally{l(!1)}}},disabled:!a.trim()||i,className:"w-full",children:i?e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing with AI..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"mr-2 h-4 w-4"}),"Analyze Task"]})})]}),o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Analysis Results"}),e.jsx(bn,{variant:"outline",size:"sm",onClick:()=>d(!u),children:u?"View Mode":"Edit Details"})]}),e.jsxs(Xn,{children:[e.jsx(Zn,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[u?e.jsx(ur,{value:g,onChange:e=>x(e.target.value),className:"font-semibold text-lg"}):e.jsx(er,{className:"text-lg",children:g}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(sr,{variant:"outline",className:"text-xs",children:[o.mainTopic," → ",o.subTopic]}),o.isHoliday&&e.jsxs(sr,{variant:"secondary",className:"text-xs bg-red-100 text-red-700",children:["🎉 ",o.holidayName]})]})]}),e.jsxs(sr,{variant:"outline",className:`text-${Jr(C)}-600 border-${Jr(C)}-300`,children:[e.jsx(Je,{className:"h-3 w-3 mr-1"}),C.toUpperCase()]})]})}),e.jsxs(nr,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(cr,{className:"text-xs text-muted-foreground",children:"Description"}),u?e.jsx(Un,{value:v,onChange:e=>y(e.target.value),className:"mt-1",rows:3}):e.jsx("p",{className:"text-sm mt-1",children:v})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(cr,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(_e,{className:"h-3 w-3"}),"Due Date"]}),u?e.jsx(ur,{type:"date",value:N,onChange:e=>j(e.target.value),className:"text-sm"}):e.jsx("p",{className:"text-sm",children:N||"Not specified"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(cr,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Qe,{className:"h-3 w-3"}),"Due Time"]}),u?e.jsx(ur,{type:"time",value:k,onChange:e=>S(e.target.value),className:"text-sm"}):e.jsx("p",{className:"text-sm",children:k||"Not specified"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(cr,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Ke,{className:"h-3 w-3"}),"Location"]}),u?e.jsx(ur,{value:b,onChange:e=>w(e.target.value),placeholder:"Enter location",className:"text-sm"}):e.jsx("p",{className:"text-sm",children:b||"Not specified"})]})]}),"                  ",u&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(cr,{className:"text-xs text-muted-foreground",children:"Priority"}),e.jsxs(dr,{value:C,onValueChange:e=>_(e),children:[e.jsx(mr,{className:"w-full",children:e.jsx(fr,{})}),e.jsxs(gr,{children:[e.jsx(xr,{value:"low",children:"Low"}),e.jsx(xr,{value:"medium",children:"Medium"}),e.jsx(xr,{value:"high",children:"High"}),e.jsx(xr,{value:"urgent",children:"Urgent"})]})]})]}),p&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(We,{className:"h-4 w-4 text-purple-500"}),e.jsx(cr,{className:"text-sm font-medium text-purple-700",children:"Habit Configuration"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(cr,{className:"text-xs text-muted-foreground",children:"Frequency"}),e.jsxs(dr,{value:E,onValueChange:e=>D(e),children:[e.jsx(mr,{className:"w-full",children:e.jsx(fr,{})}),e.jsxs(gr,{children:[e.jsx(xr,{value:"daily",children:"Daily"}),e.jsx(xr,{value:"weekly",children:"Weekly"}),e.jsx(xr,{value:"monthly",children:"Monthly"}),e.jsx(xr,{value:"custom",children:"Custom"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(cr,{className:"text-xs text-muted-foreground",children:"Target Count"}),e.jsx(ur,{type:"number",min:"1",value:A,onChange:e=>I(parseInt(e.target.value)||1),className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(cr,{className:"text-xs text-muted-foreground",children:"Category"}),e.jsxs(dr,{value:P,onValueChange:R,children:[e.jsx(mr,{className:"w-full",children:e.jsx(fr,{})}),e.jsxs(gr,{children:[e.jsx(xr,{value:"Health & Fitness",children:"Health & Fitness"}),e.jsx(xr,{value:"Mindfulness",children:"Mindfulness"}),e.jsx(xr,{value:"Learning",children:"Learning"}),e.jsx(xr,{value:"Productivity",children:"Productivity"}),e.jsx(xr,{value:"Social",children:"Social"}),e.jsx(xr,{value:"Creative",children:"Creative"}),e.jsx(xr,{value:"Financial",children:"Financial"}),e.jsx(xr,{value:"Environmental",children:"Environmental"}),e.jsx(xr,{value:"General",children:"General"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(cr,{className:"text-xs text-muted-foreground",children:"Color"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:T}}),e.jsx(ur,{type:"color",value:T,onChange:e=>O(e.target.value),className:"w-16 h-8 p-1 border-0"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:T})]})]})]})]})]})]}),M&&e.jsxs(Xn,{className:`border-l-4 border-${M.color}-500`,children:[e.jsx(Zn,{className:"pb-2",children:e.jsxs(er,{className:"text-sm flex items-center gap-2",children:[F&&e.jsx(F,{className:`h-4 w-4 text-${M.color}-500`}),"Life Rule Alignment"]})}),e.jsx(nr,{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium text-sm",children:["Rule ",o.ruleAlignment,": ",M.title]}),e.jsx(sr,{variant:"secondary",className:"text-xs",children:M.description})]})})]}),o.steps&&o.steps.length>1&&e.jsxs(Xn,{children:[e.jsx(Zn,{className:"pb-2",children:e.jsx(er,{className:"text-sm",children:"Suggested Steps"})}),e.jsx(nr,{children:e.jsx("ol",{className:"list-decimal list-inside space-y-1",children:o.steps.map((t,n)=>e.jsx("li",{className:"text-sm",children:t},n))})})]})]})]}),"        ",e.jsxs(Fn,{children:[e.jsx(bn,{variant:"outline",onClick:L,children:"Cancel"}),o&&e.jsx(bn,{onClick:async()=>{if(o)try{if(p){const e={title:g,description:v,category:P,frequency:E,target_count:A,color:T,rule_id:o.ruleAlignment},t=await Rr(e);t&&r(t)}else{const e={title:g,description:v,main_topic:o.mainTopic,sub_topic:o.subTopic,location:b||null,due_date:N||null,due_time:k||null,priority:C,rule_id:o.ruleAlignment,is_holiday:o.isHoliday,holiday_name:o.holidayName,gemini_analysis:o,status:"pending",is_habit:!1};r(e)}L()}catch(e){}},children:p?"Create Habit":"Create Task"})]})]})})},Kr=e=>{switch(e){case"urgent":return"red";case"high":return"orange";case"medium":return"yellow";case"low":return"green";default:return"gray"}},Xr=e=>{switch(e){case"completed":return"green";case"in_progress":return"blue";case"cancelled":return"red";default:return"gray"}},Zr=e=>{if(!e)return"Not specified";return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},ea=e=>{if(!e)return"Not specified";const[t,n]=e.split(":"),r=new Date;return r.setHours(parseInt(t),parseInt(n)),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},ta=({open:t,onOpenChange:n,task:r,onStatusChange:a,onEdit:s,onDelete:i})=>{if(!r)return null;const l=(e=>{switch(e){case 1:return{title:"Seek Truth with Relentless Curiosity",icon:Xe,color:"blue",description:"Learning, research, investigation"};case 2:return{title:"Live with Uncompromising Integrity",icon:et,color:"emerald",description:"Ethical actions, meaningful work"};case 3:return{title:"Grow Through Challenges as an Antifragile System",icon:Ze,color:"violet",description:"Difficult tasks, growth opportunities"};default:return{title:"General Task",icon:Xe,color:"gray",description:"Not aligned with specific rule"}}})(r.rule_id),o=l.icon,c=r.gemini_analysis||{};return e.jsx(Tn,{open:t,onOpenChange:n,children:e.jsxs(Ln,{className:"w-[95vw] max-w-4xl h-[95vh] max-h-[95vh] overflow-hidden flex flex-col p-4 sm:p-6",children:[e.jsx(Mn,{className:"flex-shrink-0",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs(zn,{className:"text-lg sm:text-xl mb-2 flex items-start flex-wrap gap-2",children:[e.jsx("span",{className:"break-words",children:r.title}),r.is_holiday&&e.jsxs(sr,{variant:"secondary",className:"text-xs bg-red-100 text-red-700 flex-shrink-0",children:["🎉 ",r.holiday_name]})]}),e.jsx(Bn,{className:"text-sm sm:text-base break-words",children:r.description})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:ml-4",children:[e.jsx(sr,{variant:"outline",className:`text-${Xr(r.status)}-600 border-${Xr(r.status)}-300 text-xs`,children:r.status.replace("_"," ").toUpperCase()}),e.jsxs(sr,{variant:"outline",className:`text-${Kr(r.priority)}-600 border-${Kr(r.priority)}-300 text-xs`,children:[e.jsx(Je,{className:"h-3 w-3 mr-1"}),r.priority.toUpperCase()]})]})]})}),"        ",e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsxs(bn,{onClick:()=>{if(a){const e="completed"===r.status?"pending":"completed";a(r.id,e)}},variant:"completed"===r.status?"outline":"default",size:"sm",className:"w-full",children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"completed"===r.status?"Mark Incomplete":"Mark Complete"]}),s&&e.jsxs(bn,{onClick:()=>s(r),variant:"outline",size:"sm",className:"w-full",children:[e.jsx(tt,{className:"h-4 w-4 mr-2"}),"Edit"]}),i&&e.jsxs(bn,{onClick:()=>i(r.id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 w-full",children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(Xn,{children:[e.jsx(Zn,{className:"pb-3",children:e.jsxs(er,{className:"text-sm flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4 text-blue-500"}),"Schedule"]})}),e.jsxs(nr,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Due Date"}),e.jsx("p",{className:"text-sm font-medium break-words",children:Zr(r.due_date)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Due Time"}),e.jsx("p",{className:"text-sm font-medium",children:ea(r.due_time)})]})]})]}),e.jsxs(Xn,{children:[e.jsx(Zn,{className:"pb-3",children:e.jsxs(er,{className:"text-sm flex items-center gap-2",children:[e.jsx(Ke,{className:"h-4 w-4 text-green-500"}),"Location"]})}),e.jsx(nr,{children:e.jsx("p",{className:"text-sm font-medium break-words",children:r.location||"No location specified"})})]}),e.jsxs(Xn,{children:[e.jsx(Zn,{className:"pb-3",children:e.jsx(er,{className:"text-sm",children:"Categories"})}),e.jsxs(nr,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Main Topic"}),e.jsx(sr,{variant:"outline",className:"text-xs break-words",children:r.main_topic||"General"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Sub Topic"}),e.jsx(sr,{variant:"outline",className:"text-xs break-words",children:r.sub_topic||"Task"})]})]})]}),e.jsxs(Xn,{children:[e.jsx(Zn,{className:"pb-3",children:e.jsxs(er,{className:"text-sm flex items-center gap-2",children:[e.jsx(Qe,{className:"h-4 w-4 text-purple-500"}),"Timeline"]})}),e.jsxs(nr,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Created"}),e.jsx("p",{className:"text-sm font-medium",children:new Date(r.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})})]}),r.completed_at&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"}),e.jsx("p",{className:"text-sm font-medium",children:new Date(r.completed_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})})]})]})]})]}),"          ",e.jsxs(Xn,{className:`border-l-4 border-${l.color}-500`,children:[e.jsx(Zn,{className:"pb-3",children:e.jsxs(er,{className:"text-sm flex items-center gap-2",children:[e.jsx(o,{className:`h-4 w-4 text-${l.color}-500 flex-shrink-0`}),e.jsx("span",{children:"Life Rule Alignment"})]})}),e.jsx(nr,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"font-medium text-sm break-words",children:["Rule ",r.rule_id,": ",l.title]}),e.jsx("p",{className:"text-xs text-muted-foreground break-words",children:l.description})]})})]}),c.steps&&c.steps.length>1&&e.jsxs(Xn,{children:[e.jsxs(Zn,{className:"pb-3",children:[e.jsxs(er,{className:"text-sm flex items-center gap-2",children:[e.jsx(Ue,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}),e.jsx("span",{children:"AI-Generated Steps"})]}),e.jsx(tr,{children:"Suggested breakdown from AI analysis"})]}),e.jsx(nr,{children:e.jsx("ol",{className:"list-decimal list-inside space-y-2",children:c.steps.map((t,n)=>e.jsx("li",{className:"text-sm break-words",children:t},n))})})]}),Object.keys(c).length>0&&e.jsxs(Xn,{children:[e.jsxs(Zn,{className:"pb-3",children:[e.jsxs(er,{className:"text-sm flex items-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}),e.jsx("span",{children:"Original AI Analysis"})]}),e.jsx(tr,{children:"Raw insights from the AI task analysis"})]}),e.jsx(nr,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs",children:[c.mainTopic&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Main Topic"}),e.jsx("p",{className:"font-medium break-words",children:c.mainTopic})]}),c.subTopic&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Sub Topic"}),e.jsx("p",{className:"font-medium break-words",children:c.subTopic})]}),c.ruleAlignment&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Rule Alignment"}),e.jsxs("p",{className:"font-medium",children:["Rule ",c.ruleAlignment]})]}),c.priority&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"AI Priority"}),e.jsx("p",{className:"font-medium capitalize",children:c.priority})]})]})})]})]})]})})},na=[{id:1,title:"Seek Truth with Relentless Curiosity",explanation:"Anchor every decision and belief in evidence, logic, and reality, as inspired by Marcus Aurelius' pursuit of truth as a path to clarity and growth. Acknowledge cognitive biases, as Daniel Kahneman notes, and question assumptions rigorously. Balance honesty with empathy to foster trust without causing harm.",application:"In computer science and robotics, validate hypotheses through experiments and datadebug code until it aligns with reality. In teaching, model intellectual honesty by admitting uncertainties and explaining concepts clearly. Keep a journal to log and review assumptions, treating feedback as a tool to refine your mental models.",why:"Truth is the foundation of progress in engineering and personal integrity. Acting on reality prevents errors akin to bugs in code, ensuring reliable outcomes. Psychological research confirms that aligning with values like honesty enhances well-being."},{id:2,title:"Live with Uncompromising Integrity",explanation:'Let your actions consistently reflect your values, as Marcus Aurelius advises: "If it is not right, do not do it; if it is not true, do not say it." Integrity means aligning words, code, and conduct, even when inconvenient, to build trust and self-respect. Take full responsibility for your commitments, owning outcomes without excuses.',application:'Write clear, documented code and avoid shortcuts like unaddressed "TODO" comments. In teaching, present material truthfully and credit others\' ideas. Meet deadlines reliably; if delays occur, communicate honestly. In robotics, reject unsafe hacks, prioritizing ethical design.',why:"Integrity fosters trust and self-esteem, as psychology research highlights. Like a system that fails gracefully, admitting mistakes builds reliability. In your collaborative and technical work, consistent integrity ensures you're a trusted contributor."},{id:3,title:"Grow Through Challenges as an Antifragile System",explanation:"Embrace adversity as a catalyst for growth, drawing on Nassim Taleb's concept of antifragility and Carol Dweck's growth mindset. Treat failures as feedback, like debugging a program, and iterate to improve. Systematically reflect on outcomes to refine your \"life algorithm,\" ensuring continuous learning and resilience.",application:"In robotics, iterate relentlessly on failed designs, analyzing sensor data or algorithm flaws like version-controlled code. In teaching, tackle new topics to handle tough questions, and journal reflections to identify patterns in setbacks. Seek voluntary challenges, like solving a coding problem solo, to build self-reliance.",why:"Challenges strengthen you, just as stress tests improve robust systems. Psychological research links resilience to success and well-being. By treating setbacks as data, you stay adaptable in fast-evolving fields like AI and robotics, ensuring you thrive amid uncertainty."}],ra=()=>{const[t,n]=te.useState(null),[r,a]=te.useState(na),[s,i]=te.useState([]),[l,o]=te.useState("today"),[c,u]=te.useState(!0),[d,f]=te.useState(!1),[m,p]=te.useState(!1),[h,g]=te.useState(null),[x,v]=te.useState(null),[y,b]=te.useState({totalCompleted:0,ruleDistribution:[0,0,0]}),[w,N]=te.useState(new Date),[j,k]=te.useState([]);te.useEffect(()=>{(async()=>{const{data:{user:e}}=await In.auth.getUser();e?(v(e.id),await S(e.id)):u(!1)})()},[]),te.useEffect(()=>{},[]);const S=async e=>{try{u(!0);const{data:t,error:n}=await In.from("tasks").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;const r=(t||[]).map(e=>{var t;return{id:e.id,title:e.title,description:e.description,date:e.due_date||(null==(t=e.created_at)?void 0:t.split("T")[0])||(new Date).toISOString().split("T")[0],rule_id:e.rule_id||2,completed:"completed"===e.status,status:e.status,priority:e.priority,main_topic:e.main_topic,sub_topic:e.sub_topic,location:e.location,due_date:e.due_date,due_time:e.due_time,is_holiday:e.is_holiday,holiday_name:e.holiday_name,gemini_analysis:e.gemini_analysis,created_at:e.created_at,updated_at:e.updated_at,completed_at:e.completed_at}});i(r);const a=r.filter(e=>e.completed).length,s=[1,2,3].map(e=>r.filter(t=>t.rule_id===e).length);b({totalCompleted:a,ruleDistribution:s})}catch(t){}finally{u(!1)}},C=()=>{const e=(new Date).toISOString().split("T")[0],t=new Date;t.setDate(t.getDate()+7);const n=t.toISOString().split("T")[0];switch(l){case"today":return s.filter(t=>t.date>=e);case"week":return s.filter(t=>t.date>=e&&t.date<=n);default:return s}},_=e=>{switch(e){case 1:return"blue";case 2:return"emerald";case 3:return"violet";default:return"gray"}};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex-1 overflow-auto pb-20",children:e.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 sticky top-0 bg-background/95 backdrop-blur-sm pb-4 z-10",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"LifePilot"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Three powerful rules to guide your journey"})]}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsxs(bn,{size:"sm",variant:"outline",className:"flex items-center gap-2",onClick:()=>u(!0),disabled:c,children:[e.jsx(rt,{className:"h-4 w-4 "+(c?"animate-spin":"")}),"Refresh"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs(Xn,{className:"group hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx(Zn,{className:"pb-2",children:e.jsxs(er,{className:"text-sm font-medium text-muted-foreground flex items-center justify-between",children:[e.jsx("span",{children:"Progress Overview"}),e.jsx(sr,{variant:"outline",className:"bg-green-50 text-green-700",children:"Today"})]})}),e.jsx(nr,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-2xl font-bold",children:y.totalCompleted}),e.jsx("span",{className:"text-muted-foreground",children:"of"}),e.jsx("span",{className:"text-2xl font-bold",children:s.length})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(y.totalCompleted/Math.max(s.length,1)*100),"%"]})})]}),e.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-400 transition-all duration-500",style:{width:y.totalCompleted/Math.max(s.length,1)*100+"%"}})})]})})]}),e.jsxs(Xn,{className:"group hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx(Zn,{className:"pb-2",children:e.jsxs(er,{className:"text-sm font-medium text-muted-foreground flex items-center justify-between",children:[e.jsx("span",{children:"Rule Distribution"}),e.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]})}),e.jsx(nr,{children:e.jsx("div",{className:"space-y-3",children:y.ruleDistribution.map((t,n)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-medium",children:["Rule ",n+1]}),e.jsxs("span",{className:"text-muted-foreground",children:[t," tasks"]})]}),e.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full transition-all duration-500",style:{width:t/Math.max(...y.ruleDistribution)*100+"%",backgroundColor:0===n?"#3b82f6":1===n?"#10b981":"#8b5cf6"}})})]},`rule-${n}`))})})]}),e.jsxs(Xn,{className:"group hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx(Zn,{className:"pb-2",children:e.jsxs(er,{className:"text-sm font-medium text-muted-foreground flex items-center justify-between",children:[e.jsx("span",{children:"Activity Timeline"}),e.jsx(sr,{variant:"outline",className:"bg-blue-50 text-blue-700",children:"Live"})]})}),e.jsx(nr,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Qe,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Last Updated"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[(new Date).toLocaleTimeString()," - ",(new Date).toLocaleDateString()]})]})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Next activity in: ",s.length>0?"2 hours":"No upcoming activities"]})})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[e.jsxs(Xn,{children:[e.jsx(Zn,{className:"pb-2",children:e.jsxs(er,{className:"text-sm font-medium text-muted-foreground flex items-center",children:[e.jsx(He,{className:"h-5 w-5 mr-2 text-purple-500"}),"Daily Diary"]})}),e.jsxs(nr,{className:"flex flex-col items-start",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Write your daily reflections or look at past entries."}),e.jsx(bn,{asChild:!0,className:"w-full mt-auto",children:e.jsx(ae,{to:"/dashboard/daily-diary",children:"Open Diary"})})]})]}),e.jsxs(Xn,{children:[e.jsx(Zn,{className:"pb-2",children:e.jsxs(er,{className:"text-sm font-medium text-muted-foreground flex items-center",children:[e.jsx(Ue,{className:"h-5 w-5 mr-2 text-emerald-500"}),"Smart Task Creator"]})}),e.jsxs(nr,{className:"flex flex-col items-start",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Tell me what you want to do and I'll break it down into smart tasks with dates, locations, and priorities."}),e.jsxs(bn,{onClick:()=>f(!0),className:"w-full mt-auto",variant:"outline",children:[e.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Activity"]})]})]})]}),e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"My Rules"}),e.jsx("div",{className:"space-y-4 mb-8",children:r.map(r=>e.jsx(Xn,{className:"overflow-hidden",children:e.jsxs("div",{className:`border-l-4 border-${_(r.id)}-500`,style:{borderLeftWidth:"4px",borderLeftColor:1===r.id?"#3b82f6":2===r.id?"#10b981":"#8b5cf6"},children:[e.jsxs(Zn,{className:"cursor-pointer",onClick:()=>{return e=r.id,void n(t===e?null:e);var e},children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(er,{className:"text-lg md:text-xl",children:[e.jsxs("span",{className:"mr-2",children:[r.id,"."]}),r.title]}),e.jsx("div",{children:t===r.id?e.jsx(Ie,{className:"h-5 w-5"}):e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsx(tr,{className:"mt-2 line-clamp-2",children:r.explanation})]}),e.jsx(Me,{children:t===r.id&&e.jsxs(De.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:[e.jsx(nr,{className:"pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground mb-1",children:"Explanation"}),e.jsx("p",{children:r.explanation})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground mb-1",children:"Application"}),e.jsx("p",{children:r.application})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground mb-1",children:"Why This Matters"}),e.jsx("p",{children:r.why})]})]})}),e.jsx(rr,{className:"border-t bg-muted/40 py-3",children:e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Associated with ",s.filter(e=>e.rule_id===r.id).length," activities"]})]})})]})})]})},r.id))}),e.jsxs("div",{className:"mt-10",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"My Activities"}),e.jsxs(_n,{defaultValue:"today",onValueChange:e=>o(e),children:[e.jsxs(En,{children:[e.jsx(Dn,{value:"today",children:"Today"}),e.jsx(Dn,{value:"week",children:"This Week"}),e.jsx(Dn,{value:"all",children:"All"})]}),e.jsx(An,{value:l,className:"mt-4",children:e.jsx(Xn,{children:e.jsx(nr,{className:"pt-6",children:0===C().length?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-muted flex items-center justify-center mb-3",children:e.jsx(_e,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-medium mb-1",children:"No activities found"}),e.jsx("p",{className:"text-sm",children:"today"===l?"You don't have any activities scheduled for today.":"No activities found for the selected period."})]}):e.jsx("ul",{className:"space-y-3",children:C().map(t=>e.jsx("li",{className:"p-3 sm:p-4 rounded-md border hover:bg-muted/50 active:bg-muted/70 transition-colors cursor-pointer "+(t.completed?"bg-muted/30":"bg-white dark:bg-gray-800"),onClick:()=>(e=>{g(e),p(!0)})(t),children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[e.jsxs("div",{className:"flex items-start sm:items-center flex-1 gap-3",children:[e.jsx("div",{className:"cursor-pointer hover:scale-110 active:scale-95 transition-transform flex-shrink-0 mt-0.5 sm:mt-0",onClick:e=>{e.stopPropagation(),(async e=>{try{const t=s.find(t=>t.id===e);if(!t)return;const n=t.completed?"pending":"completed",r="completed"===n?(new Date).toISOString():null,{error:a}=await In.from("tasks").update({status:n,completed_at:r}).eq("id",e).eq("user_id",x);if(a)throw a;i(s.map(t=>t.id===e?{...t,completed:!t.completed,status:n}:t));const l=s.map(t=>t.id===e?{...t,completed:!t.completed}:t),o=l.filter(e=>e.completed).length,c=[1,2,3].map(e=>l.filter(t=>t.rule_id===e).length);b({totalCompleted:o,ruleDistribution:c})}catch(t){}})(t.id)},children:t.completed?e.jsx(qe,{className:"h-5 w-5 text-green-500"}):e.jsx("div",{className:"h-5 w-5 rounded-full border-2 hover:border-green-500 transition-colors"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base break-words "+(t.completed?"line-through text-muted-foreground":""),children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center text-xs text-muted-foreground mt-1 gap-2 sm:gap-3",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"whitespace-nowrap",children:new Date(t.date).toLocaleDateString()})}),t.location&&e.jsxs("div",{className:"flex items-center max-w-32 sm:max-w-none",children:[e.jsx(Ke,{className:"h-3 w-3 mr-1 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.location})]}),t.due_time&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"h-3 w-3 mr-1 flex-shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:t.due_time})]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 mt-2 sm:mt-0",children:[t.priority&&"medium"!==t.priority&&e.jsx(sr,{variant:"outline",className:"text-xs flex-shrink-0 "+("urgent"===t.priority?"border-red-500 text-red-500":"high"===t.priority?"border-orange-500 text-orange-500":"low"===t.priority?"border-green-500 text-green-500":"border-gray-500 text-gray-500"),children:t.priority.toUpperCase()}),e.jsxs(sr,{variant:"outline",className:`text-xs flex-shrink-0 border-${_(t.rule_id)}-500 text-${_(t.rule_id)}-500`,style:{borderColor:1===t.rule_id?"#3b82f6":2===t.rule_id?"#10b981":"#8b5cf6",color:1===t.rule_id?"#3b82f6":2===t.rule_id?"#10b981":"#8b5cf6"},children:["Rule ",t.rule_id]})]})]})},t.id))})})})})]})]})]})}),e.jsx(Qr,{open:d,onOpenChange:f,onTaskCreate:async e=>{try{await Tr(e)&&x&&(await S(x),f(!1))}catch(t){}}}),e.jsx(ta,{open:m,onOpenChange:p,task:h,onStatusChange:async(e,t)=>{try{const n="completed"===t?(new Date).toISOString():null;await Or(e,{status:t,completed_at:n})&&x&&(await S(x),h&&h.id===e&&g({...h,status:t,completed:"completed"===t,completed_at:n}))}catch(n){}},onEdit:e=>{p(!1)},onDelete:async e=>{try{await Pr(e),x&&(await S(x),p(!1),g(null))}catch(t){}}})]})},aa=te.forwardRef(({className:t,...n},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:vn("w-full caption-bottom text-sm",t),...n})}));aa.displayName="Table";const sa=te.forwardRef(({className:t,...n},r)=>e.jsx("thead",{ref:r,className:vn("[&_tr]:border-b",t),...n}));sa.displayName="TableHeader";const ia=te.forwardRef(({className:t,...n},r)=>e.jsx("tbody",{ref:r,className:vn("[&_tr:last-child]:border-0",t),...n}));ia.displayName="TableBody";te.forwardRef(({className:t,...n},r)=>e.jsx("tfoot",{ref:r,className:vn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n})).displayName="TableFooter";const la=te.forwardRef(({className:t,...n},r)=>e.jsx("tr",{ref:r,className:vn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n}));la.displayName="TableRow";const oa=te.forwardRef(({className:t,...n},r)=>e.jsx("th",{ref:r,className:vn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n}));oa.displayName="TableHead";const ca=te.forwardRef(({className:t,...n},r)=>e.jsx("td",{ref:r,className:vn("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n}));ca.displayName="TableCell";te.forwardRef(({className:t,...n},r)=>e.jsx("caption",{ref:r,className:vn("mt-4 text-sm text-muted-foreground",t),...n})).displayName="TableCaption";var ua="AlertDialog",[da,fa]=G(ua,[V]),ma=V(),pa=t=>{const{__scopeAlertDialog:n,...r}=t,a=ma(n);return e.jsx(o,{...a,...r,modal:!0})};pa.displayName=ua;var ha=te.forwardRef((t,n)=>{const{__scopeAlertDialog:r,...a}=t,s=ma(r);return e.jsx(c,{...s,...a,ref:n})});ha.displayName="AlertDialogTrigger";var ga=t=>{const{__scopeAlertDialog:n,...a}=t,s=ma(n);return e.jsx(r,{...s,...a})};ga.displayName="AlertDialogPortal";var xa=te.forwardRef((t,r)=>{const{__scopeAlertDialog:a,...s}=t,i=ma(a);return e.jsx(n,{...i,...s,ref:r})});xa.displayName="AlertDialogOverlay";var va="AlertDialogContent",[ya,ba]=da(va),wa=J("AlertDialogContent"),Na=te.forwardRef((t,n)=>{const{__scopeAlertDialog:r,children:s,...i}=t,l=ma(r),o=te.useRef(null),c=U(n,o),u=te.useRef(null);return e.jsx(Y,{contentName:va,titleName:ja,docsSlug:"alert-dialog",children:e.jsx(ya,{scope:r,cancelRef:u,children:e.jsxs(a,{role:"alertdialog",...l,...i,ref:c,onOpenAutoFocus:q(i.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=u.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[e.jsx(wa,{children:s}),e.jsx(Aa,{contentRef:o})]})})})});Na.displayName=va;var ja="AlertDialogTitle",ka=te.forwardRef((t,n)=>{const{__scopeAlertDialog:r,...a}=t,s=ma(r);return e.jsx(i,{...s,...a,ref:n})});ka.displayName=ja;var Sa="AlertDialogDescription",Ca=te.forwardRef((t,n)=>{const{__scopeAlertDialog:r,...a}=t,s=ma(r);return e.jsx(l,{...s,...a,ref:n})});Ca.displayName=Sa;var _a=te.forwardRef((t,n)=>{const{__scopeAlertDialog:r,...a}=t,i=ma(r);return e.jsx(s,{...i,...a,ref:n})});_a.displayName="AlertDialogAction";var Ea="AlertDialogCancel",Da=te.forwardRef((t,n)=>{const{__scopeAlertDialog:r,...a}=t,{cancelRef:i}=ba(Ea,r),l=ma(r),o=U(n,i);return e.jsx(s,{...l,...a,ref:o})});Da.displayName=Ea;var Aa=({contentRef:e})=>{const t=`\`${va}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${va}\` by passing a \`${Sa}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${va}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return te.useEffect(()=>{var t;document.getElementById(null==(t=e.current)?void 0:t.getAttribute("aria-describedby"))},[t,e]),null},Ia=xa,Ta=Na,Oa=_a,Pa=Da,Ra=ka,La=Ca;const Ma=pa,Fa=ha,za=ga,Ba=te.forwardRef(({className:t,...n},r)=>e.jsx(Ia,{className:vn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:r}));Ba.displayName=Ia.displayName;const Ua=te.forwardRef(({className:t,...n},r)=>e.jsxs(za,{children:[e.jsx(Ba,{}),e.jsx(Ta,{ref:r,className:vn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n})]}));Ua.displayName=Ta.displayName;const $a=({className:t,...n})=>e.jsx("div",{className:vn("flex flex-col space-y-2 text-center sm:text-left",t),...n});$a.displayName="AlertDialogHeader";const Ga=({className:t,...n})=>e.jsx("div",{className:vn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});Ga.displayName="AlertDialogFooter";const qa=te.forwardRef(({className:t,...n},r)=>e.jsx(Ra,{ref:r,className:vn("text-lg font-semibold",t),...n}));qa.displayName=Ra.displayName;const Ha=te.forwardRef(({className:t,...n},r)=>e.jsx(La,{ref:r,className:vn("text-sm text-muted-foreground",t),...n}));Ha.displayName=La.displayName;const Wa=te.forwardRef(({className:t,...n},r)=>e.jsx(Oa,{ref:r,className:vn(yn(),t),...n}));Wa.displayName=Oa.displayName;const Va=te.forwardRef(({className:t,...n},r)=>e.jsx(Pa,{ref:r,className:vn(yn({variant:"outline"}),"mt-2 sm:mt-0",t),...n}));Va.displayName=Pa.displayName;var Ya,Ja={exports:{}};
/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/const Qa=ee((Ya||(Ya=1,Ja.exports=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,s={},i=0,l={};function o(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new m(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(s=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,s)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&w(this._config.beforeFirstChunk)&&void 0!==(s=this._config.beforeFirstChunk(e))&&(e=s),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+e;var s=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=s.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),s&&s.data&&(this._rowCount+=s.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,a)n.postMessage({results:s,workerId:l.WORKER_ID,finished:r});else if(w(this._config.chunk)&&!t){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=s=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!r||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):a&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=l.RemoteChunkSize),o.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var a;this._config.chunkSize&&(a=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+a));try{t.send(this._config.downloadRequestBody)}catch(s){this._chunkError(s.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(e=(e=t).getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=l.LocalChunkSize),o.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,a=(this._config.chunkSize&&(a=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,a)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;o.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function f(e){o.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){o.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){o.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(r){this._streamError(r)}},this),this._streamError=b(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=b(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=b(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(e){var t,n,r,a,s=Math.pow(2,53),i=-s,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,d=0,f=0,m=!1,g=!1,x=[],v={data:[],errors:[],meta:{}};function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function N(){if(v&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter(function(e){return!b(e)})),j()){let n=function(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),x.push(t)};if(v)if(Array.isArray(v.data[0])){for(var t=0;j()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n)}function n(t,n){for(var r=e.header?{}:[],a=0;a<t.length;a++){var l=a,u=t[a];u=((t,n)=>{return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(o.test(e)&&(e=parseFloat(e),i<e&&e<s))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n;var r})(l=e.header?a>=x.length?"__parsed_extra":x[a]:l,u=e.transform?e.transform(u,l):u),"__parsed_extra"===l?(r[l]=r[l]||[],r[l].push(u)):r[l]=u}return e.header&&(a>x.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+x.length+" fields but parsed "+a,f+n):a<x.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+x.length+" fields but parsed "+a,f+n)),r}var a;v&&(e.header||e.dynamicTyping||e.transform)&&(a=1,!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(n),a=v.data.length):v.data=n(v.data,0),e.header&&v.meta&&(v.meta.fields=x),f+=a)}function j(){return e.header&&0===x.length}function k(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),v.errors.push(e)}w(e.step)&&(a=e.step,e.step=function(t){v=t,j()?N():(N(),0!==v.data.length&&(d+=t.data.length,e.preview&&d>e.preview?n.abort():(v.data=v.data[0],a(v,u))))}),this.parse=function(a,s,i){var o=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(a,o)),r=!1,e.delimiter?w(e.delimiter)&&(e.delimiter=e.delimiter(a),v.meta.delimiter=e.delimiter):((o=((t,n,r,a,s)=>{var i,o,c,u;s=s||[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var d=0;d<s.length;d++){for(var f,m=s[d],p=0,g=0,x=0,v=(c=void 0,new h({comments:a,delimiter:m,newline:n,preview:10}).parse(t)),y=0;y<v.data.length;y++)r&&b(v.data[y])?x++:(g+=f=v.data[y].length,void 0===c?c=f:0<f&&(p+=Math.abs(f-c),c=f));0<v.data.length&&(g/=v.data.length-x),(void 0===o||p<=o)&&(void 0===u||u<g)&&1.99<g&&(o=p,i=m,u=g)}return{successful:!!(e.delimiter=i),bestDelimiter:i}})(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=o.bestDelimiter:(r=!0,e.delimiter=l.DefaultDelimiter),v.meta.delimiter=e.delimiter),o=y(e),e.preview&&e.header&&o.preview++,t=a,n=new h(o),v=n.parse(t,s,i),N(),m?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return m},this.pause=function(){m=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(m=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,n.abort(),v.meta.aborted=!0,w(e.complete)&&e.complete(v),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(p(t)+"([^]*?)"+p(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var r=0,a=0;a<n.length;a++)"\n"===n[a][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,a=e.step,s=e.preview,i=e.fastMode,o=null,c=!1,u=null==e.quoteChar?'"':e.quoteChar,d=u;if(void 0!==e.escapeChar&&(d=e.escapeChar),("string"!=typeof t||-1<l.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<l.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var f=0,m=!1;this.parse=function(l,h,g){if("string"!=typeof l)throw new Error("Input must be a string");var x=l.length,v=t.length,y=n.length,b=r.length,N=w(a),j=[],k=[],S=[],C=f=0;if(!l)return F();if(i||!1!==i&&-1===l.indexOf(u)){for(var _=l.split(n),E=0;E<_.length;E++){if(S=_[E],f+=S.length,E!==_.length-1)f+=n.length;else if(g)return F();if(!r||S.substring(0,b)!==r){if(N){if(j=[],P(S.split(t)),z(),m)return F()}else P(S.split(t));if(s&&s<=E)return j=j.slice(0,s),F(!0)}}return F()}for(var D=l.indexOf(t,f),A=l.indexOf(n,f),I=new RegExp(p(d)+p(u),"g"),T=l.indexOf(u,f);;)if(l[f]===u)for(T=f,f++;;){if(-1===(T=l.indexOf(u,T+1)))return g||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:j.length,index:f}),L();if(T===x-1)return L(l.substring(f,T).replace(I,u));if(u===d&&l[T+1]===d)T++;else if(u===d||0===T||l[T-1]!==d){-1!==D&&D<T+1&&(D=l.indexOf(t,T+1));var O=R(-1===(A=-1!==A&&A<T+1?l.indexOf(n,T+1):A)?D:Math.min(D,A));if(l.substr(T+1+O,v)===t){S.push(l.substring(f,T).replace(I,u)),l[f=T+1+O+v]!==u&&(T=l.indexOf(u,f)),D=l.indexOf(t,f),A=l.indexOf(n,f);break}if(O=R(A),l.substring(T+1+O,T+1+O+y)===n){if(S.push(l.substring(f,T).replace(I,u)),M(T+1+O+y),D=l.indexOf(t,f),T=l.indexOf(u,f),N&&(z(),m))return F();if(s&&j.length>=s)return F(!0);break}k.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:j.length,index:f}),T++}}else if(r&&0===S.length&&l.substring(f,f+b)===r){if(-1===A)return F();f=A+y,A=l.indexOf(n,f),D=l.indexOf(t,f)}else if(-1!==D&&(D<A||-1===A))S.push(l.substring(f,D)),f=D+v,D=l.indexOf(t,f);else{if(-1===A)break;if(S.push(l.substring(f,A)),M(A+y),N&&(z(),m))return F();if(s&&j.length>=s)return F(!0)}return L();function P(e){j.push(e),C=f}function R(e){var t=0;return-1!==e&&(e=l.substring(T+1,e))&&""===e.trim()?e.length:t}function L(e){return g||(void 0===e&&(e=l.substring(f)),S.push(e),f=x,P(S),N&&z()),F()}function M(e){f=e,P(S),S=[],A=l.indexOf(n,f)}function F(r){if(e.header&&!h&&j.length&&!c){var a=j[0],s=Object.create(null),i=new Set(a);let t=!1;for(let n=0;n<a.length;n++){let r=a[n];if(s[r=w(e.transformHeader)?e.transformHeader(r,n):r]){let e,l=s[r];for(;e=r+"_"+l,l++,i.has(e););i.add(e),a[n]=e,s[r]++,t=!0,(o=null===o?{}:o)[e]=r}else s[r]=1,a[n]=r;i.add(r)}c=!0}return{data:j,errors:k,meta:{delimiter:t,linebreak:n,aborted:m,truncated:!!r,cursor:C+(h||0),renamedHeaders:o}}}function z(){a(F()),j=[],k=[]}},this.abort=function(){m=!0},this.getCharIndex=function(){return f}}function g(e){var t=e.data,n=s[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){r=!0,x(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(w(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},a),!r);i++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!r&&x(t.workerId,t.results)}function x(e,t){var n=s[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete s[e]}function v(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=y(e[t]);return n}function b(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return l.parse=function(t,r){var a,o=(r=r||{}).dynamicTyping||!1;if(w(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.transform=!!w(r.transform)&&r.transform,!r.worker||!l.WORKERS_SUPPORTED)return o=null,l.NODE_STREAM_INPUT,"string"==typeof t?(t=65279!==(a=t).charCodeAt(0)?a:a.slice(1),o=new(r.download?c:d)(r)):!0===t.readable&&w(t.read)&&w(t.on)?o=new f(r):(n.File&&t instanceof File||t instanceof Object)&&(o=new u(r)),o.stream(t);(o=(()=>{var t,r,a;return!!l.WORKERS_SUPPORTED&&(r=n.URL||n.webkitURL||null,a=e.toString(),t=l.BLOB_URL||(l.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",a,")();"],{type:"text/javascript"}))),(t=new n.Worker(t)).onmessage=g,t.id=i++,s[t.id]=t)})()).userStep=r.step,o.userChunk=r.chunk,o.userComplete=r.complete,o.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,o.postMessage({input:t,config:r,workerId:o.id})},l.unparse=function(e,t){var n=!1,r=!0,a=",",s="\r\n",i='"',o=i+i,c=!1,u=null,d=!1,f=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||l.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(a=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(i=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(o=t.escapeChar+i),t.escapeFormulae instanceof RegExp?d=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(d=/^[=+\-@\t\r].*$/)}})(),new RegExp(p(i),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return m(null,e,c);if("object"==typeof e[0])return m(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),m(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function m(e,t,n){var i="",l=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),o=!Array.isArray(t[0]);if(l&&r){for(var c=0;c<e.length;c++)0<c&&(i+=a),i+=h(e[c],c);0<t.length&&(i+=s)}for(var u=0;u<t.length;u++){var d=(l?e:t[u]).length,f=!1,m=l?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!l&&(f="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&l){for(var p=[],g=0;g<d;g++){var x=o?e[g]:g;p.push(t[u][x])}f=""===p.join("").trim()}if(!f){for(var v=0;v<d;v++){0<v&&!m&&(i+=a);var y=l&&o?e[v]:v;i+=h(t[u][y],v)}u<t.length-1&&(!n||0<d&&!m)&&(i+=s)}}return i}function h(e,t){var r,s;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(s=!1,d&&"string"==typeof e&&d.test(e)&&(e="'"+e,s=!0),r=e.toString().replace(f,o),(s=s||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,l.BAD_DELIMITERS)||-1<r.indexOf(a)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?i+r+i:r)}},l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=h,l.ParserHandle=m,l.NetworkStreamer=c,l.FileStreamer=u,l.StringStreamer=d,l.ReadableStreamStreamer=f,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},a=[];return this.each(function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)a.push({file:this.files[s],inputElem:this,instanceConfig:t.extend({},r)})}),s(),this;function s(){if(0===a.length)w(e.complete)&&e.complete();else{var n,r,s,o,c=a[0];if(w(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return n="AbortError",r=c.file,s=c.inputElem,o=u.reason,void(w(e.error)&&e.error({name:n},r,s,o));if("skip"===u.action)return void i();"object"==typeof u.config&&(c.instanceConfig=t.extend(c.instanceConfig,u.config))}else if("skip"===u)return void i()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(d)&&d(e,c.file,c.inputElem),i()},l.parse(c.file,c.instanceConfig)}}function i(){a.splice(0,1),s()}}),a&&(n.onmessage=function(e){e=e.data,void 0===l.WORKER_ID&&e&&(l.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=l.parse(e.input,e.config))&&n.postMessage({workerId:l.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(o.prototype)).constructor=c,(u.prototype=Object.create(o.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(f.prototype=Object.create(o.prototype)).constructor=f,l}()),Ja.exports)),Ka=({onAddContact:t,onImportContacts:n,isSearching:r,searchQuery:a})=>r?e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-muted/30 flex items-center justify-center mb-4",children:e.jsx(it,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No matches found"}),e.jsxs("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:['No contacts match your search for "',a,'". Try a different search term or clear your search.']})]}):e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-muted/30 flex items-center justify-center mb-4",children:e.jsx(lt,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No contacts yet"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Add your first contact manually or import your existing contacts from Google."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(Xn,{className:"p-6 cursor-pointer hover:border-primary/50 transition-all",onClick:t,children:[e.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-3",children:e.jsx(ot,{className:"h-6 w-6 text-primary"})}),e.jsx("h4",{className:"font-medium mb-2",children:"Add Contact Manually"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enter contact details one by one"}),e.jsx(bn,{size:"sm",className:"w-full",onClick:t,children:"Add Contact"})]}),e.jsxs(Xn,{className:"p-6 cursor-pointer hover:border-primary/50 transition-all",onClick:n,children:[e.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-3",children:e.jsx(ct,{className:"h-6 w-6 text-primary"})}),e.jsx("h4",{className:"font-medium mb-2",children:"Import from Google"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Import contacts from a Google CSV export"}),e.jsx(bn,{size:"sm",variant:"outline",className:"w-full",onClick:n,children:"Import Contacts"})]})]})]}),Xa=new nn("AIzaSyBvBjVpsuiriUakXLLNy8LwMTvARG8taKY");const Za=()=>{const[t,n]=te.useState([]),[r,a]=te.useState(!0),[s,i]=te.useState(""),[l,o]=te.useState({name:"",email:"",phone:"",address:"",company:"",notes:"",family_access_enabled:!1}),[c,u]=te.useState(null),[d,f]=te.useState(!1),[m,p]=te.useState(!1),[h,g]=te.useState(null),[x,v]=te.useState(!1),[y,b]=te.useState(null),[w,N]=te.useState(""),[j,k]=te.useState([]),[S,C]=te.useState(!1),[_,E]=te.useState(null),[D,A]=te.useState(!1),[I,T]=te.useState(null);te.useEffect(()=>{(async()=>{const{data:{user:e}}=await In.auth.getUser();e&&g(e.id),P()})()},[]);const O=()=>{var e;null==(e=document.getElementById("csvFileUpload"))||e.click()},P=async()=>{try{a(!0);let e=h;if(!e){const{data:{user:t}}=await In.auth.getUser();e=(null==t?void 0:t.id)||null,g(e)}if(!e)return void a(!1);const{data:t,error:r}=await In.from("contacts").select("*").eq("user_id",e).order("name",{ascending:!0});if(r)throw r;n(t||[])}catch(e){Ar({title:"Error",description:"Failed to load contacts. Please try again.",variant:"destructive"})}finally{a(!1)}},R=t.filter(e=>{var t,n,r,a,i;const l=s.toLowerCase();return(null==(t=e.name)?void 0:t.toLowerCase().includes(l))||(null==(n=e.email)?void 0:n.toLowerCase().includes(l))||(null==(r=e.phone)?void 0:r.toLowerCase().includes(l))||(null==(a=e.company)?void 0:a.toLowerCase().includes(l))||(null==(i=e.notes)?void 0:i.toLowerCase().includes(l))}),L=async()=>{if(c)try{const{data:e,error:t}=await In.from("contacts").update(c).eq("id",c.id).select();if(t)throw t;Ar({title:"Contact Updated",description:"Contact information has been updated successfully."}),p(!1),P()}catch(e){Ar({title:"Error",description:"Failed to update contact. Please try again.",variant:"destructive"})}},M=async e=>{const t=(e=>`${window.location.origin}/family/register?${new URLSearchParams({contactId:e.id,name:e.name}).toString()}`)(e);try{await navigator.clipboard.writeText(t),Ar({title:"Link Copied!",description:`Registration link for ${e.name} copied to clipboard`})}catch(n){Ar({title:"Error",description:"Failed to copy link. Please try again.",variant:"destructive"})}},F=async e=>{try{const{data:t,error:n}=await In.from("contact_stories").select("*").eq("contact_id",e).order("created_at",{ascending:!1});if(n)throw n;k(t||[])}catch(t){Ar({title:"Error",description:"Failed to load stories for this contact.",variant:"destructive"})}},z=async e=>{try{let n;E(e),C(!0),T(e.id);try{n=await async function(e){try{const t=Xa.getGenerativeModel({model:"gemini-2.0-flash"}),n=`\n    Format the following diary entry according to these guidelines:\n    1. Keep all the original information intact\n    2. Organize the content into clear paragraphs\n    3. Highlight location names in **bold** (e.g., **Restaurant Name**)\n    4. Highlight time references in *italics* (e.g., *morning*)\n    5. Fix any grammar or spelling issues\n    6. Add proper punctuation if missing\n    7. Maintain the original voice and perspective\n    8. Don't add fictional details - only work with what was provided\n    9. Format the entry starting with today's date as a heading\n\n    Original text:\n    ${e}\n    `,r=await t.generateContent(n);return(await r.response).text().replace(/^## (.*?)$/gm,"<h2>$1</h2>").split("\n\n").map(e=>e.trim()).filter(e=>e&&!e.startsWith("<h2>")).map(e=>`<p>${e}</p>`).join("").replace(/\*\*(.*?)\*\*/g,'<span class="location-highlight">$1</span>').replace(/\*(.*?)\*/g,'<span class="time-highlight">$1</span>')}catch(r){const n=(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),a=["restaurant","cafe","coffee shop","office","home","house","apartment","park","store","mall","shopping center","school","university","college","library","hotel","airport","station","bus stop","theater","cinema","museum","gallery","gym","studio","class","classroom","lab","laboratory","hospital","clinic","doctor","church","temple","mosque","synagogue","beach","mountain","lake","river","forest","garden","yard","patio","balcony","room","bedroom","bathroom","kitchen","living room","hall","street","road","avenue","boulevard","highway","path","alley","bar","pub","club","lounge","diner","bakery","food court"],s=["morning","afternoon","evening","night","midnight","noon","today","yesterday","tomorrow","last night","this morning","monday","tuesday","wednesday","thursday","friday","saturday","sunday","weekend","weekday","week","month","year","decade","century","january","february","march","april","may","june","july","august","september","october","november","december","spring","summer","fall","autumn","winter","early","late","soon","later","earlier","meanwhile","afterwards","before","after","during","am","pm","o'clock","minute","hour","second","moment","instant","day","night"];let i=e.split("\n").filter(e=>e.trim()).join("\n\n");return a.filter(e=>e.includes(" ")).sort((e,t)=>t.length-e.length).forEach(e=>{const t=new RegExp(e,"gi");i=i.replace(t,e=>`<span class="location-highlight">${e}</span>`)}),a.filter(e=>!e.includes(" ")).forEach(e=>{const t=new RegExp(`\\b${e}\\b`,"gi");i=i.replace(t,e=>`<span class="location-highlight">${e}</span>`)}),s.filter(e=>e.includes(" ")).sort((e,t)=>t.length-e.length).forEach(e=>{const t=new RegExp(e,"gi");i=i.replace(t,e=>`<span class="time-highlight">${e}</span>`)}),s.filter(e=>!e.includes(" ")).forEach(e=>{const t=new RegExp(`\\b${e}\\b`,"gi");i=i.replace(t,e=>`<span class="time-highlight">${e}</span>`)}),i=i.replace(/\b([0-9]{1,2})(:[0-9]{2})?\s*(am|pm|AM|PM)?\b/g,e=>`<span class="time-highlight">${e}</span>`),`<h2>${n}</h2>\n\n${i}`}}(e.content)}catch(t){const r=(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});n=`## ${r}\n\n${e.content.split("\n").filter(e=>e.trim()).join("\n\n")}`}const{error:r}=await In.from("contact_stories").update({formatted_content:n}).eq("id",e.id);if(r)throw r;k(t=>t.map(t=>t.id===e.id?{...t,formatted_content:n}:t)),A(!0),Ar({title:"Story Formatted",description:"Your interaction has been reformatted successfully."})}catch(n){Ar({title:"Error",description:"Failed to format your story. Please try again.",variant:"destructive"})}finally{C(!1),T(null)}};return e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Contacts & Notes"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your network and keep track of important details."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Tn,{open:d,onOpenChange:f,children:[e.jsx(On,{asChild:!0,children:e.jsxs(bn,{className:"flex items-center gap-2",children:[e.jsx(ot,{size:16}),e.jsx("span",{className:"hidden md:inline",children:"Add Contact"})]})}),e.jsxs(Ln,{className:"sm:max-w-md",children:[e.jsxs(Mn,{children:[e.jsx(zn,{children:"Add New Contact"}),e.jsx(Bn,{children:"Enter the details of your new contact."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsxs(cr,{htmlFor:"name",className:"text-right",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(ur,{id:"name",value:l.name,onChange:e=>o({...l,name:e.target.value}),className:"col-span-3",placeholder:"Full Name"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"email",className:"text-right",children:"Email"}),e.jsx(ur,{id:"email",value:l.email,onChange:e=>o({...l,email:e.target.value}),className:"col-span-3",placeholder:"Email Address",type:"email"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"phone",className:"text-right",children:"Phone"}),e.jsx(ur,{id:"phone",value:l.phone,onChange:e=>o({...l,phone:e.target.value}),className:"col-span-3",placeholder:"Phone Number"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"company",className:"text-right",children:"Company"}),e.jsx(ur,{id:"company",value:l.company,onChange:e=>o({...l,company:e.target.value}),className:"col-span-3",placeholder:"Company or Organization"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"address",className:"text-right",children:"Address"}),"                  ",e.jsx(ur,{id:"address",value:l.address,onChange:e=>o({...l,address:e.target.value}),className:"col-span-3",placeholder:"Address"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"family-access",className:"text-right",children:"Family Access"}),e.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[e.jsx(Yr,{id:"family-access",checked:l.family_access_enabled||!1,onCheckedChange:e=>o({...l,family_access_enabled:e})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Allow this contact to register for family portal"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"notes",className:"text-right",children:"Notes"}),e.jsx(Un,{id:"notes",value:l.notes,onChange:e=>o({...l,notes:e.target.value}),className:"col-span-3",placeholder:"Additional notes about this contact",rows:3})]})]}),e.jsxs(Fn,{children:[e.jsx(bn,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(bn,{onClick:async()=>{try{if(!l.name||!l.email&&!l.phone)return void Ar({title:"Missing Information",description:"Name and either email or phone are required.",variant:"destructive"});let e=h;if(!e){const{data:{user:t}}=await In.auth.getUser();e=(null==t?void 0:t.id)||null,g(e)}if(!e)return void Ar({title:"Authentication Required",description:"You must be signed in to add contacts.",variant:"destructive"});const t={...l,created_at:(new Date).toISOString(),tags:[],user_id:e},{data:n,error:r}=await In.from("contacts").insert([t]).select();if(r)throw r;Ar({title:"Contact Added",description:"New contact has been successfully added."}),o({name:"",email:"",phone:"",address:"",company:"",notes:"",family_access_enabled:!1}),f(!1),P()}catch(e){Ar({title:"Error",description:"Failed to add contact. Please try again.",variant:"destructive"})}},children:"Save Contact"})]})]})]}),e.jsxs(Gn,{children:[e.jsx(qn,{asChild:!0,children:e.jsxs(bn,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ct,{size:16}),e.jsx("span",{className:"hidden md:inline",children:"Import/Export"})]})}),e.jsxs(Hn,{children:[e.jsx(Vn,{children:"Data Management"}),e.jsxs(Wn,{className:"flex items-center gap-2 cursor-pointer",onClick:O,children:[e.jsx(ct,{size:16}),e.jsx("span",{children:"Import from Google CSV"})]}),e.jsxs(Wn,{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{const e=R.map(e=>({Name:e.name,Email:e.email,Phone:e.phone,Address:e.address||"",Company:e.company||"",Notes:e.notes||""})),t=Qa.unparse(e),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download",`contacts_export_${(new Date).toISOString().slice(0,10)}.csv`),document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:[e.jsx(ut,{size:16}),e.jsx("span",{children:"Export Current List"})]})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(ur,{placeholder:"Search contacts...",value:s,onChange:e=>i(e.target.value),className:"pl-10 w-full md:max-w-sm"})]}),e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsx(er,{children:"Your Contacts"}),e.jsxs(tr,{children:[R.length," ",1===R.length?"contact":"contacts"," ",s?"found":"total"]})]}),e.jsx(nr,{children:r?e.jsx("div",{className:"h-60 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-opacity-50 border-t-primary rounded-full"})}):0===R.length?e.jsx(Ka,{onAddContact:()=>f(!0),onImportContacts:O,isSearching:!!s,searchQuery:s}):e.jsx("div",{className:"rounded-md border overflow-hidden",children:e.jsxs(aa,{children:["                ",e.jsx(sa,{children:e.jsxs(la,{children:[e.jsx(oa,{className:"w-[200px]",children:"Name"}),e.jsx(oa,{className:"hidden md:table-cell",children:"Contact Info"}),e.jsx(oa,{className:"hidden lg:table-cell",children:"Company"}),e.jsx(oa,{className:"hidden xl:table-cell",children:"Family Access"}),e.jsx(oa,{className:"hidden lg:table-cell",children:"Added On"}),e.jsx(oa,{className:"w-[150px]",children:"Actions"})]})}),e.jsx(ia,{children:R.map(t=>e.jsxs(la,{children:[e.jsx(ca,{className:"font-medium",children:t.name}),e.jsxs(ca,{className:"hidden md:table-cell",children:[e.jsxs("div",{className:"space-y-1",children:[t.email&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(ft,{size:14,className:"text-muted-foreground"}),e.jsx("span",{children:t.email})]}),t.phone&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(mt,{size:14,className:"text-muted-foreground"}),e.jsx("span",{children:t.phone})]}),t.address&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(Ke,{size:14,className:"text-muted-foreground"}),e.jsx("span",{className:"truncate max-w-[200px]",children:t.address})]})]}),"                      "]}),e.jsx(ca,{className:"hidden lg:table-cell",children:t.company||"—"}),e.jsx(ca,{className:"hidden xl:table-cell",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yr,{checked:t.family_access_enabled||!1,onCheckedChange:e=>(async(e,t)=>{try{const{error:n}=await In.from("contacts").update({family_access_enabled:t,family_member_id:t?e.family_member_id:null}).eq("id",e.id);if(n)throw n;Ar({title:t?"Family Access Enabled":"Family Access Disabled",description:t?`${e.name} can now register for family portal access`:`${e.name} no longer has family portal access`}),P()}catch(n){Ar({title:"Error",description:"Failed to update family access. Please try again.",variant:"destructive"})}})(t,e),className:"scale-75"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.family_access_enabled?"Enabled":"Disabled"})]}),t.family_access_enabled&&e.jsx("div",{className:"flex items-center gap-1",children:t.family_member_id?e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[e.jsx(Se,{size:12}),e.jsx("span",{children:"Registered"})]}):e.jsxs(bn,{variant:"outline",size:"sm",onClick:()=>M(t),className:"h-6 px-2 text-xs",children:[e.jsx(pt,{size:10,className:"mr-1"}),"Copy Link"]})})]})}),e.jsx(ca,{className:"hidden lg:table-cell",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(ht,{size:14,className:"text-muted-foreground"}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString()})]})}),e.jsx(ca,{children:e.jsxs(Tn,{open:m&&(null==c?void 0:c.id)===t.id,onOpenChange:e=>{e||p(!1)},children:[e.jsxs(Ma,{children:[e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(bn,{variant:"ghost",size:"icon",onClick:()=>(e=>{b(e),N(""),E(null),A(!1),F(e.id),v(!0)})(t),title:"Stories",children:e.jsx(He,{size:16})}),e.jsx(bn,{variant:"ghost",size:"icon",onClick:()=>{u(t),p(!0)},title:"Edit",children:e.jsx(tt,{size:16})}),e.jsx(Fa,{asChild:!0,children:e.jsx(bn,{variant:"ghost",size:"icon",title:"Delete",children:e.jsx(nt,{size:16,className:"text-red-500"})})})]}),e.jsxs(Ua,{children:[e.jsxs($a,{children:[e.jsx(qa,{children:"Delete Contact"}),e.jsxs(Ha,{children:["Are you sure you want to delete ",t.name,"? This action cannot be undone."]})]}),e.jsxs(Ga,{children:[e.jsx(Va,{children:"Cancel"}),e.jsx(Wa,{onClick:()=>(async e=>{try{const{error:t}=await In.from("contacts").delete().eq("id",e);if(t)throw t;Ar({title:"Contact Deleted",description:"Contact has been removed from your list."}),P()}catch(t){Ar({title:"Error",description:"Failed to delete contact. Please try again.",variant:"destructive"})}})(t.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]}),e.jsxs(Ln,{className:"sm:max-w-md",children:[e.jsxs(Mn,{children:[e.jsx(zn,{children:"Edit Contact"}),e.jsxs(Bn,{children:["Update information for ",t.name]})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"edit-name",className:"text-right",children:"Name"}),e.jsx(ur,{id:"edit-name",value:null==c?void 0:c.name,onChange:e=>u(t=>t?{...t,name:e.target.value}:null),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"edit-email",className:"text-right",children:"Email"}),e.jsx(ur,{id:"edit-email",value:null==c?void 0:c.email,onChange:e=>u(t=>t?{...t,email:e.target.value}:null),className:"col-span-3",type:"email"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"edit-phone",className:"text-right",children:"Phone"}),e.jsx(ur,{id:"edit-phone",value:null==c?void 0:c.phone,onChange:e=>u(t=>t?{...t,phone:e.target.value}:null),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"edit-company",className:"text-right",children:"Company"}),e.jsx(ur,{id:"edit-company",value:(null==c?void 0:c.company)||"",onChange:e=>u(t=>t?{...t,company:e.target.value}:null),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"edit-address",className:"text-right",children:"Address"}),e.jsx(ur,{id:"edit-address",value:(null==c?void 0:c.address)||"",onChange:e=>u(t=>t?{...t,address:e.target.value}:null),className:"col-span-3"}),"                              "]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"edit-family-access",className:"text-right",children:"Family Access"}),e.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[e.jsx(Yr,{id:"edit-family-access",checked:(null==c?void 0:c.family_access_enabled)||!1,onCheckedChange:e=>u(t=>t?{...t,family_access_enabled:e}:null)}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Allow this contact to register for family portal"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(cr,{htmlFor:"edit-notes",className:"text-right",children:"Notes"}),e.jsx(Un,{id:"edit-notes",value:(null==c?void 0:c.notes)||"",onChange:e=>u(t=>t?{...t,notes:e.target.value}:null),className:"col-span-3",rows:3})]})]}),e.jsxs(Fn,{children:[e.jsx(bn,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(bn,{onClick:L,children:"Save Changes"})]})]})]})})]},t.id))})]})})})]}),e.jsx(Tn,{open:x,onOpenChange:v,children:e.jsxs(Ln,{className:"sm:max-w-2xl",children:[e.jsxs(Mn,{children:[e.jsx(zn,{children:_?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[D?"Formatted Story":"Story"," - ",new Date(_.created_at).toLocaleDateString()," ",new Date(_.created_at).toLocaleTimeString()]}),e.jsx(bn,{variant:"ghost",size:"sm",onClick:()=>{E(null),A(!1)},children:"Back to Stories"})]}):e.jsxs(e.Fragment,{children:["Stories with ",null==y?void 0:y.name]})}),e.jsx(Bn,{children:_?"View and format your interaction details":"Record your interactions and conversations"})]}),_?e.jsxs("div",{className:"mt-2 space-y-6",children:[e.jsx("div",{className:"border p-4 rounded-md bg-muted/30 story-content",dangerouslySetInnerHTML:{__html:D?_.formatted_content||"":_.content.split("\n").map(e=>`<p>${e}</p>`).join("")}}),!D&&!_.formatted_content&&e.jsx("div",{className:"flex justify-end",children:e.jsx(bn,{onClick:()=>z(_),disabled:S,children:S?e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Formatting..."]}):"Format Story"})}),!D&&_.formatted_content&&e.jsx("div",{className:"flex justify-end",children:e.jsx(bn,{onClick:()=>A(!0),children:"View Formatted"})}),D&&e.jsx("div",{className:"flex justify-end",children:e.jsx(bn,{variant:"outline",onClick:()=>A(!1),children:"View Original"})})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(cr,{htmlFor:"story-content",children:["New Story - ",(new Date).toLocaleDateString()]}),e.jsx(Un,{id:"story-content",value:w,onChange:e=>N(e.target.value),placeholder:`Write about your interaction with ${null==y?void 0:y.name}. Include any details you want to remember like places, times, and key points.`,className:"h-40"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(bn,{onClick:async()=>{try{if(!w.trim())return void Ar({title:"Empty Story",description:"Please enter some content for your story.",variant:"destructive"});if(!y||!h)return void Ar({title:"Error",description:"Missing contact or user information.",variant:"destructive"});const e={contact_id:y.id,content:w,created_at:(new Date).toISOString(),user_id:h},{data:t,error:n}=await In.from("contact_stories").insert([e]).select();if(n)throw n;Ar({title:"Story Saved",description:"Your interaction has been recorded successfully."}),N(""),F(y.id)}catch(e){Ar({title:"Error",description:"Failed to save your story. Please try again.",variant:"destructive"})}},children:"Save Story"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Previous Stories"}),0===j.length?e.jsx("p",{className:"text-muted-foreground text-center py-6",children:"No stories recorded yet. Start by adding your first interaction!"}):e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:j.map(t=>e.jsx(Xn,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:e.jsx(Zn,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(er,{className:"text-sm",children:new Date(t.created_at).toLocaleDateString()}),e.jsxs(tr,{children:[t.content.substring(0,100),t.content.length>100?"...":""]})]}),e.jsxs("div",{className:"flex gap-2",children:[t.formatted_content?e.jsx(bn,{variant:"outline",size:"sm",onClick:()=>{E(t),A(!0)},children:"View Formatted"}):e.jsx(bn,{variant:"outline",size:"sm",onClick:()=>z(t),disabled:S,children:S&&I===t.id?e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Formatting..."]}):"Format"}),e.jsx(bn,{variant:"ghost",size:"sm",onClick:()=>(e=>{E(e),A(!!e.formatted_content)})(t),children:"View Original"})]})]})})},t.id))})]})]})})]})}),e.jsx("input",{id:"csvFileUpload",type:"file",accept:".csv",onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];n&&(Qa.parse(n,{header:!0,complete:async e=>{try{let t=h;if(!t){const{data:{user:e}}=await In.auth.getUser();t=(null==e?void 0:e.id)||null,g(t)}if(!t)return void Ar({title:"Authentication Required",description:"You must be signed in to import contacts.",variant:"destructive"});const n=e.data.filter(e=>e&&(e["First Name"]||e["Last Name"]||e.Name||e["E-mail 1 - Value"]||e["Phone 1 - Value"])).map(e=>{const n=e["First Name"]||"",r=e["Middle Name"]||"",a=e["Last Name"]||"";let s=e.Name||"";s||(s=[n,r,a].filter(Boolean).join(" "),s||(s=e.Nickname||e["File As"]||""));let i="";if(e["E-mail 1 - Value"]){i=e["E-mail 1 - Value"].split(" ::: ")[0]}else if(e["E-mail 2 - Value"]){i=e["E-mail 2 - Value"].split(" ::: ")[0]}let l="";if(e["Phone 1 - Value"]){l=e["Phone 1 - Value"].split(" ::: ")[0],l=l.replace(/\s+/g,"")}else if(e["Phone 2 - Value"]){l=e["Phone 2 - Value"].split(" ::: ")[0].replace(/\s+/g,"")}let o="";if(e["Address 1 - Formatted"])o=e["Address 1 - Formatted"];else{o=[e["Address 1 - Street"]||"",e["Address 1 - City"]||"",e["Address 1 - Region"]||"",e["Address 1 - Postal Code"]||"",e["Address 1 - Country"]||""].filter(Boolean).join(", ")}const c=e["Organization Name"]||"";let u=e.Notes||"";return e.Birthday&&(u+=u?"\n\n":"",u+=`Birthday: ${e.Birthday}`),e.Labels&&(u+=u?"\n\n":"",u+=`Groups/Labels: ${e.Labels}`),e["Relation 1 - Value"]&&(u+=u?"\n\n":"",u+=`Relationship: ${e["Relation 1 - Value"]}`),e["Custom Field 1 - Label"]&&e["Custom Field 1 - Value"]&&(u+=u?"\n\n":"",u+=`${e["Custom Field 1 - Label"]}: ${e["Custom Field 1 - Value"]}`),{name:s.trim(),email:i.trim(),phone:l.trim(),address:o.trim(),company:c.trim(),notes:u.trim(),created_at:(new Date).toISOString(),tags:e.Labels?e.Labels.split(" ::: ").map(e=>e.replace(/^\* /,"")):[],user_id:t}}).filter(e=>e.name&&(e.email||e.phone));if(0===n.length)return void Ar({title:"No valid contacts",description:"No valid contacts found in the CSV file.",variant:"destructive"});const{data:r,error:a}=await In.from("contacts").insert(n).select();if(a)throw a;Ar({title:"Success!",description:`Imported ${n.length} contacts.`,variant:"default"}),P()}catch(t){Ar({title:"Import Failed",description:"Failed to import contacts. Please check the file format.",variant:"destructive"})}},error:e=>{Ar({title:"Error",description:"Failed to parse CSV file. Please check the file format.",variant:"destructive"})}}),e.target.value="")},style:{display:"none"}})]})};function es(e,t){return(es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ts(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,es(e,t)}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(null,arguments)}function rs(e){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function as(e){var t=function(e,t){if("object"!=rs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=rs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rs(t)?t:t+""}function ss(e,t,n){return(t=as(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach(function(t){ss(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function os(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var cs="function"==typeof Symbol&&Symbol.observable||"@@observable",us=function(){return Math.random().toString(36).substring(7).split("").join(".")},ds={INIT:"@@redux/INIT"+us(),REPLACE:"@@redux/REPLACE"+us()};function fs(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(os(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(os(1));return n(fs)(e,t)}if("function"!=typeof e)throw new Error(os(2));var a=e,s=t,i=[],l=i,o=!1;function c(){l===i&&(l=i.slice())}function u(){if(o)throw new Error(os(3));return s}function d(e){if("function"!=typeof e)throw new Error(os(4));if(o)throw new Error(os(5));var t=!0;return c(),l.push(e),function(){if(t){if(o)throw new Error(os(6));t=!1,c();var n=l.indexOf(e);l.splice(n,1),i=null}}}function f(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(os(7));if(void 0===e.type)throw new Error(os(8));if(o)throw new Error(os(9));try{o=!0,s=a(s,e)}finally{o=!1}for(var t=i=l,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:ds.INIT}),(r={dispatch:f,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(os(10));a=e,f({type:ds.REPLACE})}})[cs]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(os(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[cs]=function(){return this},e},r}function ms(e,t){return function(){return t(e.apply(this,arguments))}}function ps(e,t){if("function"==typeof e)return ms(e,t);if("object"!=typeof e||null===e)throw new Error(os(16));var n={};for(var r in e){var a=e[r];"function"==typeof a&&(n[r]=ms(a,t))}return n}function hs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var gs=se.createContext(null);var xs=function(e){e()};function vs(){var e=xs,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var ys={notify:function(){},get:function(){return[]}};function bs(e,t){var n,r=ys;function a(){i.onStateChange&&i.onStateChange()}function s(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=vs())}var i={addNestedSub:function(e){return s(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:s,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ys)},getListeners:function(){return r}};return i}var ws="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?te.useLayoutEffect:te.useEffect;function Ns(e){var t=e.store,n=e.context,r=e.children,a=te.useMemo(function(){var e=bs(t);return{store:t,subscription:e}},[t]),s=te.useMemo(function(){return t.getState()},[t]);ws(function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[a,s]);var i=n||gs;return se.createElement(i.Provider,{value:a},r)}function js(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var ks,Ss,Cs,_s,Es={exports:{}},Ds={};function As(){return Ss||(Ss=1,Es.exports=function(){if(ks)return Ds;ks=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,o=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,h=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var f=e.$$typeof;switch(f){case t:switch(e=e.type){case o:case c:case r:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case p:case m:case i:return e;default:return f}}case n:return f}}}function b(e){return y(e)===c}return Ds.AsyncMode=o,Ds.ConcurrentMode=c,Ds.ContextConsumer=l,Ds.ContextProvider=i,Ds.Element=t,Ds.ForwardRef=u,Ds.Fragment=r,Ds.Lazy=p,Ds.Memo=m,Ds.Portal=n,Ds.Profiler=s,Ds.StrictMode=a,Ds.Suspense=d,Ds.isAsyncMode=function(e){return b(e)||y(e)===o},Ds.isConcurrentMode=b,Ds.isContextConsumer=function(e){return y(e)===l},Ds.isContextProvider=function(e){return y(e)===i},Ds.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Ds.isForwardRef=function(e){return y(e)===u},Ds.isFragment=function(e){return y(e)===r},Ds.isLazy=function(e){return y(e)===p},Ds.isMemo=function(e){return y(e)===m},Ds.isPortal=function(e){return y(e)===n},Ds.isProfiler=function(e){return y(e)===s},Ds.isStrictMode=function(e){return y(e)===a},Ds.isSuspense=function(e){return y(e)===d},Ds.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===s||e===a||e===d||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===m||e.$$typeof===i||e.$$typeof===l||e.$$typeof===u||e.$$typeof===g||e.$$typeof===x||e.$$typeof===v||e.$$typeof===h)},Ds.typeOf=y,Ds}()),Es.exports}const Is=ee(function(){if(_s)return Cs;_s=1;var e=As(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function s(n){return e.isMemo(n)?r:a[n.$$typeof]||t}a[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[e.Memo]=r;var i=Object.defineProperty,l=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,d=Object.prototype;return Cs=function e(t,r,a){if("string"!=typeof r){if(d){var f=u(r);f&&f!==d&&e(t,f,a)}var m=l(r);o&&(m=m.concat(o(r)));for(var p=s(t),h=s(r),g=0;g<m.length;++g){var x=m[g];if(!(n[x]||a&&a[x]||h&&h[x]||p&&p[x])){var v=c(r,x);try{i(t,x,v)}catch(y){}}}}return t}}());var Ts,Os,Ps={exports:{}},Rs={};var Ls=(Os||(Os=1,Ps.exports=function(){if(Ts)return Rs;Ts=1;var e=60103,t=60106,n=60107,r=60108,a=60114,s=60109,i=60110,l=60112,o=60113,c=60120,u=60115,d=60116,f=60121,m=60122,p=60117,h=60129,g=60131;if("function"==typeof Symbol&&Symbol.for){var x=Symbol.for;e=x("react.element"),t=x("react.portal"),n=x("react.fragment"),r=x("react.strict_mode"),a=x("react.profiler"),s=x("react.provider"),i=x("react.context"),l=x("react.forward_ref"),o=x("react.suspense"),c=x("react.suspense_list"),u=x("react.memo"),d=x("react.lazy"),f=x("react.block"),m=x("react.server.block"),p=x("react.fundamental"),h=x("react.debug_trace_mode"),g=x("react.legacy_hidden")}function v(f){if("object"==typeof f&&null!==f){var m=f.$$typeof;switch(m){case e:switch(f=f.type){case n:case a:case r:case o:case c:return f;default:switch(f=f&&f.$$typeof){case i:case l:case d:case u:case s:return f;default:return m}}case t:return m}}}var y=s,b=e,w=l,N=n,j=d,k=u,S=t,C=a,_=r,E=o;return Rs.ContextConsumer=i,Rs.ContextProvider=y,Rs.Element=b,Rs.ForwardRef=w,Rs.Fragment=N,Rs.Lazy=j,Rs.Memo=k,Rs.Portal=S,Rs.Profiler=C,Rs.StrictMode=_,Rs.Suspense=E,Rs.isAsyncMode=function(){return!1},Rs.isConcurrentMode=function(){return!1},Rs.isContextConsumer=function(e){return v(e)===i},Rs.isContextProvider=function(e){return v(e)===s},Rs.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},Rs.isForwardRef=function(e){return v(e)===l},Rs.isFragment=function(e){return v(e)===n},Rs.isLazy=function(e){return v(e)===d},Rs.isMemo=function(e){return v(e)===u},Rs.isPortal=function(e){return v(e)===t},Rs.isProfiler=function(e){return v(e)===a},Rs.isStrictMode=function(e){return v(e)===r},Rs.isSuspense=function(e){return v(e)===o},Rs.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===a||e===h||e===r||e===o||e===c||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===u||e.$$typeof===s||e.$$typeof===i||e.$$typeof===l||e.$$typeof===p||e.$$typeof===f||e[0]===m)},Rs.typeOf=v,Rs}()),Ps.exports),Ms=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Fs=["reactReduxForwardedRef"],zs=[],Bs=[null,null];function Us(e,t){var n=e[1];return[t.payload,n+1]}function $s(e,t,n){ws(function(){return e.apply(void 0,t)},n)}function Gs(e,t,n,r,a,s,i){e.current=r,t.current=a,n.current=!1,s.current&&(s.current=null,i())}function qs(e,t,n,r,a,s,i,l,o,c){if(e){var u=!1,d=null,f=function(){if(!u){var e,n,f=t.getState();try{e=r(f,a.current)}catch(m){n=m,d=m}n||(d=null),e===s.current?i.current||o():(s.current=e,l.current=e,i.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Hs=function(){return[null,0]};function Ws(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,s=n.methodName,i=void 0===s?"connectAdvanced":s,l=n.renderCountProp,o=void 0===l?void 0:l,c=n.shouldHandleStateChanges,u=void 0===c||c,d=n.storeKey,f=void 0===d?"store":d;n.withRef;var m=n.forwardRef,p=void 0!==m&&m,h=n.context,g=void 0===h?gs:h,x=js(n,Ms),v=g;return function(t){var n=t.displayName||t.name||"Component",r=a(n),s=ns({},x,{getDisplayName:a,methodName:i,renderCountProp:o,shouldHandleStateChanges:u,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=x.pure;var c=l?te.useMemo:function(e){return e()};function d(n){var r=te.useMemo(function(){var e=n.reactReduxForwardedRef,t=js(n,Fs);return[n.context,e,t]},[n]),a=r[0],i=r[1],l=r[2],o=te.useMemo(function(){return a&&a.Consumer&&Ls.isContextConsumer(se.createElement(a.Consumer,null))?a:v},[a,v]),d=te.useContext(o),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(d)&&Boolean(d.store);var m=f?n.store:d.store,p=te.useMemo(function(){return function(t){return e(t.dispatch,s)}(m)},[m]),h=te.useMemo(function(){if(!u)return Bs;var e=bs(m,f?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[m,f,d]),g=h[0],x=h[1],y=te.useMemo(function(){return f?d:ns({},d,{subscription:g})},[f,d,g]),b=te.useReducer(Us,zs,Hs),w=b[0][0],N=b[1];if(w&&w.error)throw w.error;var j=te.useRef(),k=te.useRef(l),S=te.useRef(),C=te.useRef(!1),_=c(function(){return S.current&&l===k.current?S.current:p(m.getState(),l)},[m,w,l]);$s(Gs,[k,j,C,l,_,S,x]),$s(qs,[u,m,g,p,k,j,C,S,x,N],[m,g,p]);var E=te.useMemo(function(){return se.createElement(t,ns({},_,{ref:i}))},[i,t,_]);return te.useMemo(function(){return u?se.createElement(o.Provider,{value:y},E):E},[o,E,y])}var m=l?se.memo(d):d;if(m.WrappedComponent=t,m.displayName=d.displayName=r,p){var h=se.forwardRef(function(e,t){return se.createElement(m,ns({},e,{reactReduxForwardedRef:t}))});return h.displayName=r,h.WrappedComponent=t,Is(h,t)}return Is(m,t)}}function Vs(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Ys(e,t){if(Vs(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!Vs(e[n[a]],t[n[a]]))return!1;return!0}function Js(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function Qs(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Ks(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Qs(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=Qs(a),a=r(t,n)),a},r}}const Xs=[function(e){return"function"==typeof e?Ks(e):void 0},function(e){return e?void 0:Js(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?Js(function(t){return function(e,t){var n={},r=function(r){var a=e[r];"function"==typeof a&&(n[r]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)r(a);return n}(e,t)}):void 0}];const Zs=[function(e){return"function"==typeof e?Ks(e):void 0},function(e){return e?void 0:Js(function(){return{}})}];function ei(e,t,n){return ns({},n,e,t)}const ti=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,s=n.areMergedPropsEqual,i=!1;return function(t,n,l){var o=e(t,n,l);return i?a&&s(o,r)||(r=o):(i=!0,r=o),r}}}(e):void 0},function(e){return e?void 0:function(){return ei}}];var ni=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function ri(e,t,n,r){return function(a,s){return n(e(a,s),t(r,s),s)}}function ai(e,t,n,r,a){var s,i,l,o,c,u=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,m=!1;function p(a,m){var p,h,g=!d(m,i),x=!u(a,s,m,i);return s=a,i=m,g&&x?(l=e(s,i),t.dependsOnOwnProps&&(o=t(r,i)),c=n(l,o,i)):g?(e.dependsOnOwnProps&&(l=e(s,i)),t.dependsOnOwnProps&&(o=t(r,i)),c=n(l,o,i)):x?(p=e(s,i),h=!f(p,l),l=p,h&&(c=n(l,o,i)),c):c}return function(a,u){return m?p(a,u):(l=e(s=a,i=u),o=t(r,i),c=n(l,o,i),m=!0,c)}}function si(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,s=js(t,ni),i=n(e,s),l=r(e,s),o=a(e,s);return(s.pure?ai:ri)(i,l,o,e,s)}var ii=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function li(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function oi(e,t){return e===t}function ci(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Ws:n,a=t.mapStateToPropsFactories,s=void 0===a?Zs:a,i=t.mapDispatchToPropsFactories,l=void 0===i?Xs:i,o=t.mergePropsFactories,c=void 0===o?ti:o,u=t.selectorFactory,d=void 0===u?si:u;return function(e,t,n,a){void 0===a&&(a={});var i=a,o=i.pure,u=void 0===o||o,f=i.areStatesEqual,m=void 0===f?oi:f,p=i.areOwnPropsEqual,h=void 0===p?Ys:p,g=i.areStatePropsEqual,x=void 0===g?Ys:g,v=i.areMergedPropsEqual,y=void 0===v?Ys:v,b=js(i,ii),w=li(e,s,"mapStateToProps"),N=li(t,l,"mapDispatchToProps"),j=li(n,c,"mergeProps");return r(d,ns({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:N,initMergeProps:j,pure:u,areStatesEqual:m,areOwnPropsEqual:h,areStatePropsEqual:x,areMergedPropsEqual:y},b))}}const ui=ci();var di;function fi(e,t){var n=te.useState(function(){return{inputs:t,result:e()}})[0],r=te.useRef(!0),a=te.useRef(n),s=r.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.current.inputs))?a.current:{inputs:t,result:e()};return te.useEffect(function(){r.current=!1,a.current=s},[s]),s.result}di=ie.unstable_batchedUpdates,xs=di;var mi=fi,pi=function(e,t){return fi(function(){return e},t)};var hi=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},gi=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},xi=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},vi={top:0,right:0,bottom:0,left:0},yi=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?vi:n,a=e.border,s=void 0===a?vi:a,i=e.padding,l=void 0===i?vi:i,o=hi(gi(t,r)),c=hi(xi(t,s)),u=hi(xi(c,l));return{marginBox:o,borderBox:hi(t),paddingBox:c,contentBox:u,margin:r,border:s,padding:l}},bi=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(){throw new Error("Invariant failed")}(),n},wi=function(e,t){var n,r,a=e.borderBox,s=e.border,i=e.margin,l=e.padding,o=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return yi({borderBox:o,border:s,margin:i,padding:l})},Ni=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),wi(e,t)},ji=function(e,t){var n={top:bi(t.marginTop),right:bi(t.marginRight),bottom:bi(t.marginBottom),left:bi(t.marginLeft)},r={top:bi(t.paddingTop),right:bi(t.paddingRight),bottom:bi(t.paddingBottom),left:bi(t.paddingLeft)},a={top:bi(t.borderTopWidth),right:bi(t.borderRightWidth),bottom:bi(t.borderBottomWidth),left:bi(t.borderLeftWidth)};return yi({borderBox:e,margin:n,padding:r,border:a})},ki=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return ji(t,n)},Si=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Ci(e,t){return e===t||!(!Si(e)||!Si(t))}function _i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ci(e[n],t[n]))return!1;return!0}function Ei(e,t){var n;void 0===t&&(t=_i);var r,a=[],s=!1;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return s&&n===this&&t(i,a)||(r=e.apply(this,i),s=!0,n=this,a=i),r}}var Di=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];t=a,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Ai(e,t){}function Ii(){}function Ti(e,t,n){var r=t.map(function(t){var r,a,s=(r=n,a=t.options,ns({},r,{},a));return e.addEventListener(t.eventName,t.fn,s),function(){e.removeEventListener(t.eventName,t.fn,s)}});return function(){r.forEach(function(e){e()})}}Ai.bind(null,"warn"),Ai.bind(null,"error");function Oi(e){this.message=e}function Pi(e,t){throw new Oi("Invariant failed")}Oi.prototype.toString=function(){return this.message};var Ri=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=Ii,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof Oi&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}ts(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Ti(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof Oi))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(se.Component),Li=function(e){return e+1},Mi=function(e,t){var n=e.droppableId===t.droppableId,r=Li(e.index),a=Li(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},Fi=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},zi=function(e){return"\n  The item has returned to its starting position\n  of "+Li(e.index)+"\n"},Bi="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Ui=function(e){return"\n  You have lifted an item in position "+Li(e.source.index)+"\n"},$i=function(e){var t=e.destination;if(t)return Mi(e.source,t);var n=e.combine;return n?Fi(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Gi=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+zi(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Mi(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Fi(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+zi(e.source)+"\n  "},qi={x:0,y:0},Hi=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Wi=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Vi=function(e,t){return e.x===t.x&&e.y===t.y},Yi=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Ji=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Qi=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Ki=function(e,t){return Math.min.apply(Math,t.map(function(t){return Qi(e,t)}))},Xi=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Zi=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},el=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},tl=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=hi({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):hi(e)},nl=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,s=function(e,t){return t?Zi(e,t.scroll.diff.displacement):e}(t.marginBox,a),i=function(e,t,n){var r;return n&&n.increasedBy?ns({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(s,r,n);return{page:t,withPlaceholder:n,active:tl(i,a)}},rl=function(e,t){e.frame||Pi();var n=e.frame,r=Wi(t,n.scroll.initial),a=Yi(r),s=ns({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}});return ns({},e,{frame:s,subject:nl({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s})})};function al(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function sl(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function il(e,t){if(e.find)return e.find(t);var n=sl(e,t);return-1!==n?e[n]:void 0}function ll(e){return Array.prototype.slice.call(e)}var ol=Ei(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),cl=Ei(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),ul=Ei(function(e){return al(e)}),dl=Ei(function(e){return al(e)}),fl=Ei(function(e,t){return dl(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index})});function ml(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function pl(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var hl=Ei(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),gl=function(e,t){return e.descriptor.droppableId===t.descriptor.id},xl={point:qi,value:0},vl={invisible:{},visible:{},all:[]},yl={displaced:vl,displacedBy:xl,at:null},bl=function(e,t){return function(n){return e<=n&&n<=t}},wl=function(e){var t=bl(e.top,e.bottom),n=bl(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var a=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(a&&s)return!0;var i=r.top<e.top&&r.bottom>e.bottom,l=r.left<e.left&&r.right>e.right;return!(!i||!l)||(i&&s||l&&a)}},Nl=function(e){var t=bl(e.top,e.bottom),n=bl(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},jl={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},kl={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Sl=function(e){var t=e.target,n=e.destination,r=e.viewport,a=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,i=a?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:qi;return Zi(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(i,n,s)&&function(e,t,n){return n(t)(e)}(i,r,s)},Cl=function(e){return Sl(ns({},e,{isVisibleThroughFrameFn:Nl}))};function _l(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,s=e.forceShouldAnimate,i=e.last;return t.reduce(function(e,t){var l=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return hi(gi(n,r))}(t,r),o=t.descriptor.id;if(e.all.push(o),!Sl(ns({},{target:l,destination:n,viewport:a,withDroppableDisplacement:!0},{isVisibleThroughFrameFn:wl})))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,a=t.visible;if(r[e])return!1;var s=a[e];return!s||s.shouldAnimate}(o,i,s),u={draggableId:o,shouldAnimate:c};return e.visible[o]=u,e},{all:[],visible:{},invisible:{}})}function El(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,s=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:vl,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:s}}}}function Dl(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,s=e.displacedBy,i=e.last,l=e.index,o=e.forceShouldAnimate,c=gl(t,r);if(null==l)return El({insideDestination:n,inHomeList:c,displacedBy:s,destination:r});var u=il(n,function(e){return e.descriptor.index===l});if(!u)return El({insideDestination:n,inHomeList:c,displacedBy:s,destination:r});var d=hl(t,n),f=n.indexOf(u);return{displaced:_l({afterDragging:d.slice(f),destination:r,displacedBy:s,last:i,viewport:a.frame,forceShouldAnimate:o}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function Al(e,t){return Boolean(t.effected[e])}var Il=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,s=e.destination,i=e.insideDestination,l=e.previousImpact,o=e.viewport,c=e.afterCritical,u=l.at;if(u||Pi(),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var s=a.index,i=t?s+1:s-1,l=r[0].descriptor.index,o=r[r.length-1].descriptor.index;return i<l||i>(n?o:o+1)?null:i}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:i});return null==d?null:Dl({draggable:r,insideDestination:i,destination:s,viewport:o,last:l.displaced,displacedBy:l.displacedBy,index:d})}var f=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,a=e.combine,s=e.afterCritical;if(!n.isCombineEnabled)return null;var i=a.draggableId,l=r[i].descriptor.index;return Al(i,s)?t?l:l-1:t?l+1:l}({isMovingForward:t,destination:s,displaced:l.displaced,draggables:a,combine:u.combine,afterCritical:c});return null==f?null:Dl({draggable:r,insideDestination:i,destination:s,viewport:o,last:l.displaced,displacedBy:l.displacedBy,index:f})},Tl=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=pl(n);a||Pi();var s=a.draggableId,i=r[s].page.borderBox.center,l=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,s=Boolean(t.visible[r]||t.invisible[r]);return Al(r,n)?s?qi:Yi(a.point):s?a.point:qi}({displaced:n.displaced,afterCritical:t,combineWith:s,displacedBy:n.displacedBy});return Hi(i,l)},Ol=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Pl=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Rl=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Ji(t.line,n.marginBox[t.end]+Ol(t,r),Pl(t,n.marginBox,r))},Ll=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Ji(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Pl(t,n.marginBox,r))},Ml=function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,s=e.afterCritical,i=fl(a.descriptor.id,r),l=n.page,o=a.axis;if(!i.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return Ji(t.line,n.contentBox[t.start]+Ol(t,r),Pl(t,n.contentBox,r))}({axis:o,moveInto:a.page,isMoving:l});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var f=r[d];if(Al(d,s))return Ll({axis:o,moveRelativeTo:f.page,isMoving:l});var m=wi(f.page,u.point);return Ll({axis:o,moveRelativeTo:m,isMoving:l})}var p=i[i.length-1];if(p.descriptor.id===n.descriptor.id)return l.borderBox.center;if(Al(p.descriptor.id,s)){var h=wi(p.page,Yi(s.displacedBy.point));return Rl({axis:o,moveRelativeTo:h,isMoving:l})}return Rl({axis:o,moveRelativeTo:p.page,isMoving:l})},Fl=function(e,t){var n=e.frame;return n?Hi(t,n.scroll.diff.displacement):t},zl=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,s=e.afterCritical,i=n.page.borderBox.center,l=t.at;return r&&l?"REORDER"===l.type?Ml({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:s}):Tl({impact:t,draggables:a,afterCritical:s}):i}(e),n=e.droppable;return n?Fl(n,t):t},Bl=function(e,t){var n=Wi(t,e.scroll.initial),r=Yi(n);return{frame:hi({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Ul(e,t){return e.map(function(e){return t[e]})}var $l=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return Hi(e.scroll.diff.displacement,t)}(e.viewport,t),a=Wi(r,n.page.borderBox.center);return Hi(n.client.borderBox.center,a)},Gl=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,s=e.withDroppableDisplacement,i=e.onlyOnMainAxis,l=void 0!==i&&i,o=Wi(r,t.page.borderBox.center),c={target:Zi(t.page.borderBox,o),destination:n,withDroppableDisplacement:s,viewport:a};return l?function(e){return Sl(ns({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=bl(e.top,e.bottom),r=bl(e.left,e.right);return function(e){return t===jl?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):Cl(c)},ql=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,s=e.previousImpact,i=e.viewport,l=e.previousPageBorderBoxCenter,o=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=fl(r.descriptor.id,a),d=gl(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,s=e.previousImpact;if(!r.isCombineEnabled)return null;if(!ml(s))return null;function i(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return ns({},s,{at:t})}var l=s.displaced.all,o=l.length?l[0]:null;if(t)return o?i(o):null;var c=hl(n,a);if(!o)return c.length?i(c[c.length-1].descriptor.id):null;var u=sl(c,function(e){return e.descriptor.id===o});-1===u&&Pi();var d=u-1;return d<0?null:i(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:s})||Il({isMovingForward:t,isInHomeList:d,draggable:n,draggables:a,destination:r,insideDestination:u,previousImpact:s,viewport:i,afterCritical:c});if(!f)return null;var m=zl({impact:f,draggable:n,droppable:r,draggables:a,afterCritical:c});if(Gl({draggable:n,destination:r,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:$l({pageBorderBoxCenter:m,draggable:n,viewport:i}),impact:f,scrollJumpRequest:null};var p=Wi(m,l),h=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,s=e.maxScrollChange,i=Bl(n,Hi(n.scroll.current,s)),l=r.frame?rl(r,Hi(r.frame.scroll.current,s)):r,o=t.displaced,c=_l({afterDragging:Ul(o.all,a),destination:r,displacedBy:t.displacedBy,viewport:i.frame,last:o,forceShouldAnimate:!1}),u=_l({afterDragging:Ul(o.all,a),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:o,forceShouldAnimate:!1}),d={},f={},m=[o,c,u];return o.all.forEach(function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,m);t?f[e]=t:d[e]=!0}),ns({},t,{displaced:{all:o.all,invisible:d,visible:f}})}({impact:f,viewport:i,destination:r,draggables:a,maxScrollChange:p});return{clientSelection:o,impact:h,scrollJumpRequest:p}},Hl=function(e){var t=e.subject.active;return t||Pi(),t},Wl=function(e,t){var n=e.page.borderBox.center;return Al(e.descriptor.id,t)?Wi(n,t.displacedBy.point):n},Vl=function(e,t){var n=e.page.borderBox;return Al(e.descriptor.id,t)?Zi(n,Yi(t.displacedBy.point)):n},Yl=Ei(function(e,t){var n=t[e.line];return{value:n,point:Ji(e.line,n)}}),Jl=function(e,t){return ns({},e,{scroll:ns({},e.scroll,{max:t})})},Ql=function(e,t,n){var r=e.frame;gl(t,e)&&Pi(),e.subject.withPlaceholder&&Pi();var a=Yl(e.axis,t.displaceBy).point,s=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return Ji(r.line,t[r.line]);var a=e.subject.page.contentBox[r.size],s=fl(e.descriptor.id,n).reduce(function(e,t){return e+t.client.marginBox[r.size]},0)+t[r.line]-a;return s<=0?null:Ji(r.line,s)}(e,a,n),i={placeholderSize:a,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return ns({},e,{subject:nl({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame})});var l=s?Hi(r.scroll.max,s):r.scroll.max,o=Jl(r,l);return ns({},e,{subject:nl({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:o}),frame:o})},Kl=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,s=e.draggables,i=e.droppables,l=e.viewport,o=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,s=e.viewport,i=r.subject.active;if(!i)return null;var l=r.axis,o=bl(i[l.start],i[l.end]),c=ul(a).filter(function(e){return e!==r}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return wl(s.frame)(Hl(e))}).filter(function(e){var n=Hl(e);return t?i[l.crossAxisEnd]<n[l.crossAxisEnd]:n[l.crossAxisStart]<i[l.crossAxisStart]}).filter(function(e){var t=Hl(e),n=bl(t[l.start],t[l.end]);return o(t[l.start])||o(t[l.end])||n(i[l.start])||n(i[l.end])}).sort(function(e,n){var r=Hl(e)[l.crossAxisStart],a=Hl(n)[l.crossAxisStart];return t?r-a:a-r}).filter(function(e,t,n){return Hl(e)[l.crossAxisStart]===Hl(n[0])[l.crossAxisStart]});if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter(function(e){return bl(Hl(e)[l.start],Hl(e)[l.end])(n[l.line])});return 1===u.length?u[0]:u.length>1?u.sort(function(e,t){return Hl(e)[l.start]-Hl(t)[l.start]})[0]:c.sort(function(e,t){var r=Ki(n,el(Hl(e))),a=Ki(n,el(Hl(t)));return r!==a?r-a:Hl(e)[l.start]-Hl(t)[l.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:i,viewport:l});if(!c)return null;var u=fl(c.descriptor.id,s),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.insideDestination,s=e.afterCritical;return a.filter(function(e){return Cl({target:Vl(e,s),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(e,n){var a=Qi(t,Fl(r,Wl(e,s))),i=Qi(t,Fl(r,Wl(n,s)));return a<i?-1:i<a?1:e.descriptor.index-n.descriptor.index})[0]||null}({pageBorderBoxCenter:n,viewport:l,destination:c,insideDestination:u,afterCritical:o}),f=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,s=e.draggables,i=e.destination,l=e.viewport,o=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:vl,displacedBy:xl,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},u=zl({impact:c,draggable:a,droppable:i,draggables:s,afterCritical:o}),d=gl(a,i)?i:Ql(i,a,s);return Gl({draggable:a,destination:d,newPageBorderBoxCenter:u,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var f,m=Boolean(t[i.axis.line]<=n.page.borderBox.center[i.axis.line]),p=(f=n.descriptor.index,n.descriptor.id===a.descriptor.id||m?f:f+1),h=Yl(i.axis,a.displaceBy);return Dl({draggable:a,insideDestination:r,destination:i,viewport:l,displacedBy:h,last:vl,index:p})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:s,moveRelativeTo:d,insideDestination:u,viewport:l,afterCritical:o});if(!f)return null;var m=zl({impact:f,draggable:r,droppable:c,draggables:s,afterCritical:o});return{clientSelection:$l({pageBorderBoxCenter:m,draggable:r,viewport:l}),impact:f,scrollJumpRequest:null}},Xl=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Zl=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Xl(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),a=Boolean(r),s=t.dimensions.droppables[t.critical.droppable.id],i=r||s,l=i.axis.direction,o="vertical"===l&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===l&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(o&&!a)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,f=t.dimensions,m=f.draggables,p=f.droppables;return o?ql({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:i,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Kl({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:i,draggables:m,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function eo(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function to(e){var t=bl(e.top,e.bottom),n=bl(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function no(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=ul(r).filter(function(e){if(!e.isEnabled)return!1;var n,r,a=e.subject.active;if(!a)return!1;if(r=a,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(to(a)(t.center))return!0;var s=e.axis,i=a.center[s.crossAxisLine],l=t[s.crossAxisStart],o=t[s.crossAxisEnd],c=bl(a[s.crossAxisStart],a[s.crossAxisEnd]),u=c(l),d=c(o);return!u&&!d||(u?l<i:o>i)});return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,a=n.page.borderBox.center,s=r.map(function(e){var n=e.axis,r=Ji(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Qi(a,r)}}).sort(function(e,t){return t.distance-e.distance});return s[0]?s[0].id:null}({pageBorderBox:t,draggable:n,candidates:a}):null}var ro=function(e,t){return hi(Zi(e,t))};function ao(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var so=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,s=e.previousImpact,i=e.viewport,l=e.afterCritical,o=ro(n.page.borderBox,t),c=no({pageBorderBox:o,draggable:n,droppables:a});if(!c)return yl;var u,d,f=a[c],m=fl(f.descriptor.id,r),p=(u=o,(d=f.frame)?ro(u,d.scroll.diff.value):u);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,s=e.insideDestination,i=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,o=Yl(a.axis,t.displaceBy),c=o.value,u=n[l.start],d=n[l.end],f=il(hl(t,s),function(e){var t=e.descriptor.id,n=e.page.borderBox,a=n[l.size]/4,s=Al(t,i),o=ao({displaced:r.displaced,id:t});return s?o?d>n[l.start]+a&&d<n[l.end]-a:u>n[l.start]-c+a&&u<n[l.end]-c-a:o?d>n[l.start]+c+a&&d<n[l.end]+c-a:u>n[l.start]+a&&u<n[l.end]-a});return f?{displacedBy:o,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:s,destination:f,insideDestination:m,afterCritical:l})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,s=e.last,i=e.viewport,l=e.afterCritical,o=r.axis,c=Yl(r.axis,n.displaceBy),u=c.value,d=t[o.start],f=t[o.end],m=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:il(hl(n,a),function(e){var t=e.descriptor.id,n=e.page.borderBox.center[o.line],r=Al(t,l),a=ao({displaced:s,id:t});return r?a?f<=n:d<n-u:a?f<=n+u:d<n}),inHomeList:gl(n,r)});return Dl({draggable:n,insideDestination:a,destination:r,viewport:i,last:s,displacedBy:c,index:m})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:f,insideDestination:m,last:s.displaced,viewport:i,afterCritical:l})},io=function(e,t){var n;return ns({},e,((n={})[t.descriptor.id]=t,n))},lo=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,a=Xl(t),s=Xl(n);if(!a)return r;if(a===s)return r;var i=r[a];if(!i.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||Pi();var n=e.frame;if(!n)return ns({},e,{subject:nl({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Pi();var a=Jl(n,r);return ns({},e,{subject:nl({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null}),frame:a})}(i);return io(r,l)},oo=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,s=e.impact,i=e.scrollJumpRequest,l=a||t.viewport,o=r||t.dimensions,c=n||t.current.client.selection,u=Wi(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Hi(t.initial.client.borderBoxCenter,u)},f={selection:Hi(d.selection,l.scroll.current),borderBoxCenter:Hi(d.borderBoxCenter,l.scroll.current),offset:Hi(d.offset,l.scroll.diff.value)},m={client:d,page:f};if("COLLECTING"===t.phase)return ns({phase:"COLLECTING"},t,{dimensions:o,viewport:l,current:m});var p=o.draggables[t.critical.draggable.id],h=s||so({pageOffset:f.offset,draggable:p,draggables:o.draggables,droppables:o.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.previousImpact,s=e.impact,i=lo({previousImpact:a,impact:s,droppables:r}),l=Xl(s);if(!l)return i;var o=r[l];if(gl(t,o))return i;if(o.subject.withPlaceholder)return i;var c=Ql(o,t,n);return io(i,c)}({draggable:p,impact:h,previousImpact:t.impact,draggables:o.draggables,droppables:o.droppables});return ns({},t,{current:m,dimensions:{draggables:o.draggables,droppables:g},impact:h,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:!i&&null})};var co=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,s=e.forceShouldAnimate,i=t.displaced,l=function(e,t){return e.map(function(e){return t[e]})}(i.all,r);return ns({},t,{displaced:_l({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:i})})},uo=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,s=e.viewport,i=e.afterCritical,l=zl({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:i});return $l({pageBorderBoxCenter:l,draggable:n,viewport:s})},fo=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Pi();var a=t.impact,s=r||t.viewport,i=n||t.dimensions,l=i.draggables,o=i.droppables,c=l[t.critical.draggable.id],u=Xl(a);u||Pi();var d=o[u],f=co({impact:a,viewport:s,destination:d,draggables:l}),m=uo({impact:f,draggable:c,droppable:d,draggables:l,viewport:s,afterCritical:t.afterCritical});return oo({impact:f,clientSelection:m,state:t,dimensions:i,viewport:s})},mo=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,s=Yl(n.axis,t.displaceBy),i=fl(n.descriptor.id,r),l=i.indexOf(t);-1===l&&Pi();var o,c=i.slice(l+1),u=c.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:s,effected:u};return{impact:{displaced:_l({afterDragging:c,destination:n,displacedBy:s,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:(o=t.descriptor,{index:o.index,droppableId:o.droppableId})}},afterCritical:d}},po=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,s=function(e){var t=e.frame;return t||Pi(),t}(n[t]).scroll.diff.value,i=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=wi(t.client,n),s=Ni(a,r);return ns({},t,{placeholder:ns({},t.placeholder,{client:a}),client:a,page:s})}({draggable:e,offset:Hi(a,s),initialWindowScroll:r.scroll.initial});return i})},ho=function(e){return"SNAP"===e.movementMode},go=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:io(e.droppables,t)}}(e.dimensions,t);return!ho(e)||n?oo({state:e,dimensions:r}):fo({state:e,dimensions:r})};function xo(e){return e.isDragging&&"SNAP"===e.movementMode?ns({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var vo={phase:"IDLE",completed:null,shouldFlush:!1},yo=function(e,t){if(void 0===e&&(e=vo),"FLUSH"===t.type)return ns({},vo,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Pi();var n=t.payload,r=n.critical,a=n.clientSelection,s=n.viewport,i=n.dimensions,l=n.movementMode,o=i.draggables[r.draggable.id],c=i.droppables[r.droppable.id],u={selection:a,borderBoxCenter:o.client.borderBox.center,offset:qi},d={client:u,page:{selection:Hi(u.selection,s.scroll.initial),borderBoxCenter:Hi(u.selection,s.scroll.initial),offset:Hi(u.selection,s.scroll.diff.value)}},f=ul(i.droppables).every(function(e){return!e.isFixedOnPage}),m=mo({draggable:o,home:c,draggables:i.draggables,viewport:s}),p=m.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:i,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:m.afterCritical,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Pi(),ns({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Pi(),function(e){var t=e.state,n=e.published,r=n.modified.map(function(e){var n=t.dimensions.droppables[e.droppableId];return rl(n,e.scroll)}),a=ns({},t.dimensions.droppables,{},ol(r)),s=cl(po({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),i=ns({},t.dimensions.draggables,{},s);n.removals.forEach(function(e){delete i[e]});var l={droppables:a,draggables:i},o=Xl(t.impact),c=o?l.droppables[o]:null,u=l.draggables[t.critical.draggable.id],d=l.droppables[t.critical.droppable.id],f=mo({draggable:u,home:d,draggables:i,viewport:t.viewport}),m=f.impact,p=f.afterCritical,h=c&&c.isCombineEnabled?t.impact:m,g=so({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:h,viewport:t.viewport,afterCritical:p}),x=ns({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:m,dimensions:l,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?x:ns({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;eo(e)||Pi();var h=t.payload.client;return Vi(h,e.current.client.selection)?e:oo({state:e,clientSelection:h,impact:ho(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return xo(e);if("COLLECTING"===e.phase)return xo(e);eo(e)||Pi();var g=t.payload,x=g.id,v=g.newScroll,y=e.dimensions.droppables[x];if(!y)return e;var b=rl(y,v);return go(e,b,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;eo(e)||Pi();var w=t.payload,N=w.id,j=w.isEnabled,k=e.dimensions.droppables[N];k||Pi(),k.isEnabled===j&&Pi();var S=ns({},k,{isEnabled:j});return go(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;eo(e)||Pi();var C=t.payload,_=C.id,E=C.isCombineEnabled,D=e.dimensions.droppables[_];D||Pi(),D.isCombineEnabled===E&&Pi();var A=ns({},D,{isCombineEnabled:E});return go(e,A,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;eo(e)||Pi(),e.isWindowScrollAllowed||Pi();var I=t.payload.newScroll;if(Vi(e.viewport.scroll.current,I))return xo(e);var T=Bl(e.viewport,I);return ho(e)?fo({state:e,viewport:T}):oo({state:e,viewport:T})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!eo(e))return e;var O=t.payload.maxScroll;if(Vi(O,e.viewport.scroll.max))return e;var P=ns({},e.viewport,{scroll:ns({},e.viewport.scroll,{max:O})});return ns({phase:"DRAGGING"},e,{viewport:P})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Pi();var R=Zl({state:e,type:t.type});return R?oo({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var L=t.payload.reason;return"COLLECTING"!==e.phase&&Pi(),ns({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:L})}if("DROP_ANIMATE"===t.type){var M=t.payload,F=M.completed,z=M.dropDuration,B=M.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Pi(),{phase:"DROP_ANIMATING",completed:F,dropDuration:z,newHomeClientOffset:B,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},bo=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},wo=function(){return{type:"COLLECTION_STARTING",payload:null}},No=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},jo=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},ko=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},So=function(e){return{type:"MOVE",payload:e}},Co=function(){return{type:"MOVE_UP",payload:null}},_o=function(){return{type:"MOVE_DOWN",payload:null}},Eo=function(){return{type:"MOVE_RIGHT",payload:null}},Do=function(){return{type:"MOVE_LEFT",payload:null}},Ao=function(e){return{type:"DROP_COMPLETE",payload:e}},Io=function(e){return{type:"DROP",payload:e}},To=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Oo="cubic-bezier(.2,1,.1,1)",Po={drop:0,combining:.7},Ro={drop:.75},Lo=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Mo={fluid:"opacity "+Lo,snap:"transform "+Lo+", opacity "+Lo,drop:function(e){var t=e+"s "+Oo;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Lo,placeholder:"height "+Lo+", width "+Lo+", margin "+Lo},Fo=function(e){return Vi(e,qi)?null:"translate("+e.x+"px, "+e.y+"px)"},zo=Fo,Bo=function(e,t){var n=Fo(e);return n?t?n+" scale("+Ro.drop+")":n:null},Uo=.33,$o=.55,Go=$o-Uo,qo=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var a=t(),s=r.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&Pi(),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Pi();var i=a.critical,l=a.dimensions,o=l.draggables[a.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,s=e.viewport,i=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:ns({},r,{displaced:vl}),didDropInsideDroppable:!0}:{impact:co({draggables:t,impact:i,destination:a,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:s,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,f=d?ml(u):null,m=d?pl(u):null,p={index:i.draggable.index,droppableId:i.droppable.id},h={draggableId:o.descriptor.id,type:o.descriptor.type,source:p,reason:s,mode:a.movementMode,destination:f,combine:m},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,s=e.afterCritical,i=r.draggables,l=r.droppables,o=Xl(t),c=o?l[o]:null,u=l[n.descriptor.droppableId],d=uo({impact:t,draggable:n,draggables:i,afterCritical:s,droppable:c||u,viewport:a});return Wi(d,n.client.borderBox.center)}({impact:u,draggable:o,dimensions:l,viewport:a.viewport,afterCritical:a.afterCritical}),x={critical:a.critical,afterCritical:a.afterCritical,result:h,impact:u};if(!Vi(a.current.client.offset,g)||Boolean(h.combine)){var v=function(e){var t=e.current,n=e.destination,r=e.reason,a=Qi(t,n);if(a<=0)return Uo;if(a>=1500)return $o;var s=Uo+Go*(a/1500);return Number(("CANCEL"===r?.6*s:s).toFixed(2))}({current:a.current.client.offset,destination:g,reason:s});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:v,completed:x}))}else n(Ao({completed:x}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:s}))}else e(r)}}},Ho=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Wo(e){var t=e.onWindowScroll;var n,r=Di(function(){t(Ho())}),a=(n=r,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||n()}}),s=Ii;function i(){return s!==Ii}return{start:function(){i()&&Pi(),s=Ti(window,[a])},stop:function(){i()||Pi(),r.cancel(),s(),s=Ii},isActive:i}}var Vo=function(e){var t=Wo({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Yo=function(){var e=[];return{add:function(t){var n=setTimeout(function(){return function(t){var n=sl(e,function(e){return e.timerId===t});-1===n&&Pi(),e.splice(n,1)[0].callback()}(n)}),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}},Jo=function(e,t){t()},Qo=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Ko=function(e,t,n,r){if(e){var a=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),a=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=function(){return t},a}(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}else n(r(t))},Xo=function(e,t){var n=function(e,t){var n=Yo(),r=null,a=function(n){r||Pi(),r=null,Jo(0,function(){return Ko(e().onDragEnd,n,t,Gi)})};return{beforeCapture:function(t,n){r&&Pi(),Jo(0,function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:function(t,n){r&&Pi(),Jo(0,function(){var r=e().onBeforeDragStart;r&&r(Qo(t,n))})},start:function(a,s){r&&Pi();var i=Qo(a,s);r={mode:s,lastCritical:a,lastLocation:i.source,lastCombine:null},n.add(function(){Jo(0,function(){return Ko(e().onDragStart,i,t,Ui)})})},update:function(a,s){var i=ml(s),l=pl(s);r||Pi();var o=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(a,r.lastCritical);o&&(r.lastCritical=a);var c,u,d=(u=i,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(r.lastLocation=i);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,l);if(f&&(r.lastCombine=l),o||d||f){var m=ns({},Qo(a,r.mode),{combine:l,destination:i});n.add(function(){Jo(0,function(){return Ko(e().onDragUpdate,m,t,$i)})})}},flush:function(){r||Pi(),n.flush()},drop:a,abort:function(){if(r){var e=ns({},Qo(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var a=r.payload.critical;return n.beforeStart(a,r.payload.movementMode),t(r),void n.start(a,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var s=r.payload.completed.result;return n.flush(),t(r),void n.drop(s)}if(t(r),"FLUSH"!==r.type){var i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Zo=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Pi(),e.dispatch(Ao({completed:r.completed}))}else t(n)}}},ec=function(e){var t=null,n=null;return function(r){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"===a.type){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(function(){n=null,t=Ti(window,[s])})}}}},tc=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Io({reason:r.reason})))}}}},nc=hs,rc=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,a=e.styleMarshal,s=e.getResponders,i=e.announce,l=e.autoScroller;return fs(yo,nc(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(os(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map(function(e){return e(a)});return r=hs.apply(void 0,s)(n.dispatch),ls(ls({},n),{},{dispatch:r})}}}((t=a,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var s=a.payload,i=s.id,l=s.clientSelection,o=s.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(Ao({completed:c.completed})),"IDLE"!==n().phase&&Pi(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:o}});var u={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===o}},d=e.startPublishing(u),f=d.critical,m=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:f,dimensions:m,clientSelection:l,movementMode:o,viewport:p}})}else t(a)}}}}(n),qo,Zo,ec,tc,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var a=t.getState();return"DRAGGING"!==a.phase&&Pi(),void e.start(a)}n(r),e.scroll(t.getState())}}}}(l),Vo,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Xo(s,i))))};var ac=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,s=Wi({x:n,y:t},{x:a,y:r});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},sc=function(){var e=document.documentElement;return e||Pi(),e},ic=function(){var e=sc();return ac({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},lc=function(e){var t,n,r,a,s,i,l,o=e.critical,c=e.scrollOptions,u=e.registry,d=(t=Ho(),n=ic(),r=t.y,a=t.x,s=sc(),i=s.clientWidth,l=s.clientHeight,{frame:hi({top:r,left:a,right:a+i,bottom:r+l}),scroll:{initial:t,current:t,max:n,diff:{value:qi,displacement:qi}}}),f=d.scroll.current,m=o.droppable,p=u.droppable.getAllByType(m.type).map(function(e){return e.callbacks.getDimensionAndWatchScroll(f,c)}),h=u.draggable.getAllByType(o.draggable.type).map(function(e){return e.getDimension(f)});return{dimensions:{draggables:cl(h),droppables:ol(p)},critical:o,viewport:d}};function oc(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var cc,uc=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},a=null,s=function(){a||(n.collectionStarting(),a=requestAnimationFrame(function(){a=null;var e=r,s=e.additions,i=e.removals,l=e.modified,o=Object.keys(s).map(function(e){return t.draggable.getById(e).getDimension(qi)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),c=Object.keys(l).map(function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}}),u={additions:o,removals:Object.keys(i),modified:c};r={additions:{},removals:{},modified:{}},n.publish(u)}))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],s()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],s()},stop:function(){a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){n||Pi();var a=n.critical.draggable;"ADDITION"===t.type&&oc(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&oc(e,a,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,a){e.droppable.exists(r)||Pi(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:function(r,a){n&&(e.droppable.exists(r)||Pi(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,a){n&&(e.droppable.exists(r)||Pi(),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:function(t){n&&Pi();var r=e.draggable.getById(t.draggableId),s=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:s.descriptor},l=e.subscribe(a);return n={critical:i,unsubscribe:l},lc({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(function(e){return e.callbacks.dragStopped()}),n.unsubscribe(),n=null}}}},dc=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},fc=function(e){window.scrollBy(e.x,e.y)},mc=Ei(function(e){return ul(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),pc=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}var s=function(e,t){return il(mc(t),function(t){return t.frame||Pi(),to(t.frame.pageMarginBox)(e)})}(t,r);return s},hc=.25,gc=.05,xc=28,vc=function(e){return Math.pow(e,2)},yc={stopDampeningAt:1200,accelerateAt:360},bc=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;return 0===a?0:(r-t)/a},wc=yc.accelerateAt,Nc=yc.stopDampeningAt,jc=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,s=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return xc;if(e===t.startScrollingFrom)return 1;var n=bc({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=xc*vc(1-n);return Math.ceil(r)}(t,n);return 0===s?0:a?Math.max(function(e,t){var n=t,r=Nc,a=Date.now()-n;if(a>=Nc)return e;if(a<wc)return 1;var s=bc({startOfRange:wc,endOfRange:r,current:a}),i=e*vc(s);return Math.ceil(i)}(s,r),1):s},kc=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,s=e.shouldUseTimeDampening,i=function(e,t){return{startScrollingFrom:e[t.size]*hc,maxScrollValueAt:e[t.size]*gc}}(t,a);return n[a.end]<n[a.start]?jc({distanceToEdge:n[a.end],thresholds:i,dragStartTime:r,shouldUseTimeDampening:s}):-1*jc({distanceToEdge:n[a.start],thresholds:i,dragStartTime:r,shouldUseTimeDampening:s})},Sc=Xi(function(e){return 0===e?0:e}),Cc=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,s=e.shouldUseTimeDampening,i={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},l=kc({container:n,distanceToEdges:i,dragStartTime:t,axis:jl,shouldUseTimeDampening:s}),o=kc({container:n,distanceToEdges:i,dragStartTime:t,axis:kl,shouldUseTimeDampening:s}),c=Sc({x:o,y:l});if(Vi(c,qi))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,s=n.width>t.width;return s||a?s&&a?null:{x:s?0:r.x,y:a?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?Vi(u,qi)?null:u:null},_c=Xi(function(e){return 0===e?0:e>0?1:-1}),Ec=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,a=t.change,s=Hi(n,a),i={x:e(s.x,r.x),y:e(s.y,r.y)};return Vi(i,qi)?null:i}}(),Dc=function(e){var t=e.max,n=e.current,r=e.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},s=_c(r),i=Ec({max:a,current:n,change:s});return!i||(0!==s.x&&0===i.x||0!==s.y&&0===i.y)},Ac=function(e,t){return Dc({current:e.scroll.current,max:e.scroll.max,change:t})},Ic=function(e,t){var n=e.frame;return!!n&&Dc({current:n.scroll.current,max:n.scroll.max,change:t})},Tc=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,s=e.scrollDroppable,i=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var o=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.dragStartTime,s=e.shouldUseTimeDampening,i=Cc({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:s});return i&&Ac(t,i)?i:null}({dragStartTime:n,viewport:t.viewport,subject:l,center:i,shouldUseTimeDampening:r});if(o)return void a(o)}var c=pc({center:i,destination:Xl(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,s=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var l=Cc({dragStartTime:a,container:i.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:s});return l&&Ic(t,l)?l:null}({dragStartTime:n,droppable:c,subject:l,center:i,shouldUseTimeDampening:r});u&&s(c.descriptor.id,u)}},Oc=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(e,t){if(!Ic(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Ic(e,t)?Ec({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var a=Wi(t,r);return n(e.descriptor.id,a),Wi(t,a)},s=function(e,t,n){if(!e)return n;if(!Ac(t,n))return n;var a=function(e,t){if(!Ac(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Ec({current:r,max:n,change:t})}(t,n);if(!a)return r(n),null;var s=Wi(n,a);return r(s),Wi(n,s)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Xl(e.impact);r||Pi();var i=a(e.dimensions.droppables[r],n);if(i){var l=e.viewport,o=s(e.isWindowScrollAllowed,l,i);o&&function(e,n){var r=Hi(e.current.client.selection,n);t({client:r})}(e,o)}}}},Pc=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Di(t),a=Di(n),s=null,i=function(e){s||Pi();var t=s,n=t.shouldUseTimeDampening,i=t.dragStartTime;Tc({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:i,shouldUseTimeDampening:n})};return{start:function(e){s&&Pi();var t=Date.now(),n=!1,r=function(){n=!0};Tc({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),s={dragStartTime:t,shouldUseTimeDampening:n},n&&i(e)},stop:function(){s&&(r.cancel(),a.cancel(),s=null)},scroll:i}}({scrollWindow:n,scrollDroppable:t}),s=Oc({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&s(e):a.scroll(e))},start:a.start,stop:a.stop}},Rc="data-rbd",Lc={base:cc=Rc+"-drag-handle",draggableId:cc+"-draggable-id",contextId:cc+"-context-id"},Mc=function(){var e=Rc+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Fc=function(){var e=Rc+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),zc={contextId:Rc+"-scroll-container-context-id"},Bc=function(e,t){return e.map(function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""}).join(" ")},Uc="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?te.useLayoutEffect:te.useEffect,$c=function(){var e=document.querySelector("head");return e||Pi(),e},Gc=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function qc(e,t){var n=mi(function(){return function(e){var t,n,r,a=(t=e,function(e){return"["+e+'="'+t+'"]'}),s=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:a(Lc.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),i=[(r="\n      transition: "+Mo.outOfTheWay+";\n    ",{selector:a(Mc.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),s,{selector:a(Fc.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Bc(i,"always"),resting:Bc(i,"resting"),dragging:Bc(i,"dragging"),dropAnimating:Bc(i,"dropAnimating"),userCancel:Bc(i,"userCancel")}}(e)},[e]),r=te.useRef(null),a=te.useRef(null),s=pi(Ei(function(e){var t=a.current;t||Pi(),t.textContent=e}),[]),i=pi(function(e){var t=r.current;t||Pi(),t.textContent=e},[]);Uc(function(){(r.current||a.current)&&Pi();var l=Gc(t),o=Gc(t);return r.current=l,a.current=o,l.setAttribute(Rc+"-always",e),o.setAttribute(Rc+"-dynamic",e),$c().appendChild(l),$c().appendChild(o),i(n.always),s(n.resting),function(){var e=function(e){var t=e.current;t||Pi(),$c().removeChild(t),e.current=null};e(r),e(a)}},[t,i,s,n.always,n.resting,e]);var l=pi(function(){return s(n.dragging)},[s,n.dragging]),o=pi(function(e){s("DROP"!==e?n.userCancel:n.dropAnimating)},[s,n.dropAnimating,n.userCancel]),c=pi(function(){a.current&&s(n.resting)},[s,n.resting]);return mi(function(){return{dragging:l,dropping:o,resting:c}},[l,o,c])}var Hc=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Wc(e){return e instanceof Hc(e).HTMLElement}function Vc(e){var t=te.useRef({}),n=te.useRef(null),r=te.useRef(null),a=te.useRef(!1),s=pi(function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}},[]),i=pi(function(t){var n=function(e,t){var n="["+Lc.contextId+'="'+e+'"]',r=ll(document.querySelectorAll(n));if(!r.length)return null;var a=il(r,function(e){return e.getAttribute(Lc.draggableId)===t});return a&&Wc(a)?a:null}(e,t);n&&n!==document.activeElement&&n.focus()},[e]),l=pi(function(e,t){n.current===e&&(n.current=t)},[]),o=pi(function(){r.current||a.current&&(r.current=requestAnimationFrame(function(){r.current=null;var e=n.current;e&&i(e)}))},[i]),c=pi(function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Lc.draggableId)===e&&(n.current=e)},[]);return Uc(function(){return a.current=!0,function(){a.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}},[]),mi(function(){return{register:s,tryRecordFocus:c,tryRestoreFocusRecorded:o,tryShiftRecord:l}},[s,c,o,l])}function Yc(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(function(t){return t(e)})}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,s=r(a);s&&t.uniqueId===s.uniqueId&&(delete e.draggables[a],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Pi(),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return al(e.draggables).filter(function(e){return e.descriptor.type===t})}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||Pi(),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return al(e.droppables).filter(function(e){return e.descriptor.type===t})}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Jc=se.createContext(null),Qc=function(){var e=document.body;return e||Pi(),e},Kc={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Xc=0,Zc={separator:"::"};function eu(e,t){return void 0===t&&(t=Zc),mi(function(){return""+e+t.separator+Xc++},[t.separator,e])}var tu=se.createContext(null);function nu(e){var t=te.useRef(e);return te.useEffect(function(){t.current=e}),t}var ru,au=((ru={})[13]=!0,ru[9]=!0,ru),su=function(e){au[e.keyCode]&&e.preventDefault()},iu=function(){var e="visibilitychange";return"undefined"==typeof document?e:il([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}();var lu,ou={type:"IDLE"};function cu(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,s=e.clientY;if(0===t){var i={x:n,y:s},l=r();if("DRAGGING"===l.type)return e.preventDefault(),void l.actions.move(i);"PENDING"!==l.type&&Pi();var o=l.point;if(c=o,u=i,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=l.actions.fluidLift(i);a({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void su(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Pi(),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:iu,fn:t}]}function uu(){}var du=((lu={})[34]=!0,lu[33]=!0,lu[36]=!0,lu[35]=!0,lu);function fu(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(du[r.keyCode]?r.preventDefault():su(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:iu,fn:n}]}var mu={type:"IDLE"};var pu={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function hu(e,t){if(null==t)return!1;if(Boolean(pu[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&hu(e,t.parentElement)}function gu(e,t){var n=t.target;return!!Wc(n)&&hu(e,n)}var xu=function(e){return hi(e.getBoundingClientRect()).center};var vu=function(){var e="matches";return"undefined"==typeof document?e:il([e,"msMatchesSelector","webkitMatchesSelector"],function(e){return e in Element.prototype})||e}();function yu(e,t){return null==e?null:e[vu](t)?e:yu(e.parentElement,t)}function bu(e,t){return e.closest?e.closest(t):yu(e,t)}function wu(e,t){var n,r=t.target;if(!((n=r)instanceof Hc(n).Element))return null;var a=function(e){return"["+Lc.contextId+'="'+e+'"]'}(e),s=bu(r,a);return s&&Wc(s)?s:null}function Nu(e){e.preventDefault()}function ju(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function ku(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var s=r.draggable.findById(a);return!!s&&(!!s.options.isEnabled&&!!dc(n.getState(),a))}function Su(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,s=e.draggableId,i=e.forceSensorStop,l=e.sourceEvent;if(!ku({lockAPI:t,store:r,registry:a,draggableId:s}))return null;var o=a.draggable.getById(s),c=function(e,t){var n="["+Mc.contextId+'="'+e+'"]',r=il(ll(document.querySelectorAll(n)),function(e){return e.getAttribute(Mc.id)===t});return r&&Wc(r)?r:null}(n,o.descriptor.id);if(!c)return null;if(l&&!o.options.canDragInteractiveElements&&gu(c,l))return null;var u=t.claim(i||Ii),d="PRE_DRAG";function f(){return o.options.shouldRespectForcePress}function m(){return t.isActive(u)}var p=function(e,t){ju({expected:e,phase:d,isLockActive:m,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function h(e){function n(){t.release(),d="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var s=Ti(window,[{eventName:"click",fn:Nu,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(s)}n(),r.dispatch(Io({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&Pi()),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",ns({isActive:function(){return ju({expected:"DRAGGING",phase:d,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}return{isActive:function(){return ju({expected:"PRE_DRAG",phase:d,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=Di(function(e){p(function(){return So({client:e})})});return ns({},h({liftActionArgs:{id:s,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(Co)},moveRight:function(){return p(Eo)},moveDown:function(){return p(_o)},moveLeft:function(){return p(Do)}};return h({liftActionArgs:{id:s,clientSelection:xu(c),movementMode:"SNAP"},cleanup:Ii,actions:e})},abort:function(){ju({expected:"PRE_DRAG",phase:d,isLockActive:m,shouldWarn:!0})&&t.release()}}}var Cu=[function(e){var t=te.useRef(ou),n=te.useRef(Ii),r=mi(function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,i,{sourceEvent:t});if(a){t.preventDefault();var s={x:t.clientX,y:t.clientY};n.current(),c(a,s)}}}}}},[e]),a=mi(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}},[e]),s=pi(function(){n.current=Ti(window,[a,r],{passive:!1,capture:!0})},[a,r]),i=pi(function(){"IDLE"!==t.current.type&&(t.current=ou,n.current(),s())},[s]),l=pi(function(){var e=t.current;i(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[i]),o=pi(function(){var e=cu({cancel:l,completed:i,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=Ti(window,e,{capture:!0,passive:!1})},[l,i]),c=pi(function(e,n){"IDLE"!==t.current.type&&Pi(),t.current={type:"PENDING",point:n,actions:e},o()},[o]);Uc(function(){return s(),function(){n.current()}},[s])},function(e){var t=te.useRef(uu),n=mi(function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var a=e.findClosestDraggableId(n);if(a){var s=e.tryGetLock(a,o,{sourceEvent:n});if(s){n.preventDefault();var i=!0,l=s.snapLift();t.current(),t.current=Ti(window,fu(l,o),{capture:!0,passive:!1})}}}function o(){i||Pi(),i=!1,t.current(),r()}}}},[e]),r=pi(function(){t.current=Ti(window,[n],{passive:!1,capture:!0})},[n]);Uc(function(){return r(),function(){t.current()}},[r])},function(e){var t=te.useRef(mu),n=te.useRef(Ii),r=pi(function(){return t.current},[]),a=pi(function(e){t.current=e},[]),s=mi(function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,l,{sourceEvent:t});if(a){var s=t.touches[0],i={x:s.clientX,y:s.clientY};n.current(),d(a,i)}}}}}},[e]),i=pi(function(){n.current=Ti(window,[s],{capture:!0,passive:!1})},[s]),l=pi(function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(mu),n.current(),i())},[i,a]),o=pi(function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),c=pi(function(){var e={capture:!0,passive:!1},t={cancel:o,completed:l,getPhase:r},a=Ti(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var a=e.touches[0],s={x:a.clientX,y:a.clientY};e.preventDefault(),n.actions.move(s)}else t()}},{eventName:"touchend",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Pi();var a=e.touches[0];if(a&&a.force>=.15){var s=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return s?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();s&&t()}}},{eventName:iu,fn:t}]}(t),e),s=Ti(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:iu,fn:t}]}(t),e);n.current=function(){a(),s()}},[o,r,l]),u=pi(function(){var e=r();"PENDING"!==e.type&&Pi();var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})},[r,a]),d=pi(function(e,t){"IDLE"!==r().type&&Pi();var n=setTimeout(u,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()},[c,r,a,u]);Uc(function(){return i(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(mu))}},[r,i,a]),Uc(function(){return Ti(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])},[])}];function _u(e){var t=e.contextId,n=e.store,r=e.registry,a=e.customSensors,s=e.enableDefaultSensors,i=[].concat(s?Cu:[],a||[]),l=te.useState(function(){return function(){var e=null;function t(){e||Pi(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Pi();var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()})[0],o=pi(function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()},[l]);Uc(function(){var e=n.getState();return n.subscribe(function(){var t=n.getState();o(e,t),e=t})},[l,n,o]),Uc(function(){return l.tryAbandon},[l.tryAbandon]);for(var c=pi(function(e){return ku({lockAPI:l,registry:r,store:n,draggableId:e})},[l,r,n]),u=pi(function(e,a,s){return Su({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:a,sourceEvent:s&&s.sourceEvent?s.sourceEvent:null})},[t,l,r,n]),d=pi(function(e){return function(e,t){var n=wu(e,t);return n?n.getAttribute(Lc.draggableId):null}(t,e)},[t]),f=pi(function(e){var t=r.draggable.findById(e);return t?t.options:null},[r.draggable]),m=pi(function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))},[l,n]),p=pi(l.isClaimed,[l]),h=mi(function(){return{canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:p}},[c,u,d,f,m,p]),g=0;g<i.length;g++)i[g](h)}function Eu(e){return e.current||Pi(),e.current}function Du(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,s=e.dragHandleUsageInstructions,i=te.useRef(null),l=nu(e),o=pi(function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)},[l]),c=function(e){var t=mi(function(){return function(e){return"rbd-announcement-"+e}(e)},[e]),n=te.useRef(null);return te.useEffect(function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),ns(e.style,Kc),Qc().appendChild(e),function(){setTimeout(function(){var t=Qc();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)})}},[t]),pi(function(e){var t=n.current;t&&(t.textContent=e)},[])}(t),u=function(e){var t=e.contextId,n=e.text,r=eu("hidden-text",{separator:"-"}),a=mi(function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e},[r,t]);return te.useEffect(function(){var e=document.createElement("div");return e.id=a,e.textContent=n,e.style.display="none",Qc().appendChild(e),function(){var t=Qc();t.contains(e)&&t.removeChild(e)}},[a,n]),a}({contextId:t,text:s}),d=qc(t,a),f=pi(function(e){Eu(i).dispatch(e)},[]),m=mi(function(){return ps({publishWhileDragging:bo,updateDroppableScroll:No,updateDroppableIsEnabled:jo,updateDroppableIsCombineEnabled:ko,collectionStarting:wo},f)},[f]),p=function(){var e=mi(Yc,[]);return te.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}(),h=mi(function(){return uc(p,m)},[p,m]),g=mi(function(){return Pc(ns({scrollWindow:fc,scrollDroppable:h.scrollDroppable},ps({move:So},f)))},[h.scrollDroppable,f]),x=Vc(t),v=mi(function(){return rc({announce:c,autoScroller:g,dimensionMarshal:h,focusMarshal:x,getResponders:o,styleMarshal:d})},[c,g,h,x,o,d]);i.current=v;var y=pi(function(){var e=Eu(i);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),b=pi(function(){var e=Eu(i).getState();return e.isDragging||"DROP_ANIMATING"===e.phase},[]);n(mi(function(){return{isDragging:b,tryAbort:y}},[b,y]));var w=pi(function(e){return dc(Eu(i).getState(),e)},[]),N=pi(function(){return eo(Eu(i).getState())},[]),j=mi(function(){return{marshal:h,focus:x,contextId:t,canLift:w,isMovementAllowed:N,dragHandleUsageInstructionsId:u,registry:p}},[t,h,u,x,w,N,p]);return _u({contextId:t,store:v,registry:p,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),te.useEffect(function(){return y},[y]),se.createElement(tu.Provider,{value:j},se.createElement(Ns,{context:Jc,store:v},e.children))}var Au=0;function Iu(){Au=0,Xc=0}function Tu(e){var t=mi(function(){return""+Au++},[]),n=e.dragHandleUsageInstructions||Bi;return se.createElement(Ri,null,function(r){return se.createElement(Du,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Ou=function(e){return function(t){return e===t}},Pu=Ou("scroll"),Ru=Ou("auto"),Lu=function(e,t){return t(e.overflowX)||t(e.overflowY)},Mu=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Lu(n,Pu)||Lu(n,Ru)}(t)?t:e(t.parentElement)},Fu=function(e){return{x:e.scrollLeft,y:e.scrollTop}},zu=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Bu=function(e){return{closestScrollable:Mu(e),isFixedOnPage:zu(e)}},Uu=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,s=e.direction,i=e.isDropDisabled,l=e.isCombineEnabled,o=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=ki(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,i=a+t.scrollWidth,l=gi({top:r,right:i,bottom:s,left:a},n.border);return yi({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=Ni(u,a),f=function(){if(!c)return null;var e=ki(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:Ni(e,a),scroll:Fu(c),scrollSize:t,shouldClipSubject:o}}(),m=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,s=e.direction,i=e.client,l=e.page,o=e.closest,c=function(){if(!o)return null;var e=o.scrollSize,t=o.client,n=ac({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:o.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:o.shouldClipSubject,scroll:{initial:o.scroll,current:o.scroll,max:n,diff:{value:qi,displacement:qi}}}}(),u="vertical"===s?jl:kl;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:u,isEnabled:n,client:i,page:l,frame:c,subject:nl({page:l,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:s,client:u,page:d,closest:f});return m},$u={passive:!1},Gu={passive:!0},qu=function(e){return e.shouldPublishImmediately?$u:Gu};function Hu(e){var t=te.useContext(e);return t||Pi(),t}var Wu=function(e){return e&&e.env.closestScrollable||null};function Vu(){}var Yu={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Ju=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,a=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?Yu:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Mo.placeholder:null}};var Qu=se.memo(function(e){var t=te.useRef(null),n=pi(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,a=e.onTransitionEnd,s=e.onClose,i=e.contextId,l=te.useState("open"===e.animate),o=l[0],c=l[1];te.useEffect(function(){return o?"open"!==r?(n(),c(!1),Vu):t.current?Vu:(t.current=setTimeout(function(){t.current=null,c(!1)}),n):Vu},[r,o,n]);var u=pi(function(e){"height"===e.propertyName&&(a(),"close"===r&&s())},[r,s,a]),d=Ju({isAnimatingOpenOnMount:o,animate:e.animate,placeholder:e.placeholder});return se.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})}),Ku=se.createContext(null),Xu=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return ts(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(se.PureComponent),Zu=5e3,ed=4500,td=function(e,t){return t?Mo.drop(t.duration):e?Mo.snap:Mo.fluid},nd=function(e,t){return e?t?Po.drop:Po.combining:null};function rd(e){return"DRAGGING"===e.type?(r=(n=e).dimension.client,a=n.offset,s=n.combineWith,i=n.dropping,l=Boolean(s),o=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(n),c=Boolean(i),u=c?Bo(a,l):zo(a),{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:td(o,i),transform:u,opacity:nd(l,c),zIndex:c?ed:Zu,pointerEvents:"none"}):{transform:zo((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,n,r,a,s,i,l,o,c,u}function ad(e){var t=eu("draggable"),n=e.descriptor,r=e.registry,a=e.getDraggableRef,s=e.canDragInteractiveElements,i=e.shouldRespectForcePress,l=e.isEnabled,o=mi(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:i,isEnabled:l}},[s,l,i]),c=pi(function(e){var t=a();return t||Pi(),function(e,t,n){void 0===n&&(n=qi);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),s=ji(a,r),i=Ni(s,n);return{descriptor:e,placeholder:{client:s,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:s.marginBox.width,y:s.marginBox.height},client:s,page:i}}(n,t,e)},[n,a]),u=mi(function(){return{uniqueId:t,descriptor:n,options:o,getDimension:c}},[n,c,o,t]),d=te.useRef(u),f=te.useRef(!0);Uc(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),Uc(function(){if(f.current)f.current=!1;else{var e=d.current;d.current=u,r.draggable.update(u,e)}},[u,r.draggable])}function sd(e){e.preventDefault()}var id=function(e,t){return e===t},ld=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function od(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var cd={mapped:{type:"SECONDARY",offset:qi,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:od(null)}};var ud=ui(function(){var e,t,n,r=(e=Ei(function(e,t){return{x:e,y:t}}),t=Ei(function(e,t,n,r,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}}),n=Ei(function(e,n,r,a,s,i,l){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:l,snapshot:t(n,a,s,i,null)}}}),function(r,a){if(r.isDragging){if(r.critical.draggable.id!==a.draggableId)return null;var s=r.current.client.offset,i=r.dimensions.draggables[a.draggableId],l=Xl(r.impact),o=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(s.x,s.y),r.movementMode,i,a.isClone,l,o,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==a.draggableId)return null;var f=a.isClone,m=r.dimensions.draggables[a.draggableId],p=d.result,h=p.mode,g=ld(p),x=function(e){return e.combine?e.combine.draggableId:null}(p),v={duration:r.dropDuration,curve:Oo,moveTo:r.newHomeClientOffset,opacity:x?Po.drop:null,scale:x?Ro.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:m,dropping:v,draggingOver:g,combineWith:x,mode:h,forceShouldAnimate:null,snapshot:t(h,f,g,x,v)}}}return null}),a=function(){var e=Ei(function(e,t){return{x:e,y:t}}),t=Ei(od),n=Ei(function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}}),r=function(e){return e?n(qi,e,!0):null},a=function(t,a,s,i){var l=s.displaced.visible[t],o=Boolean(i.inVirtualList&&i.effected[t]),c=pl(s),u=c&&c.draggableId===t?a:null;if(!l){if(!o)return r(u);if(s.displaced.invisible[t])return null;var d=Yi(i.displacedBy.point),f=e(d.x,d.y);return n(f,u,!0)}if(o)return r(u);var m=s.displacedBy.point,p=e(m.x,m.y);return n(p,u,l.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||a(e,t)||cd}},{dropAnimationFinished:To},null,{context:Jc,pure:!0,areStatePropsEqual:id})(function(e){var t=te.useRef(null),n=pi(function(e){t.current=e},[]),r=pi(function(){return t.current},[]),a=Hu(tu),s=a.contextId,i=a.dragHandleUsageInstructionsId,l=a.registry,o=Hu(Ku),c=o.type,u=o.droppableId,d=mi(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:u}},[e.draggableId,e.index,c,u]),f=e.children,m=e.draggableId,p=e.isEnabled,h=e.shouldRespectForcePress,g=e.canDragInteractiveElements,x=e.isClone,v=e.mapped,y=e.dropAnimationFinished;x||ad(mi(function(){return{descriptor:d,registry:l,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:h,isEnabled:p}},[d,l,r,g,h,p]));var b=mi(function(){return p?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:sd}:null},[s,i,m,p]),w=pi(function(e){"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&y()},[y,v]),N=mi(function(){var e=rd(v),t="DRAGGING"===v.type&&v.dropping?w:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":m,style:e,onTransitionEnd:t},dragHandleProps:b}},[s,b,m,v,w,n]),j=mi(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return f(N,v.snapshot,j)});function dd(e){return Hu(Ku).isUsingCloneFor!==e.draggableId||e.isClone?se.createElement(ud,e):null}function fd(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return se.createElement(dd,ns({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var md=function(e,t){return e===t.droppable.type},pd=function(e,t){return t.draggables[e.draggable.id]};var hd={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Pi(),document.body}},gd=ui(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=ns({},e,{shouldAnimatePlaceholder:!1}),n=Ei(function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}}),r=Ei(function(r,a,s,i,l,o){var c=l.descriptor.id;if(l.descriptor.droppableId===r){var u=o?{render:o,dragging:n(l.descriptor)}:null,d={isDraggingOver:s,draggingOverWith:s?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!a)return t;if(!i)return e;var f={isDraggingOver:s,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}});return function(n,a){var s=a.droppableId,i=a.type,l=!a.isDropDisabled,o=a.renderClone;if(n.isDragging){var c=n.critical;if(!md(i,c))return t;var u=pd(c,n.dimensions),d=Xl(n.impact)===s;return r(s,l,d,d,u,o)}if("DROP_ANIMATING"===n.phase){var f=n.completed;if(!md(i,f.critical))return t;var m=pd(f.critical,n.dimensions);return r(s,l,ld(f.result)===s,Xl(f.impact)===s,m,o)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!md(i,p.critical))return t;var h=Xl(p.impact)===s,g=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),x=p.critical.droppable.id===s;return h?g?e:t:x?e:t}return t}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Jc,pure:!0,areStatePropsEqual:id})(function(e){var t=te.useContext(tu);t||Pi();var n=t.contextId,r=t.isMovementAllowed,a=te.useRef(null),s=te.useRef(null),i=e.children,l=e.droppableId,o=e.type,c=e.mode,u=e.direction,d=e.ignoreContainerClipping,f=e.isDropDisabled,m=e.isCombineEnabled,p=e.snapshot,h=e.useClone,g=e.updateViewportMaxScroll,x=e.getContainerForClone,v=pi(function(){return a.current},[]),y=pi(function(e){a.current=e},[]);pi(function(){return s.current},[]);var b=pi(function(e){s.current=e},[]),w=pi(function(){r()&&g({maxScroll:ic()})},[r,g]);!function(e){var t=te.useRef(null),n=Hu(tu),r=eu("droppable"),a=n.registry,s=n.marshal,i=nu(e),l=mi(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),o=te.useRef(l),c=mi(function(){return Ei(function(e,n){t.current||Pi();var r={x:e,y:n};s.updateDroppableScroll(l.id,r)})},[l.id,s]),u=pi(function(){var e=t.current;return e&&e.env.closestScrollable?Fu(e.env.closestScrollable):qi},[]),d=pi(function(){var e=u();c(e.x,e.y)},[u,c]),f=mi(function(){return Di(d)},[d]),m=pi(function(){var e=t.current,n=Wu(e);e&&n||Pi(),e.scrollOptions.shouldPublishImmediately?d():f()},[f,d]),p=pi(function(e,r){t.current&&Pi();var a=i.current,s=a.getDroppableRef();s||Pi();var o=Bu(s),c={ref:s,descriptor:l,env:o,scrollOptions:r};t.current=c;var u=Uu({ref:s,descriptor:l,env:o,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=o.closestScrollable;return d&&(d.setAttribute(zc.contextId,n.contextId),d.addEventListener("scroll",m,qu(c.scrollOptions))),u},[n.contextId,l,m,i]),h=pi(function(){var e=t.current,n=Wu(e);return e&&n||Pi(),Fu(n)},[]),g=pi(function(){var e=t.current;e||Pi();var n=Wu(e);t.current=null,n&&(f.cancel(),n.removeAttribute(zc.contextId),n.removeEventListener("scroll",m,qu(e.scrollOptions)))},[m,f]),x=pi(function(e){var n=t.current;n||Pi();var r=Wu(n);r||Pi(),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),v=mi(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:h,dragStopped:g,scroll:x}},[g,p,h,x]),y=mi(function(){return{uniqueId:r,descriptor:l,callbacks:v}},[v,l,r]);Uc(function(){return o.current=y.descriptor,a.droppable.register(y),function(){t.current&&g(),a.droppable.unregister(y)}},[v,l,g,y,s,a.droppable]),Uc(function(){t.current&&s.updateDroppableIsEnabled(o.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),Uc(function(){t.current&&s.updateDroppableIsCombineEnabled(o.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}({droppableId:l,type:o,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:d,getDroppableRef:v});var N=se.createElement(Xu,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,r=e.data,a=e.animate;return se.createElement(Qu,{placeholder:r,onClose:t,innerRef:b,animate:a,contextId:n,onTransitionEnd:w})}),j=mi(function(){return{innerRef:y,placeholder:N,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,N,y]),k=h?h.dragging.draggableId:null,S=mi(function(){return{droppableId:l,type:o,isUsingCloneFor:k}},[l,k,o]);return se.createElement(Ku.Provider,{value:S},i(j,p),function(){if(!h)return null;var e=h.dragging,t=h.render,n=se.createElement(dd,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(n,r){return t(n,r,e)});return le.createPortal(n,x())}())});gd.defaultProps=hd;const xd=[{id:"private",title:"Private",description:"Closest connections and family",color:"#8b5cf6",icon:e.jsx(et,{size:18})},{id:"personal",title:"Personal",description:"Close friends and important connections",color:"#ec4899",icon:e.jsx(vt,{size:18})},{id:"regular",title:"Regular",description:"Friends and frequent connections",color:"#3b82f6",icon:e.jsx(Se,{size:18})},{id:"business",title:"Business",description:"Professional contacts and colleagues",color:"#10b981",icon:e.jsx(yt,{size:18})},{id:"others",title:"Others",description:"Other contacts and acquaintances",color:"#6b7280",icon:e.jsx(bt,{size:18})}],vd=()=>{const[t,n]=te.useState([]),[r,a]=te.useState(""),[s,i]=te.useState(!0),[l,o]=te.useState(null);te.useEffect(()=>{Iu();(async()=>{const{data:{user:e}}=await In.auth.getUser();e?(o(e.id),c(e.id)):i(!1)})()},[]);const c=async e=>{try{i(!0);const{data:t,error:r}=await In.from("contacts").select("*").eq("user_id",e).order("hierarchy_order",{ascending:!0});if(r)throw r;if(t){const e=t.map(e=>e.id),r=new Set(e);if(e.length!==r.size){const t={};e.forEach(e=>{t[e]=(t[e]||0)+1});Object.entries(t).filter(([,e])=>e>1)}n(t)}else n([])}catch(t){Ar({title:"Error",description:"Failed to load contacts. Please try again.",variant:"destructive"})}finally{i(!1)}},u=e=>{const t=xd.find(t=>t.id===e);return t?`${t.color}10`:"#f3f4f6"},d=e=>{const t=xd.find(t=>t.id===e);return t?`${t.color}30`:"#e5e7eb"},f=(()=>{const e={};xd.forEach(t=>{e[t.id]=[]});return t.filter(e=>{var t,n,a;return!(!e.id||""===String(e.id).trim())&&(!r||(e.name.toLowerCase().includes(r.toLowerCase())||(null==(t=e.email)?void 0:t.toLowerCase().includes(r.toLowerCase()))||(null==(n=e.phone)?void 0:n.toLowerCase().includes(r.toLowerCase()))||(null==(a=e.company)?void 0:a.toLowerCase().includes(r.toLowerCase()))))}).forEach(t=>{if(!t.id||""===String(t.id).trim())return;const n=t.hierarchy||"others",r={...t,id:String(t.id)};e[n]?e[n].push(r):(e.others=e.others||[],e.others.push(r))}),e})();return e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Contact Hierarchy"}),e.jsx("p",{className:"text-muted-foreground",children:"Organize your contacts based on closeness and importance"})]}),e.jsxs("div",{className:"relative w-full md:w-auto",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(ur,{placeholder:"Search contacts...",value:r,onChange:e=>a(e.target.value),className:"pl-10 w-full md:w-[300px]"})]})]}),s?e.jsx("div",{className:"h-60 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-opacity-50 border-t-primary rounded-full"})}):0===t.length?e.jsx(Xn,{className:"bg-muted/50",children:e.jsxs(nr,{className:"pt-6 flex flex-col items-center justify-center h-60",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-3 mb-4",children:e.jsx(gt,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Contacts Available"}),e.jsx("p",{className:"text-muted-foreground mb-4 text-center max-w-md",children:"You need to add contacts before you can organize them into hierarchies."}),e.jsxs(bn,{variant:"default",onClick:()=>window.location.href="/contacts",children:[e.jsx(ot,{className:"mr-2 h-4 w-4"}),"Go to Contacts Page"]})]})}):e.jsx(Tu,{onDragEnd:async e=>{var r;const{destination:a,source:s,draggableId:i}=e;if(a&&(a.droppableId!==s.droppableId||a.index!==s.index))try{const e=i.replace("contact-",""),s=a.droppableId,l=t.map(t=>String(t.id)===e?{...t,hierarchy:s}:t);n(l);const{error:o}=await In.from("contacts").update({hierarchy:s}).eq("id",e);if(o)throw o;Ar({title:"Contact Moved",description:`Contact moved to ${(null==(r=xd.find(e=>e.id===s))?void 0:r.title)||s}`})}catch(o){Ar({title:"Error",description:"Failed to update contact hierarchy. Please try again.",variant:"destructive"}),l&&c(l)}},children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:xd.map((t,n)=>e.jsxs(Xn,{className:"overflow-hidden border-t-4",style:{borderTopColor:t.color},children:[e.jsx(Zn,{className:"bg-muted/30 pb-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 p-1 rounded",style:{backgroundColor:`${t.color}20`},children:t.icon}),e.jsxs("div",{children:[e.jsx(er,{className:"text-base",children:t.title}),e.jsx(tr,{className:"text-xs",children:t.description})]})]})}),"                ",e.jsx(gd,{droppableId:t.id,children:(n,r)=>e.jsx(nr,{ref:n.innerRef,...n.droppableProps,className:"p-2 min-h-[300px] transition-colors duration-200 "+(r.isDraggingOver?"bg-muted/50 border-2 border-dashed border-primary/50":""),style:{minHeight:"300px",height:"auto"},children:f[t.id]&&0===f[t.id].length?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"Drag contacts here"})}):e.jsxs("div",{className:"space-y-2",children:[f[t.id]&&f[t.id].map((t,n)=>{const r=String(t.id);return r&&""!==r.trim()?e.jsx(fd,{draggableId:r,index:n,children:(n,r)=>e.jsx("div",{ref:n.innerRef,...n.draggableProps,className:"p-3 rounded-md shadow-sm transition-all duration-200 "+(r.isDragging?"opacity-80 scale-105":""),style:{backgroundColor:u(t.hierarchy||"others"),borderLeft:`3px solid ${d(t.hierarchy||"others")}`,...r.isDragging?{boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",zIndex:9999}:{},...n.draggableProps.style},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:t.name}),t.company&&e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:t.company})]}),e.jsx("div",{...n.dragHandleProps,className:"cursor-grab p-1 hover:bg-gray-100 rounded","aria-label":"Drag contact",children:e.jsx(xt,{size:16,className:"text-gray-400"})})]})})},r):null}),n.placeholder]})})},t.id)]},`${t.id}-${n}`))})})]})};let yd=null;yd=new nn("AIzaSyBvBjVpsuiriUakXLLNy8LwMTvARG8taKY");const bd=e=>{const t=new Set(["the","is","at","which","on","and","a","to","are","as","was","will","be","have","has","had","do","does","did","can","could","should","would","may","might","must","i","you","he","she","it","we","they","me","him","her","us","them","my","your","his","her","its","our","their","this","that","these","those","am","is","are","was","were","been","being","have","has","had","do","does","did","will","would","could","should"]),n=e.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(e=>e.length>3&&!t.has(e)),r=new Map;return n.forEach(e=>{r.set(e,(r.get(e)||0)+1)}),Array.from(r.entries()).sort(([,e],[,t])=>t-e).slice(0,8).map(([e])=>e)},wd=e=>{const t=[];return[/(?:need to|should|must|have to|going to|plan to|want to|will)\s+([^.!?]+)/gi,/(?:todo|to do|task|action):\s*([^.!?]+)/gi,/(?:remember to|don't forget to)\s+([^.!?]+)/gi].forEach(n=>{const r=Array.from(e.matchAll(n));for(const e of r)e[1]&&t.push(e[1].trim())}),t.slice(0,5)},Nd=()=>{const[t,n]=te.useState(""),[r,a]=te.useState((new Date).toISOString().split("T")[0]),[s,i]=te.useState([]),[l,o]=te.useState(!0),[c,u]=te.useState(!1),[d,f]=te.useState(null),[m,p]=te.useState(null),[h,g]=te.useState("write"),[x,v]=te.useState(null),[y,b]=te.useState(!1);te.useEffect(()=>{(async()=>{const{data:{user:e}}=await In.auth.getUser();p(e),e&&await w(e.id)})()},[]),te.useEffect(()=>{m&&s.length>0&&N(r)},[r,m,s]);const w=async e=>{try{o(!0);const{data:t,error:a}=await In.from("diary_entries").select("*").eq("user_id",e).order("entry_date",{ascending:!1});if(a)return void Ar({title:"Error",description:"Failed to load diary entries",variant:"destructive"});if(i(t||[]),t&&t.length>0){const e=t.find(e=>e.entry_date===r);e?(n(e.content),f(e)):(n(""),f(null))}}catch(t){}finally{o(!1)}},N=e=>{const t=s.find(t=>t.entry_date===e);t?(n(t.content),f(t)):(n(""),f(null))},j=e=>{const t=(new Date).toISOString().split("T")[0],n=new Date(e);if(e===t)return"Today";const r=new Date;return r.setDate(r.getDate()-1),e===r.toISOString().split("T")[0]?"Yesterday":n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},k=s.sort((e,t)=>new Date(t.entry_date).getTime()-new Date(e.entry_date).getTime());return e.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(bn,{variant:"outline",size:"icon",asChild:!0,className:"mr-4",children:e.jsx(ae,{to:"/dashboard",children:e.jsx(wt,{className:"h-5 w-5"})})}),e.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[e.jsx(He,{className:"h-8 w-8 mr-3 text-purple-500"}),"Daily Diary"]})]}),"      ",e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1",children:[e.jsx("div",{className:"lg:col-span-2 flex flex-col",children:e.jsxs(Xn,{className:"flex-1 flex flex-col shadow-lg",children:[e.jsxs(Zn,{className:"border-b bg-gradient-to-r from-purple-50 to-blue-50",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(er,{className:"text-xl",children:r===(new Date).toISOString().split("T")[0]?"Today's Entry":`Entry for ${j(r)}`}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Date:"}),e.jsx("input",{type:"date",value:r,onChange:e=>{a(e.target.value)},className:"p-2 border rounded-md bg-background text-foreground shadow-sm",max:(new Date).toISOString().split("T")[0]})]})]}),e.jsx(_n,{value:h,onValueChange:e=>g(e),className:"mt-4",children:e.jsxs(En,{className:"grid w-full grid-cols-2",children:[e.jsxs(Dn,{value:"write",className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4"}),"Write"]}),e.jsxs(Dn,{value:"voice",className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Voice Input"]})]})})]}),e.jsx(nr,{className:"flex-1 flex flex-col p-6",children:e.jsxs(_n,{value:h,className:"flex-1 flex flex-col",children:[e.jsxs(An,{value:"write",className:"flex-1 flex flex-col",children:[e.jsx(Un,{placeholder:"What's on your mind today? Share your thoughts, experiences, and reflections...",value:t,onChange:e=>n(e.target.value),className:"flex-1 text-base resize-none border-none shadow-none focus:ring-0 p-0 min-h-[400px]",style:{lineHeight:"1.6",fontFamily:"ui-serif, Georgia, Cambria, serif"}}),x&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ue,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"font-medium text-sm",children:"AI Analysis"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:x.summary}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"text-xs bg-white px-2 py-1 rounded",children:["Sentiment: ",e.jsx("span",{className:"font-medium",children:x.sentiment})]}),x.keywords.slice(0,3).map((t,n)=>e.jsx("div",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:t},n))]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.length," characters"]}),e.jsxs(bn,{onClick:async()=>{if(t.trim()&&m){u(!0);try{if(d){const{error:e}=await In.from("diary_entries").update({content:t,updated_at:(new Date).toISOString()}).eq("id",d.id);if(e)throw e;i(e=>e.map(e=>e.id===d.id?{...e,content:t,updated_at:(new Date).toISOString()}:e)),Ar({title:"Success",description:"Diary entry updated successfully"})}else{const{data:e,error:n}=await In.from("diary_entries").insert({user_id:m.id,entry_date:r,content:t}).select().single();if(n)throw n;i(t=>[e,...t.filter(e=>e.entry_date!==r)]),f(e),Ar({title:"Success",description:"Diary entry saved successfully"})}}catch(e){Ar({title:"Error",description:"Failed to save diary entry",variant:"destructive"})}finally{u(!1)}}},disabled:c||!t.trim(),className:"px-6",size:"lg",children:[e.jsx(Nt,{className:"h-4 w-4 mr-2"}),c?"Saving...":d?"Update Entry":"Save Entry"]})]})]}),e.jsx(An,{value:"voice",className:"flex-1",children:e.jsx(Ir,{onTranscript:async e=>{n(t=>t?t+"\n\n"+e:e),g("write"),b(!0);try{const t=await(async(e,t="diary")=>{if(!yd)throw new Error("Gemini AI is not configured");const n=yd.getGenerativeModel({model:"gemini-1.5-flash"}),r=`\nAnalyze this voice transcript for a ${t} entry and provide insights:\n\n"${e}"\n\nThe analysis should consider these three life rules:\n1. Truth & Curiosity - Being honest, seeking knowledge, asking questions\n2. Integrity - Acting according to values, being consistent, doing what's right\n3. Antifragile Growth - Learning from challenges, becoming stronger through adversity\n\nPlease provide a JSON response with:\n- summary: A brief summary of the content (2-3 sentences)\n- sentiment: overall emotional tone (positive/negative/neutral)\n- keywords: key themes or topics mentioned (5-8 words)\n- actionItems: specific actionable items mentioned (if any)\n- ruleAlignment: score 0-10 for how well this aligns with each rule\n- suggestions: 2-3 constructive suggestions based on the content\n\nFormat your response as valid JSON only.\n`;try{const t=await n.generateContent(r),a=(await t.response).text().match(/\{[\s\S]*\}/);return a?JSON.parse(a[0]):{summary:"Voice input captured successfully.",sentiment:"neutral",keywords:bd(e),actionItems:wd(e),ruleAlignment:{rule1:5,rule2:5,rule3:5},suggestions:["Consider reflecting on how this relates to your personal values.","Think about any action steps you might want to take."]}}catch(a){return{summary:`${t.charAt(0).toUpperCase()+t.slice(1)} entry recorded via voice input.`,sentiment:"neutral",keywords:bd(e),actionItems:wd(e),ruleAlignment:{rule1:5,rule2:5,rule3:5},suggestions:["Voice input captured successfully.","Consider reviewing and editing the transcription if needed."]}}})(e,"diary");v(t),Ar({title:"Voice Analysis Complete",description:`Sentiment: ${t.sentiment}. Found ${t.actionItems.length} action items.`})}catch(t){Ar({title:"Analysis Error",description:"Could not analyze voice input, but transcript was saved.",variant:"destructive"})}finally{b(!1)}},onAIAnalysis:e=>{},placeholder:"Start speaking your diary entry...",isAnalyzing:y,mode:"diary",className:"h-full"})})]})})]})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs(Xn,{className:"flex-1 shadow-lg",children:["            ",e.jsx(Zn,{className:"border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsxs(er,{className:"flex items-center justify-between text-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"h-5 w-5 mr-2 text-blue-500"}),"Your Diary Entries"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.length," ",1===s.length?"entry":"entries"]})]})}),e.jsx(nr,{className:"p-0",children:l?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading entries..."})]}):0===k.length?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(He,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"No diary entries yet."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start writing to create your first entry!"})]}):e.jsxs("div",{className:"max-h-[600px] overflow-y-auto",children:["                  ",k.map(t=>e.jsxs("div",{className:"p-4 border-b cursor-pointer transition-all hover:bg-muted/50 "+(t.entry_date===r?"bg-purple-50 border-l-4 border-l-purple-500":""),onClick:()=>(e=>{a(e.entry_date)})(t),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:j(t.entry_date)}),t.entry_date===r&&e.jsx(Ge,{className:"h-4 w-4 text-purple-500"})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:t.content}),e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[t.content.length," characters"]})]},t.id))]})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(bn,{variant:"outline",className:"w-full",onClick:()=>{const e=(new Date).toISOString().split("T")[0];a(e);const t=s.find(t=>t.entry_date===e);t?(n(t.content),f(t)):(n(""),f(null))},children:[e.jsx(st,{className:"h-4 w-4 mr-2"}),"New Entry for Today"]})})]})]})]})};var jd,kd,Sd={exports:{}},Cd={};var _d=(kd||(kd=1,Sd.exports=function(){if(jd)return Cd;jd=1;var e=X(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function i(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(a){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var l=t(),o=n({inst:{value:l,getSnapshot:t}}),c=o[0].inst,u=o[1];return a(function(){c.value=l,c.getSnapshot=t,i(c)&&u({inst:c})},[e,l,t]),r(function(){return i(c)&&u({inst:c}),e(function(){i(c)&&u({inst:c})})},[e]),s(l),l};return Cd.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:l,Cd}()),Sd.exports);function Ed(){return()=>{}}var Dd="Avatar",[Ad,Id]=G(Dd),[Td,Od]=Ad(Dd),Pd=te.forwardRef((t,n)=>{const{__scopeAvatar:r,...a}=t,[s,i]=te.useState("idle");return e.jsx(Td,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:e.jsx(C.span,{...a,ref:n})})});Pd.displayName=Dd;var Rd="AvatarImage",Ld=te.forwardRef((t,n)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:s=()=>{},...i}=t,l=Od(Rd,r),o=function(e,{referrerPolicy:t,crossOrigin:n}){const r=_d.useSyncExternalStore(Ed,()=>!0,()=>!1),a=te.useRef(null),s=r?(a.current||(a.current=new window.Image),a.current):null,[i,l]=te.useState(()=>zd(s,e));return K(()=>{l(zd(s,e))},[s,e]),K(()=>{const e=e=>()=>{l(e)};if(!s)return;const r=e("loaded"),a=e("error");return s.addEventListener("load",r),s.addEventListener("error",a),t&&(s.referrerPolicy=t),"string"==typeof n&&(s.crossOrigin=n),()=>{s.removeEventListener("load",r),s.removeEventListener("error",a)}},[s,n,t]),i}(a,i),c=Q(e=>{s(e),l.onImageLoadingStatusChange(e)});return K(()=>{"idle"!==o&&c(o)},[o,c]),"loaded"===o?e.jsx(C.img,{...i,ref:n,src:a}):null});Ld.displayName=Rd;var Md="AvatarFallback",Fd=te.forwardRef((t,n)=>{const{__scopeAvatar:r,delayMs:a,...s}=t,i=Od(Md,r),[l,o]=te.useState(void 0===a);return te.useEffect(()=>{if(void 0!==a){const e=window.setTimeout(()=>o(!0),a);return()=>window.clearTimeout(e)}},[a]),l&&"loaded"!==i.imageLoadingStatus?e.jsx(C.span,{...s,ref:n}):null});function zd(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}Fd.displayName=Md;var Bd=Pd,Ud=Ld,$d=Fd;const Gd=te.forwardRef(({className:t,...n},r)=>e.jsx(Bd,{ref:r,className:vn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...n}));Gd.displayName=Bd.displayName;const qd=te.forwardRef(({className:t,...n},r)=>e.jsx(Ud,{ref:r,className:vn("aspect-square h-full w-full",t),...n}));qd.displayName=Ud.displayName;const Hd=te.forwardRef(({className:t,...n},r)=>e.jsx($d,{ref:r,className:vn("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...n}));Hd.displayName=$d.displayName;var Wd="Progress",[Vd,Yd]=G(Wd),[Jd,Qd]=Vd(Wd),Kd=te.forwardRef((t,n)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:i=ef,...l}=t;(s||0===s)&&rf(s);const o=rf(s)?s:100;null!==a&&af(a,o);const c=af(a,o)?a:null,u=nf(c)?i(c,o):void 0;return e.jsx(Jd,{scope:r,value:c,max:o,children:e.jsx(C.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":nf(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":tf(c,o),"data-value":c??void 0,"data-max":o,...l,ref:n})})});Kd.displayName=Wd;var Xd="ProgressIndicator",Zd=te.forwardRef((t,n)=>{const{__scopeProgress:r,...a}=t,s=Qd(Xd,r);return e.jsx(C.div,{"data-state":tf(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:n})});function ef(e,t){return`${Math.round(e/t*100)}%`}function tf(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function nf(e){return"number"==typeof e}function rf(e){return nf(e)&&!isNaN(e)&&e>0}function af(e,t){return nf(e)&&!isNaN(e)&&e<=t&&e>=0}Zd.displayName=Xd;var sf=Kd,lf=Zd;const of=te.forwardRef(({className:t,value:n,...r},a)=>e.jsx(sf,{ref:a,className:vn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:e.jsx(lf,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));of.displayName=sf.displayName;const cf=()=>{var t,n;const[r,a]=te.useState(null),[s,i]=te.useState({full_name:"",bio:"",location:"",website:"",occupation:"",company:"",education:"",interests:[],goals:[],phone:"",linkedin:"",twitter:"",github:""}),[l,o]=te.useState({total_tasks:0,completed_tasks:0,diary_entries:0,contacts:0,days_active:0,longest_streak:0,current_streak:0,rule_alignment:{rule_1:0,rule_2:0,rule_3:0}}),[c,u]=te.useState(!0),[d,f]=te.useState(!1),[m,p]=te.useState(!1),[h,g]=te.useState(!1),[x,v]=te.useState(""),[y,b]=te.useState(""),w=ne();te.useEffect(()=>{(async()=>{try{const{data:{user:e}}=await In.auth.getUser();e?(a(e),await Promise.all([N(e.id),j(e.id)])):w("/login")}catch(e){w("/login")}finally{u(!1)}})()},[w]);const N=async e=>{try{const{data:t,error:n}=await In.from("user_profiles").select("*").eq("user_id",e).single();if(n&&"PGRST116"!==n.code)return;t&&i({...t,interests:t.interests||[],goals:t.goals||[]})}catch(t){}},j=async e=>{try{const{data:t}=await In.from("tasks").select("*").eq("user_id",e),{data:n}=await In.from("diary_entries").select("*").eq("user_id",e),{data:r}=await In.from("contacts").select("*").eq("user_id",e),a=(null==t?void 0:t.length)||0,s=(null==t?void 0:t.filter(e=>"completed"===e.status).length)||0,i=(null==n?void 0:n.length)||0,l=(null==r?void 0:r.length)||0,c={rule_1:(null==t?void 0:t.filter(e=>1===e.rule_id).length)||0,rule_2:(null==t?void 0:t.filter(e=>2===e.rule_id).length)||0,rule_3:(null==t?void 0:t.filter(e=>3===e.rule_id).length)||0},u=new Set((null==n?void 0:n.map(e=>e.entry_date))||[]).size;o({total_tasks:a,completed_tasks:s,diary_entries:i,contacts:l,days_active:u,longest_streak:Math.min(u,30),current_streak:Math.min(u,7),rule_alignment:c})}catch(t){}},k=()=>{var e;x.trim()&&!(null==(e=s.interests)?void 0:e.includes(x.trim()))&&(i({...s,interests:[...s.interests||[],x.trim()]}),v(""))},S=()=>{var e;y.trim()&&!(null==(e=s.goals)?void 0:e.includes(y.trim()))&&(i({...s,goals:[...s.goals||[],y.trim()]}),b(""))},C=()=>l.total_tasks>0?Math.round(l.completed_tasks/l.total_tasks*100):0,_=e=>{const t=l.rule_alignment.rule_1+l.rule_alignment.rule_2+l.rule_alignment.rule_3;if(0===t)return 0;switch(e){case 1:return Math.round(l.rule_alignment.rule_1/t*100);case 2:return Math.round(l.rule_alignment.rule_2/t*100);case 3:return Math.round(l.rule_alignment.rule_3/t*100);default:return 0}};return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(rt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"Loading profile..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs(De.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(be,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"My Profile"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your personal information and track your progress"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:e.jsxs(Xn,{children:[e.jsxs(Zn,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Basic Information"]}),e.jsx(tr,{children:"Your personal details and contact information"})]}),e.jsxs(bn,{variant:m?"default":"outline",size:"sm",onClick:()=>p(!m),className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-4 w-4"}),m?"Cancel":"Edit"]})]}),e.jsxs(nr,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Gd,{className:"h-20 w-20",children:[e.jsx(qd,{src:s.avatar_url}),e.jsx(Hd,{className:"text-lg",children:(E=s.full_name,D=null==r?void 0:r.email,E?E.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):D?D.slice(0,2).toUpperCase():"U")})]}),m&&e.jsxs("label",{className:"absolute -bottom-2 -right-2 bg-primary hover:bg-primary/90 text-primary-foreground p-2 rounded-full cursor-pointer",children:[e.jsx(kt,{className:"h-4 w-4"}),e.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n&&r){g(!0);try{const e=n.name.split(".").pop(),t=`avatars/${`${r.id}.${e}`}`,{error:a}=await In.storage.from("avatars").upload(t,n,{upsert:!0});if(a)throw a;const{data:l}=In.storage.from("avatars").getPublicUrl(t);i({...s,avatar_url:l.publicUrl}),Ar({title:"Avatar Updated",description:"Your profile picture has been updated successfully."})}catch(a){Ar({title:"Upload Failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}finally{g(!1)}}},className:"hidden",disabled:h})]}),h&&e.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:e.jsx(rt,{className:"h-6 w-6 text-white animate-spin"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.full_name||"Your Name"}),e.jsx("p",{className:"text-muted-foreground",children:null==r?void 0:r.email}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_e,{className:"h-4 w-4"}),"Joined ",new Date(null==r?void 0:r.created_at).toLocaleDateString()]}),s.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ke,{className:"h-4 w-4"}),s.location]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"full_name",children:"Full Name"}),e.jsx(ur,{id:"full_name",value:s.full_name||"",onChange:e=>i({...s,full_name:e.target.value}),disabled:!m,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"email",children:"Email"}),e.jsx(ur,{id:"email",value:(null==r?void 0:r.email)||"",disabled:!0,className:"bg-muted"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"phone",children:"Phone"}),e.jsx(ur,{id:"phone",value:s.phone||"",onChange:e=>i({...s,phone:e.target.value}),disabled:!m,placeholder:"+1 (555) 123-4567"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"location",children:"Location"}),e.jsx(ur,{id:"location",value:s.location||"",onChange:e=>i({...s,location:e.target.value}),disabled:!m,placeholder:"City, Country"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"bio",children:"Bio"}),e.jsx(Un,{id:"bio",value:s.bio||"",onChange:e=>i({...s,bio:e.target.value}),disabled:!m,placeholder:"Tell us about yourself...",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"occupation",children:"Occupation"}),e.jsx(ur,{id:"occupation",value:s.occupation||"",onChange:e=>i({...s,occupation:e.target.value}),disabled:!m,placeholder:"Software Engineer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"company",children:"Company"}),e.jsx(ur,{id:"company",value:s.company||"",onChange:e=>i({...s,company:e.target.value}),disabled:!m,placeholder:"Acme Corp"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"education",children:"Education"}),e.jsx(ur,{id:"education",value:s.education||"",onChange:e=>i({...s,education:e.target.value}),disabled:!m,placeholder:"University of Example, Computer Science"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(cr,{children:"Social Links"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(St,{className:"h-4 w-4"}),e.jsx(cr,{htmlFor:"linkedin",children:"LinkedIn"})]}),e.jsx(ur,{id:"linkedin",value:s.linkedin||"",onChange:e=>i({...s,linkedin:e.target.value}),disabled:!m,placeholder:"linkedin.com/in/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"h-4 w-4"}),e.jsx(cr,{htmlFor:"twitter",children:"Twitter"})]}),e.jsx(ur,{id:"twitter",value:s.twitter||"",onChange:e=>i({...s,twitter:e.target.value}),disabled:!m,placeholder:"@username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsx(cr,{htmlFor:"github",children:"GitHub"})]}),e.jsx(ur,{id:"github",value:s.github||"",onChange:e=>i({...s,github:e.target.value}),disabled:!m,placeholder:"github.com/username"})]})]})]}),m&&e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(bn,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsxs(bn,{onClick:async()=>{if(r){f(!0);try{const{error:e}=await In.from("user_profiles").upsert({user_id:r.id,email:r.email,...s,updated_at:(new Date).toISOString()});if(e)throw e;p(!1),Ar({title:"Profile Updated",description:"Your profile has been saved successfully."})}catch(e){Ar({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}finally{f(!1)}}},disabled:d,className:"flex items-center gap-2",children:[d?e.jsx(rt,{className:"h-4 w-4 animate-spin"}):e.jsx(Nt,{className:"h-4 w-4"}),"Save Changes"]})]})]})]})}),e.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5"}),"Interests & Goals"]}),e.jsx(tr,{children:"Things you love and aspirations you're working towards"})]}),e.jsxs(nr,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(cr,{children:"Interests"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:null==(t=s.interests)?void 0:t.map((t,n)=>e.jsxs(sr,{variant:"secondary",className:"flex items-center gap-1",children:[t,m&&e.jsx("button",{onClick:()=>(e=>{var t;i({...s,interests:(null==(t=s.interests)?void 0:t.filter(t=>t!==e))||[]})})(t),className:"ml-1 hover:text-destructive",children:"×"})]},n))}),m&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ur,{value:x,onChange:e=>v(e.target.value),placeholder:"Add an interest",onKeyPress:e=>"Enter"===e.key&&k()}),e.jsx(bn,{onClick:k,size:"sm",children:"Add"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(cr,{children:"Goals"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:null==(n=s.goals)?void 0:n.map((t,n)=>e.jsxs(sr,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(Ve,{className:"h-3 w-3"}),t,m&&e.jsx("button",{onClick:()=>(e=>{var t;i({...s,goals:(null==(t=s.goals)?void 0:t.filter(t=>t!==e))||[]})})(t),className:"ml-1 hover:text-destructive",children:"×"})]},n))}),m&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ur,{value:y,onChange:e=>b(e.target.value),placeholder:"Add a goal",onKeyPress:e=>"Enter"===e.key&&S()}),e.jsx(bn,{onClick:S,size:"sm",children:"Add"})]})]})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:e.jsxs(Xn,{children:[e.jsx(Zn,{children:e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"Quick Stats"]})}),e.jsx(nr,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:l.total_tasks}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tasks"})]}),e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.completed_tasks}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"})]}),e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.diary_entries}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Diary Entries"})]}),e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:l.contacts}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Contacts"})]})]})})]})}),e.jsx(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:e.jsxs(Xn,{children:[e.jsx(Zn,{children:e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-5 w-5"}),"Progress Tracking"]})}),e.jsxs(nr,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Task Completion Rate"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[C(),"%"]})]}),e.jsx(of,{value:C(),className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Current Streak"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.current_streak," days"]})]}),e.jsx(of,{value:l.current_streak/30*100,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Days Active"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.days_active," days"]})]}),e.jsx(of,{value:l.days_active/100*100,className:"h-2"})]})]})]})}),e.jsx(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Life Rules Alignment"]}),e.jsx(tr,{children:"How your activities align with your core principles"})]}),e.jsx(nr,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Truth & Curiosity"})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[_(1),"%"]})]}),e.jsx(of,{value:_(1),className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(et,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Integrity"})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[_(2),"%"]})]}),e.jsx(of,{value:_(2),className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Dt,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Antifragile Growth"})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[_(3),"%"]})]}),e.jsx(of,{value:_(3),className:"h-2"})]})]})})]})}),e.jsx(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsxs(Xn,{children:[e.jsx(Zn,{children:e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5"}),"Achievements"]})}),e.jsx(nr,{children:e.jsxs("div",{className:"space-y-3",children:[l.completed_tasks>0&&e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted/50 rounded-lg",children:[e.jsx(qe,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"First Task Completed"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"You completed your first task!"})]})]}),l.diary_entries>0&&e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted/50 rounded-lg",children:[e.jsx(It,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Journal Keeper"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"You started journaling!"})]})]}),l.contacts>0&&e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted/50 rounded-lg",children:[e.jsx(Se,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Networker"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"You added your first contact!"})]})]}),0===l.completed_tasks&&0===l.diary_entries&&0===l.contacts&&e.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[e.jsx(gt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Start using Stage to unlock achievements!"})]})]})})]})})]})]})]})});var E,D},uf=xn("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),df=te.forwardRef(({className:t,variant:n,...r},a)=>e.jsx("div",{ref:a,role:"alert",className:vn(uf({variant:n}),t),...r}));df.displayName="Alert";te.forwardRef(({className:t,...n},r)=>e.jsx("h5",{ref:r,className:vn("mb-1 font-medium leading-none tracking-tight",t),...n})).displayName="AlertTitle";const ff=te.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:vn("text-sm [&_p]:leading-relaxed",t),...n}));ff.displayName="AlertDescription";const mf=async e=>{try{const{data:t,error:n}=await In.functions.invoke("send-email",{body:e});if(n)throw n;return{success:!0,data:t}}catch(t){throw t}},pf=()=>{var t;const[n,r]=te.useState(null),[a,s]=te.useState({notifications_enabled:!0,email_notifications:!0,push_notifications:!1,dark_mode:!1,language:"en",timezone:"UTC",auto_save:!0,data_retention_days:365}),[i,l]=te.useState("light"),[o,c]=te.useState(!0),[u,d]=te.useState(!1),[f,m]=te.useState(!1),[p,h]=te.useState(!1),[g,x]=te.useState(""),[v,y]=te.useState("profile"),[b,w]=te.useState(!1),[N,j]=te.useState(""),[k,S]=te.useState(""),[C,_]=te.useState(""),E=ne();te.useEffect(()=>{(async()=>{try{const{data:{user:e}}=await In.auth.getUser();e?(r(e),await D(e.id)):E("/login")}catch(e){E("/login")}finally{c(!1)}})()},[E]),te.useEffect(()=>{const e=()=>{const e=document.documentElement;if("system"===i){const t=window.matchMedia("(prefers-color-scheme: dark)").matches;e.classList.toggle("dark",t)}else e.classList.toggle("dark","dark"===i)};if(e(),"system"===i){const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>e();return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}},[i]);const D=async e=>{try{const{data:t,error:n}=await In.from("user_settings").select("*").eq("user_id",e).single();if(n&&"PGRST116"!==n.code)return;t&&(s(t),null===t.dark_mode||void 0===t.dark_mode?l("system"):l(t.dark_mode?"dark":"light"))}catch(t){}};return o?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(rt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"Loading settings..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs(De.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(we,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Settings"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account preferences and application settings"})]}),e.jsxs(_n,{value:v,onValueChange:y,className:"space-y-6",children:[e.jsxs(En,{className:"grid w-full grid-cols-4 lg:w-auto lg:grid-cols-4",children:[e.jsxs(Dn,{value:"profile",className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-4 w-4"}),"Profile"]}),e.jsxs(Dn,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"h-4 w-4"}),"Notifications"]}),e.jsxs(Dn,{value:"appearance",className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),"Appearance"]}),e.jsxs(Dn,{value:"data",className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Data & Privacy"]})]}),e.jsx(An,{value:"profile",className:"space-y-6",children:e.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Profile Information"]}),e.jsx(tr,{children:"Update your account details and personal information"})]}),e.jsxs(nr,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"email",children:"Email Address"}),e.jsx(ur,{id:"email",type:"email",value:(null==n?void 0:n.email)||"",disabled:!0,className:"bg-muted"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed. Contact support if needed."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"timezone",children:"Timezone"}),e.jsxs(dr,{value:a.timezone,onValueChange:e=>s({...a,timezone:e}),children:[e.jsx(mr,{children:e.jsx(fr,{placeholder:"Select timezone"})}),e.jsxs(gr,{children:[e.jsx(xr,{value:"UTC",children:"UTC"}),e.jsx(xr,{value:"America/New_York",children:"Eastern Time"}),e.jsx(xr,{value:"America/Chicago",children:"Central Time"}),e.jsx(xr,{value:"America/Denver",children:"Mountain Time"}),e.jsx(xr,{value:"America/Los_Angeles",children:"Pacific Time"}),e.jsx(xr,{value:"Europe/London",children:"London"}),e.jsx(xr,{value:"Europe/Paris",children:"Paris"}),e.jsx(xr,{value:"Asia/Tokyo",children:"Tokyo"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"language",children:"Language"}),e.jsxs(dr,{value:a.language,onValueChange:e=>s({...a,language:e}),children:[e.jsx(mr,{className:"w-full md:w-64",children:e.jsx(fr,{placeholder:"Select language"})}),e.jsxs(gr,{children:[e.jsx(xr,{value:"en",children:"English"}),e.jsx(xr,{value:"es",children:"Español"}),e.jsx(xr,{value:"fr",children:"Français"}),e.jsx(xr,{value:"de",children:"Deutsch"}),e.jsx(xr,{value:"it",children:"Italiano"}),e.jsx(xr,{value:"pt",children:"Português"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(cr,{children:"Auto-save"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically save changes as you work"})]}),e.jsx(Yr,{checked:a.auto_save,onCheckedChange:e=>s({...a,auto_save:e})})]})]})]})})}),e.jsx(An,{value:"notifications",className:"space-y-6",children:e.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"h-5 w-5"}),"Notification Preferences"]}),e.jsx(tr,{children:"Choose how you want to be notified about activities and updates"})]}),e.jsxs(nr,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(cr,{children:"Enable Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Master toggle for all notifications"})]}),e.jsx(Yr,{checked:a.notifications_enabled,onCheckedChange:e=>s({...a,notifications_enabled:e})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5 flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsxs("div",{children:[e.jsx(cr,{children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]})]}),e.jsx(Yr,{checked:a.email_notifications,onCheckedChange:e=>s({...a,email_notifications:e}),disabled:!a.notifications_enabled})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5 flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),e.jsxs("div",{children:[e.jsx(cr,{children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive push notifications in your browser"})]})]}),e.jsx(Yr,{checked:a.push_notifications,onCheckedChange:e=>s({...a,push_notifications:e}),disabled:!a.notifications_enabled})]}),e.jsxs(df,{children:[e.jsx(Lt,{className:"h-4 w-4"}),e.jsx(ff,{children:"Some notification settings may require browser permissions. You'll be prompted when needed."})]})]})]})})}),e.jsx(An,{value:"appearance",className:"space-y-6",children:e.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5"}),"Appearance & Theme"]}),e.jsx(tr,{children:"Customize the look and feel of your application"})]}),e.jsxs(nr,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(cr,{children:"Theme Preference"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs(bn,{variant:"light"===i?"default":"outline",className:"flex items-center gap-2 h-auto p-4",onClick:()=>l("light"),children:[e.jsx(Mt,{className:"h-4 w-4"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Light"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Clean and bright"})]})]}),e.jsxs(bn,{variant:"dark"===i?"default":"outline",className:"flex items-center gap-2 h-auto p-4",onClick:()=>l("dark"),children:[e.jsx(Ft,{className:"h-4 w-4"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Dark"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Easy on the eyes"})]})]}),e.jsxs(bn,{variant:"system"===i?"default":"outline",className:"flex items-center gap-2 h-auto p-4",onClick:()=>l("system"),children:[e.jsx(zt,{className:"h-4 w-4"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"System"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Follow OS setting"})]})]})]})]}),e.jsxs(df,{children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsxs(ff,{children:["Theme changes are applied immediately. Current theme: ",e.jsx("strong",{children:i}),"system"===i&&e.jsxs("span",{className:"text-xs block mt-1",children:["Following system preference: ",window.matchMedia("(prefers-color-scheme: dark)").matches?"Dark":"Light"]})]})]})]})]})})}),e.jsx(An,{value:"data",className:"space-y-6",children:e.jsxs(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-5 w-5"}),"Data Management"]}),e.jsx(tr,{children:"Export, backup, or manage your personal data"})]}),e.jsxs(nr,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(cr,{children:"Data Retention"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep your data (days)"})]}),e.jsxs(dr,{value:null==(t=a.data_retention_days)?void 0:t.toString(),onValueChange:e=>s({...a,data_retention_days:parseInt(e)}),children:[e.jsx(mr,{className:"w-32",children:e.jsx(fr,{})}),e.jsxs(gr,{children:[e.jsx(xr,{value:"30",children:"30 days"}),e.jsx(xr,{value:"90",children:"90 days"}),e.jsx(xr,{value:"365",children:"1 year"}),e.jsx(xr,{value:"1095",children:"3 years"}),e.jsx(xr,{value:"-1",children:"Forever"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(bn,{onClick:async()=>{if(n){m(!0);try{const{data:e}=await In.from("contacts").select("*").eq("user_id",n.id),{data:t}=await In.from("tasks").select("*").eq("user_id",n.id),{data:r}=await In.from("diary_entries").select("*").eq("user_id",n.id),s={user:{id:n.id,email:n.email,created_at:n.created_at},contacts:e||[],tasks:t||[],diary_entries:r||[],settings:a,exported_at:(new Date).toISOString()},i=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),l=URL.createObjectURL(i),o=document.createElement("a");o.href=l,o.download=`stage_data_export_${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l),Ar({title:"Data Exported",description:"Your data has been exported successfully."})}catch(e){Ar({title:"Export Failed",description:"Failed to export data. Please try again.",variant:"destructive"})}finally{m(!1)}}},disabled:f,className:"flex items-center gap-2",children:[f?e.jsx(rt,{className:"h-4 w-4 animate-spin"}):e.jsx(ut,{className:"h-4 w-4"}),"Export My Data"]}),"                  ",e.jsxs(bn,{variant:"outline",className:"flex items-center gap-2",disabled:!0,children:[e.jsx(ct,{className:"h-4 w-4"}),"Import Data",e.jsx(sr,{variant:"secondary",className:"ml-2",children:"Soon"})]})]})]})]}),e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-5 w-5"}),"Security"]}),e.jsx(tr,{children:"Change your password and manage account security"})]}),e.jsx(nr,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"current-password",children:"Current Password"}),e.jsx(ur,{id:"current-password",type:"password",value:N,onChange:e=>j(e.target.value),placeholder:"Enter your current password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"new-password",children:"New Password"}),e.jsx(ur,{id:"new-password",type:"password",value:k,onChange:e=>S(e.target.value),placeholder:"Enter new password (min. 6 characters)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),e.jsx(ur,{id:"confirm-new-password",type:"password",value:C,onChange:e=>_(e.target.value),placeholder:"Re-enter new password"})]}),e.jsxs(bn,{onClick:async()=>{if(n&&N&&k)if(k===C)if(k.length<6)Ar({title:"Error",description:"Password must be at least 6 characters long.",variant:"destructive"});else{w(!0);try{const{error:e}=await In.auth.signInWithPassword({email:n.email,password:N});if(e)throw new Error("Current password is incorrect.");const{error:t}=await In.auth.updateUser({password:k});if(t)throw t;j(""),S(""),_(""),Ar({title:"Password Changed",description:"Your password has been updated successfully."})}catch(e){Ar({title:"Password Change Failed",description:e.message||"Failed to change password. Please try again.",variant:"destructive"})}finally{w(!1)}}else Ar({title:"Error",description:"New passwords do not match.",variant:"destructive"})},disabled:b||!N||!k||!C,className:"flex items-center gap-2",children:[b?e.jsx(rt,{className:"h-4 w-4 animate-spin"}):e.jsx(Bt,{className:"h-4 w-4"}),"Change Password"]})]})})]}),"              ",e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(et,{className:"h-5 w-5"}),"Privacy & Data Protection"]}),e.jsx(tr,{children:"Your privacy settings and data protection preferences"})]}),e.jsx(nr,{className:"space-y-4",children:e.jsxs(df,{children:[e.jsx(et,{className:"h-4 w-4"}),e.jsx(ff,{children:"Your data is encrypted and stored securely. We never share your personal information with third parties."})]})})]}),e.jsxs(Xn,{className:"border-destructive",children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2 text-destructive",children:[e.jsx(Lt,{className:"h-5 w-5"}),"Danger Zone"]}),e.jsx(tr,{children:"Irreversible and destructive actions"})]}),e.jsxs(nr,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"confirm-delete",children:'Type "DELETE" to confirm account deletion'}),e.jsx(ur,{id:"confirm-delete",value:g,onChange:e=>x(e.target.value),placeholder:"Type DELETE here",className:"max-w-xs"})]}),e.jsxs(bn,{variant:"destructive",onClick:async()=>{var e,t,r,a,s,i;if(n&&"DELETE"===g){h(!0);try{const[c,u,d,f,m]=await Promise.all([In.from("contacts").select("*").eq("user_id",n.id),In.from("tasks").select("*").eq("user_id",n.id),In.from("diary_entries").select("*").eq("user_id",n.id),In.from("user_settings").select("*").eq("user_id",n.id),In.from("user_profiles").select("*").eq("user_id",n.id)]),p={deletion_timestamp:(new Date).toISOString(),user_info:{id:n.id,email:n.email,created_at:n.created_at,deleted_at:(new Date).toISOString()},profile:m.data||[],settings:f.data||[],contacts:c.data||[],tasks:u.data||[],diary_entries:d.data||[],summary:{total_contacts:(null==(e=c.data)?void 0:e.length)||0,total_tasks:(null==(t=u.data)?void 0:t.length)||0,completed_tasks:(null==(r=u.data)?void 0:r.filter(e=>"completed"===e.status).length)||0,total_diary_entries:(null==(a=d.data)?void 0:a.length)||0,account_age_days:Math.floor(((new Date).getTime()-new Date(n.created_at).getTime())/864e5)}};try{const e={diary:(null==(s=d.data)?void 0:s.slice(-3))||[],tasks:(null==(i=u.data)?void 0:i.slice(-5))||[]};await(async(e,t,n)=>{const r=`\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset="utf-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <title>Your Account Data Backup</title>\n      <style>\n        body { \n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; \n          line-height: 1.6; \n          color: #333; \n          max-width: 600px; \n          margin: 0 auto; \n          padding: 20px; \n        }\n        .header { \n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); \n          color: white; \n          padding: 30px 20px; \n          border-radius: 10px; \n          text-align: center; \n          margin-bottom: 30px; \n        }\n        .content { \n          background: #f8f9fa; \n          padding: 30px; \n          border-radius: 10px; \n          margin-bottom: 20px; \n        }\n        .stats { \n          background: white; \n          padding: 20px; \n          border-radius: 8px; \n          margin: 20px 0; \n          border-left: 4px solid #667eea; \n        }\n        .stat-item { \n          display: flex; \n          justify-content: space-between; \n          margin: 10px 0; \n          padding: 8px 0; \n          border-bottom: 1px solid #eee; \n        }\n        .restore-steps { \n          background: #e8f5e8; \n          padding: 20px; \n          border-radius: 8px; \n          margin: 20px 0; \n        }\n        .restore-steps ol { \n          margin: 10px 0; \n          padding-left: 20px; \n        }\n        .restore-steps li { \n          margin: 8px 0; \n        }\n        .footer { \n          text-align: center; \n          color: #666; \n          font-size: 14px; \n          margin-top: 30px; \n          padding-top: 20px; \n          border-top: 1px solid #eee; \n        }\n      </style>\n    </head>\n    <body>\n      <div class="header">\n        <h1>👋 Your Account Data is Safe!</h1>\n        <p>Complete backup ready for your potential return</p>\n      </div>\n\n      <div class="content">\n        <p>Hi there! 👋</p>\n        \n        <p>If you're reading this email, it means your <strong>LifePilot</strong> account has been successfully deleted as requested.</p>\n\n        <div class="stats">\n          <h3>🛡️ Your Data Backup Summary</h3>\n          <div class="stat-item">\n            <span>📝 Diary Entries:</span>\n            <strong>${n.total_diary_entries} entries</strong>\n          </div>\n          <div class="stat-item">\n            <span>✅ Tasks:</span>\n            <strong>${n.total_tasks} tasks (${n.completed_tasks} completed)</strong>\n          </div>\n          <div class="stat-item">\n            <span>👥 Contacts:</span>\n            <strong>${n.total_contacts} contacts</strong>\n          </div>\n          <div class="stat-item">\n            <span>⏰ Account Age:</span>\n            <strong>${n.account_age_days} days</strong>\n          </div>\n        </div>\n\n        <div class="restore-steps">\n          <h3>🚀 Want to Come Back?</h3>\n          <p>Life changes, and so do minds! If you ever decide to return to LifePilot:</p>\n          <ol>\n            <li>Create a new account at <a href="https://mylifecode.vercel.app">mylifecode.vercel.app</a></li>\n            <li>Go to <strong>Settings → Data & Privacy → Import Data</strong></li>\n            <li>Upload your backup file (attached to this email)</li>\n            <li>Everything will be restored exactly as you left it!</li>\n          </ol>\n        </div>\n\n        <p><strong>📁 Your Backup File:</strong><br>\n        File name: <code>stage_data_backup_${e}_${(new Date).toISOString().split("T")[0]}.json</code><br>\n        This file contains ALL your data in a secure, readable format.</p>\n\n        <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ffc107;">\n          <p><strong>💝 Thank You</strong></p>\n          <p>Thank you for being part of our community. While we're sad to see you go, we respect your decision and hope our paths cross again someday.</p>\n          <p><strong>Stay awesome!</strong><br>The LifePilot Team</p>\n        </div>\n      </div>\n\n      <div class="footer">\n        <p>This is an automated message. Your account and all associated data have been permanently deleted from our servers.</p>\n        <p>If you have any questions, you can reach us at support@mylifecode.app</p>\n      </div>\n    </body>\n    </html>\n  `,a=`Hi there!\n\nIf you're reading this email, it means your LifePilot account has been successfully deleted as requested.\n\nYour Data Backup Summary:\n- Diary Entries: ${n.total_diary_entries} entries\n- Tasks: ${n.total_tasks} tasks (${n.completed_tasks} completed)\n- Contacts: ${n.total_contacts} contacts  \n- Account Age: ${n.account_age_days} days\n\nWant to Come Back?\nLife changes, and so do minds! If you ever decide to return to LifePilot:\n\n1. Create a new account at https://mylifecode.vercel.app\n2. Go to Settings → Data & Privacy → Import Data\n3. Upload your backup file (attached to this email)\n4. Everything will be restored exactly as you left it!\n\nYour Backup File:\nFile name: stage_data_backup_${e}_${(new Date).toISOString().split("T")[0]}.json\nThis file contains ALL your data in a secure, readable format.\n\nThank You\nThank you for being part of our community. While we're sad to see you go, we respect your decision and hope our paths cross again someday.\n\nStay awesome!\nThe LifePilot Team\n\n---\nThis is an automated message. Your account and all associated data have been permanently deleted from our servers.`,s=JSON.stringify(t,null,2);try{return await mf({to:e,subject:"🔐 Your LifePilot Account Data Backup - Safe & Ready for Return",html:r,text:a,attachments:[{filename:`stage_data_backup_${e}_${(new Date).toISOString().split("T")[0]}.json`,content:btoa(unescape(encodeURIComponent(s))),contentType:"application/json"}]}),{success:!0}}catch(i){throw i}})(n.email,p,p.summary),await(async(e,t,n,r)=>{var a,s,i,l;const o=`\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset="utf-8">\n      <style>\n        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n        .header { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px; }\n        .stats { background: #e9ecef; padding: 15px; border-radius: 6px; margin: 15px 0; }\n        .activity { background: #fff3cd; padding: 15px; border-radius: 6px; margin: 15px 0; }\n      </style>\n    </head>\n    <body>\n      <div class="header">\n        <h2>🗂️ Account Deletion Notification</h2>\n        <p><strong>User:</strong> ${e}</p>\n        <p><strong>User ID:</strong> ${t}</p>\n        <p><strong>Deletion Date:</strong> ${(new Date).toLocaleString()}</p>\n      </div>\n\n      <div class="stats">\n        <h3>📊 Account Summary</h3>\n        <ul>\n          <li>Account Age: ${n.account_age_days} days</li>\n          <li>Total Contacts: ${n.total_contacts}</li>\n          <li>Total Tasks: ${n.total_tasks}</li>\n          <li>Completed Tasks: ${n.completed_tasks}</li>\n          <li>Diary Entries: ${n.total_diary_entries}</li>\n        </ul>\n      </div>\n\n      <div class="activity">\n        <h3>📋 Recent Activity Summary</h3>\n        <p>User has been sent their data backup via email for potential future restoration.</p>\n        <p><strong>Recent Diary Entries:</strong></p>\n        <ul>\n          ${(null==(a=r.diary)?void 0:a.map(e=>{var t;return`<li>Diary (${e.entry_date}): ${null==(t=e.content)?void 0:t.substring(0,100)}...</li>`}).join(""))||"<li>No recent diary entries</li>"}\n        </ul>\n        <p><strong>Recent Tasks:</strong></p>\n        <ul>\n          ${(null==(s=r.tasks)?void 0:s.map(e=>`<li>Task: ${e.title} (${e.status})</li>`).join(""))||"<li>No recent tasks</li>"}\n        </ul>\n      </div>\n    </body>\n    </html>\n  `,c=`Account Deletion Notification\n\nUser: ${e}\nUser ID: ${t}\nDeletion Date: ${(new Date).toLocaleString()}\n\nAccount Summary:\n- Account Age: ${n.account_age_days} days\n- Total Contacts: ${n.total_contacts}\n- Total Tasks: ${n.total_tasks}\n- Completed Tasks: ${n.completed_tasks}\n- Diary Entries: ${n.total_diary_entries}\n\nUser has been sent their data backup via email for potential future restoration.\n\nRecent Activity Summary:\n${(null==(i=r.diary)?void 0:i.map(e=>{var t;return`- Diary (${e.entry_date}): ${null==(t=e.content)?void 0:t.substring(0,100)}...`}).join("\n"))||"No recent diary entries"}\n\n${(null==(l=r.tasks)?void 0:l.map(e=>`- Task: ${e.title} (${e.status})`).join("\n"))||"No recent tasks"}`;try{return await mf({to:"code.ritesh+MyCodeLife@gmail.com",subject:"🗂️ Stage App - Account Deletion Notification",html:o,text:c}),{success:!0}}catch(u){throw u}})(n.email,n.id,p.summary,e),Ar({title:"Data Backup Sent",description:"Your complete data backup has been sent to your email address."})}catch(l){Ar({title:"Email Error",description:"Failed to send data backup email. Please try again or contact support.",variant:"destructive"})}try{await(async(e,t)=>{try{const{data:{session:n}}=await In.auth.getSession();if(!n)throw new Error("No active session");const r="https://tjpaxrhqikqlhhvbzzyw.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRqcGF4cmhxaWtxbGhodmJ6enl3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1ODczMDMsImV4cCI6MjA2MzE2MzMwM30.MfNDGS-GnfQq6nVMZ_cCsOqMiQHRgYdtOU7oteGastI",s=await fetch(`${r}/functions/v1/delete-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,apikey:a},body:JSON.stringify({userId:e,userEmail:t})});if(!s.ok){const e=await s.json().catch(()=>({}));throw new Error(e.error||`HTTP error! status: ${s.status}`)}return await s.json()}catch(n){throw n}})(n.id,n.email),Ar({title:"Account Deleted Successfully",description:"Your account has been permanently deleted and backup sent to your email."})}catch(o){const{error:e}=await In.auth.signOut();Ar({title:"Account Data Cleared",description:"Your data has been deleted, but account deletion failed. Please contact support to complete the process.",variant:"destructive"})}localStorage.clear(),sessionStorage.clear(),E("/login")}catch(c){Ar({title:"Deletion Failed",description:"Failed to delete account. Please contact support.",variant:"destructive"})}finally{h(!1)}}},disabled:"DELETE"!==g||p,className:"flex items-center gap-2",children:[p?e.jsx(rt,{className:"h-4 w-4 animate-spin"}):e.jsx(nt,{className:"h-4 w-4"}),"Delete Account Permanently"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This will permanently delete your account and all associated data. This action cannot be undone."})]})]})]})})]}),e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"sticky bottom-4 flex justify-center",children:e.jsxs(bn,{size:"lg",onClick:async()=>{if(n){d(!0);try{const e={...a,dark_mode:"system"===i?null:"dark"===i},{error:t}=await In.from("user_settings").upsert({user_id:n.id,email:n.email,...e,updated_at:(new Date).toISOString()});if(t)throw t;s(e),Ar({title:"Settings Saved",description:"Your settings have been updated successfully."})}catch(e){Ar({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{d(!1)}}},disabled:u,className:"flex items-center gap-2 shadow-lg",children:[u?e.jsx(rt,{className:"h-4 w-4 animate-spin"}):e.jsx(Nt,{className:"h-4 w-4"}),"Save Settings"]})})]})})};async function hf(e){try{const{data:t,error:n}=await In.from("family_members").select("*").eq("id",e).single();return n?null:t}catch(t){return null}}async function gf(e,t,n){try{const r=await hf(e),{error:a}=await In.from("family_member_status").upsert({family_member_id:e,status:t,status_message:n,updated_at:(new Date).toISOString()});return!a&&(r&&await(async(e,t,n)=>{try{const r=`📱 ${e} updated their status`,a="available"===t?"🟢":"busy"===t?"🟡":"🔴",s=`\n      <h2>📱 Status Update</h2>\n      <p>${e} is now ${a} <strong>${t.replace("_"," ")}</strong></p>\n      ${n?`<p><strong>Message:</strong> "${n}"</p>`:""}\n    `,i=`Status Update: ${e} is now ${a} ${t.replace("_"," ")}${n?`: "${n}"`:""}`;return await mf({to:"code.ritesh+MyCodeLife@gmail.com",subject:r,html:s,text:i}),!0}catch(a){return!1}})(r.name,t,n),!0)}catch(r){return!1}}async function xf(e,t,n){try{const r="your-user-id-here",a=await hf(e),{error:s}=await In.from("call_requests").insert({from_family_member_id:e,to_user_id:r,requested_time:t.toISOString(),message:n,status:"pending"});return!s&&(a&&await(async(e,t,n,r)=>{try{const a=t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),s=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),i=`📞 Call Request from ${e}`,l=`\n      <h2>📞 New Call Request</h2>\n      <p><strong>${e}</strong>${r?` (your ${r})`:""} would like to schedule a call with you.</p>\n      <p><strong>📅 Date:</strong> ${a}</p>\n      <p><strong>⏰ Time:</strong> ${s}</p>\n      ${n?`<p><strong>💬 Message:</strong> "${n}"</p>`:""}\n    `,o=`Call Request from ${e}\n\n${e}${r?` (your ${r})`:""} would like to schedule a call with you.\n\nDate: ${a}\nTime: ${s}\n${n?`Message: "${n}"`:""}\n\nPlease respond to let them know if you can take the call.`;return await mf({to:"code.ritesh+MyCodeLife@gmail.com",subject:i,html:l,text:o}),!0}catch(s){return!1}})(a.name,t,n,a.relationship),!0)}catch(r){return!1}}const vf=()=>{const[t,n]=te.useState(""),[r,a]=te.useState(""),[s,i]=te.useState(null),[l,o]=te.useState(!1),c=ne();te.useEffect(()=>{localStorage.getItem("familyMember")&&c("/ritesh/profile")},[c]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 flex items-center justify-center p-3 sm:p-4 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-sm sm:max-w-md mx-auto my-4 sm:my-8",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("div",{className:"relative mx-auto w-20 h-20 sm:w-24 sm:h-24 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-400 to-blue-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-2xl sm:text-3xl font-bold",children:"R"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 sm:-bottom-2 sm:-right-2 w-6 h-6 sm:w-8 sm:h-8 bg-green-500 rounded-full border-2 sm:border-4 border-white flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"👋"})})]}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 px-2",children:"Ritesh's Family Portal"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 px-2",children:"Connect, chat, and stay in touch"})]}),e.jsxs(Xn,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm mx-2 sm:mx-0",children:[e.jsxs(Zn,{className:"text-center pb-3 px-4 sm:px-6 pt-4 sm:pt-6",children:[e.jsx(er,{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Welcome Back!"}),e.jsx(tr,{className:"text-sm sm:text-base text-gray-600",children:"Sign in to your family account"})]}),e.jsxs(nr,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(null),o(!0);try{const e=await async function(e,t){try{const{data:n,error:r}=await In.from("family_members").select("*").eq("username",e).eq("is_active",!0).single();if(r)return null;const a=`hashed_${t}`;return n.password_hash===a||"family123"===t?(await In.from("family_members").update({last_login:(new Date).toISOString()}).eq("id",n.id),n):null}catch(s){return null}}(t,r);e?(localStorage.setItem("familyMember",JSON.stringify(e)),c("/ritesh/profile")):i("Invalid username or password. Please try again.")}catch(n){i("An error occurred during login. Please try again.")}finally{o(!1)}},className:"space-y-4",children:[s&&e.jsx(df,{className:"border-red-200 bg-red-50",children:e.jsx(ff,{className:"text-red-700 text-sm",children:s})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),e.jsx(ur,{id:"username",type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"Enter your username",required:!0,disabled:l,className:"h-11 sm:h-12 text-base border-2 focus:border-purple-400 focus:ring-purple-200 transition-all duration-200"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),e.jsx(ur,{id:"password",type:"password",value:r,onChange:e=>a(e.target.value),placeholder:"Enter your password",required:!0,disabled:l,className:"h-11 sm:h-12 text-base border-2 focus:border-purple-400 focus:ring-purple-200 transition-all duration-200"})]}),e.jsx(bn,{type:"submit",className:"w-full h-12 sm:h-13 text-base font-medium bg-gradient-to-r from-purple-500 to-blue-600 hover:from-purple-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg",disabled:l,children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"🚀"}),"Sign In"]})}),"            "]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Invited to join the family?"," ",e.jsx("a",{href:"/family/register",className:"font-medium text-green-600 hover:text-green-500",children:"Create your family profile"})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-100",children:[e.jsxs("p",{className:"text-sm text-gray-700 mb-3 font-medium flex items-center gap-2",children:[e.jsx("span",{children:"🎯"}),"Demo Accounts:"]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-2 bg-white rounded border hover:bg-gray-50 transition-colors",children:[e.jsx("span",{className:"font-medium",children:"👧 Sister (Priya)"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 mt-1 sm:mt-0",children:[e.jsx("code",{className:"bg-purple-100 px-2 py-1 rounded text-purple-700 text-xs",children:"sister123"}),e.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded text-blue-700 text-xs",children:"family123"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-2 bg-white rounded border hover:bg-gray-50 transition-colors",children:[e.jsx("span",{className:"font-medium",children:"👦 Brother (Arjun)"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 mt-1 sm:mt-0",children:[e.jsx("code",{className:"bg-purple-100 px-2 py-1 rounded text-purple-700 text-xs",children:"bro_cool"}),e.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded text-blue-700 text-xs",children:"family123"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-2 bg-white rounded border hover:bg-gray-50 transition-colors",children:[e.jsx("span",{className:"font-medium",children:"👩 Cousin (Samira)"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 mt-1 sm:mt-0",children:[e.jsx("code",{className:"bg-purple-100 px-2 py-1 rounded text-purple-700 text-xs",children:"cousin_sam"}),e.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded text-blue-700 text-xs",children:"family123"})]})]})]})]})]})]}),e.jsx("div",{className:"text-center mt-6 px-4",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Made with 💜 for family connections"})})]})})},yf=()=>{const[t,n]=te.useState(null),[r,a]=te.useState(null),[s,i]=te.useState({status:"available"}),[l,o]=te.useState([]),[c,u]=te.useState(!1),[d,f]=te.useState(""),[m,p]=te.useState(""),h=ne();te.useEffect(()=>{const e=localStorage.getItem("familyMember");if(!e)return void h("/ritesh");const t=JSON.parse(e);n(t),g(t.id),x(),v(t.id)},[h]);const g=async e=>{const t=await async function(e){try{const{data:t,error:n}=await In.from("family_member_status").select("*").eq("family_member_id",e).single();return n?null:t}catch(t){return null}}(e);a(t)},x=async()=>{const e=await async function(){const e=(new Date).getHours();return e>=9&&e<=17?{status:"busy",message:"Working hours - might be busy"}:e>=22||e<=6?{status:"do_not_disturb",message:"Sleeping time"}:{status:"available",message:"Available for calls"}}();i(e)},v=async e=>{const t=await async function(e){try{const{data:t,error:n}=await In.from("call_requests").select("*").eq("from_family_member_id",e).order("created_at",{ascending:!1});return n?[]:t||[]}catch(t){return[]}}(e);o(t)},y=e=>{switch(e){case"available":return"bg-green-500";case"busy":return"bg-yellow-500";case"do_not_disturb":return"bg-red-500";default:return"bg-gray-500"}};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 p-2 sm:p-4 overflow-auto",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-4 sm:space-y-6 pb-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center bg-white/80 backdrop-blur-sm rounded-xl p-4 sm:p-6 shadow-lg space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-400 to-blue-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold",children:t.name.charAt(0)})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 sm:w-5 sm:h-5 rounded-full border-2 sm:border-3 border-white ${y((null==r?void 0:r.status)||"available")}`})]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:["Welcome back, ",t.name,"! 👋"]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 capitalize",children:["Family member • ",t.relationship]})]})]}),e.jsxs(bn,{variant:"outline",onClick:()=>{localStorage.removeItem("familyMember"),h("/ritesh")},className:"flex items-center gap-2 hover:bg-red-50 hover:border-red-200 hover:text-red-600 transition-all text-sm sm:text-base self-start sm:self-auto",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Sign Out"]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs(Xn,{className:"lg:col-span-2 bg-white/80 backdrop-blur-sm shadow-lg border-0",children:[e.jsx(Zn,{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-t-lg p-4 sm:p-6",children:e.jsxs(er,{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Gd,{className:"w-12 h-12 sm:w-16 sm:h-16 ring-3 sm:ring-4 ring-white shadow-lg",children:t.profile_picture_url?e.jsx("img",{src:t.profile_picture_url,alt:t.name,className:"w-full h-full object-cover rounded-full"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center text-white font-bold text-lg sm:text-xl rounded-full",children:t.name.charAt(0)})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 sm:w-5 sm:h-5 rounded-full border-2 sm:border-3 border-white ${y((null==r?void 0:r.status)||"available")}`})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 capitalize flex items-center gap-2",children:[e.jsx(vt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-400"}),t.relationship," in the family"]})]})]})}),e.jsxs(nr,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-purple-50 p-3 sm:p-4 rounded-lg border border-purple-100",children:[e.jsxs(cr,{className:"text-xs sm:text-sm font-medium text-purple-600 flex items-center gap-2",children:[e.jsx(ke,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Grade"]}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-purple-900",children:t.grade||"Not specified"})]}),e.jsxs("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg border border-blue-100",children:[e.jsxs(cr,{className:"text-xs sm:text-sm font-medium text-blue-600 flex items-center gap-2",children:[e.jsx(_e,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Age"]}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-blue-900",children:[t.age||"Not specified"," years"]})]}),e.jsxs("div",{className:"bg-green-50 p-3 sm:p-4 rounded-lg border border-green-100 sm:col-span-2 lg:col-span-1",children:[e.jsxs(cr,{className:"text-xs sm:text-sm font-medium text-green-600 flex items-center gap-2",children:[e.jsx(we,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Your Status"]}),e.jsxs(dr,{value:(null==r?void 0:r.status)||"available",onValueChange:async e=>{if(!t)return;await gf(t.id,e)&&(g(t.id),Ar({title:"Status Updated",description:"Your status has been updated successfully."}))},children:[e.jsx(mr,{className:"w-full mt-2 bg-white border-green-200 text-sm",children:e.jsx(fr,{})}),e.jsxs(gr,{children:[e.jsx(xr,{value:"available",children:"🟢 Available"}),e.jsx(xr,{value:"busy",children:"🟡 Busy"}),e.jsx(xr,{value:"do_not_disturb",children:"🔴 Do Not Disturb"})]})]})]})]}),t.school&&e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border",children:[e.jsxs(cr,{className:"text-xs sm:text-sm font-medium text-gray-600 flex items-center gap-2",children:[e.jsx(ke,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"School"]}),e.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-900 mt-1",children:t.school})]}),t.bio&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-3 sm:p-4 rounded-lg border border-purple-100",children:[e.jsxs(cr,{className:"text-xs sm:text-sm font-medium text-gray-600 flex items-center gap-2",children:[e.jsx(Ut,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"About Me"]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-700 mt-2 leading-relaxed",children:t.bio})]}),t.hobbies&&t.hobbies.length>0&&e.jsxs("div",{children:[e.jsxs(cr,{className:"text-xs sm:text-sm font-medium text-gray-600 flex items-center gap-2 mb-2 sm:mb-3",children:[e.jsx(Ot,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"My Hobbies & Interests"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.hobbies.map((t,n)=>e.jsxs(sr,{variant:"secondary",className:"flex items-center gap-1 bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 border border-purple-200 px-2 sm:px-3 py-1 text-xs sm:text-sm",children:[e.jsx(vt,{className:"w-2 h-2 sm:w-3 sm:h-3"}),t]},`${t}-${n}`))})]})]})]}),"          ",e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs(Xn,{className:"bg-white/80 backdrop-blur-sm shadow-lg border-0",children:[e.jsx(Zn,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-lg p-3 sm:p-4",children:e.jsxs(er,{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Gd,{className:"w-10 h-10 sm:w-12 sm:h-12 ring-2 sm:ring-3 ring-white shadow-lg",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center text-white font-bold text-sm sm:text-base rounded-full",children:"R"})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 rounded-full border-2 border-white ${y(s.status)}`})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm sm:text-base font-bold text-gray-900",children:"Ritesh"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Your brother"})]})]})}),e.jsx(nr,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[e.jsx(sr,{className:`${y(s.status)} text-white px-2 sm:px-3 py-1 text-xs`,children:(e=>{switch(e){case"available":return"Available";case"busy":return"Busy";case"do_not_disturb":return"Do Not Disturb";default:return"Unknown"}})(s.status)}),e.jsxs("div",{className:"text-xs text-gray-600",children:["available"===s.status&&e.jsx("span",{className:"text-green-600",children:"✓ Ready to chat!"}),"busy"===s.status&&e.jsx("span",{className:"text-yellow-600",children:"⏰ May respond later"}),"do_not_disturb"===s.status&&e.jsx("span",{className:"text-red-600",children:"🔕 Please don't disturb"})]})]}),s.message&&e.jsx("div",{className:"bg-gray-50 p-2 sm:p-3 rounded-lg border",children:e.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 italic",children:['"',s.message,'"']})})]})})]}),e.jsxs(Xn,{className:"bg-white/80 backdrop-blur-sm shadow-lg border-0",children:[e.jsx(Zn,{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-t-lg p-3 sm:p-4",children:e.jsxs(er,{className:"flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(mt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}),"Quick Actions"]})}),e.jsxs(nr,{className:"p-3 sm:p-4 space-y-2 sm:space-y-3",children:[e.jsxs(Tn,{open:c,onOpenChange:u,children:[e.jsx(On,{asChild:!0,children:e.jsxs(bn,{className:"w-full flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 transition-all duration-200 text-xs sm:text-sm h-8 sm:h-10",disabled:"do_not_disturb"===s.status,children:[e.jsx(mt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"do_not_disturb"===s.status?"Ritesh is unavailable":"Schedule Call"]})}),e.jsxs(Ln,{className:"max-w-sm sm:max-w-md mx-2",children:[e.jsxs(Mn,{children:[e.jsxs(zn,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(mt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}),"Schedule a Call with Ritesh"]}),e.jsx(Bn,{className:"text-xs sm:text-sm",children:"Choose a time and add a message for your call request. Ritesh will get notified instantly!"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsxs(cr,{htmlFor:"datetime",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(_e,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Preferred Date & Time"]}),e.jsx(ur,{id:"datetime",type:"datetime-local",value:m,onChange:e=>p(e.target.value),min:(new Date).toISOString().slice(0,16),className:"mt-2 text-xs sm:text-sm h-8 sm:h-10"})]}),e.jsxs("div",{children:[e.jsxs(cr,{htmlFor:"message",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(Ut,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Message (Optional)"]}),e.jsx(Un,{id:"message",placeholder:"What would you like to talk about? (e.g., homework help, chat about games, etc.)",value:d,onChange:e=>f(e.target.value),className:"mt-2 text-xs sm:text-sm",rows:3})]}),e.jsxs(bn,{onClick:async()=>{if(!t||!m)return;const e=new Date(m);await xf(t.id,e,d)?(u(!1),f(""),p(""),v(t.id),Ar({title:"Call Request Sent!",description:"Ritesh will be notified of your call request."})):Ar({title:"Error",description:"Failed to send call request. Please try again.",variant:"destructive"})},className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-xs sm:text-sm h-8 sm:h-10",children:[e.jsx(mt,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2"}),"Send Call Request"]})]})]})]}),e.jsxs(bn,{variant:"outline",className:"w-full flex items-center gap-2 hover:bg-blue-50 border-blue-200 text-blue-700 text-xs sm:text-sm h-8 sm:h-10",children:[e.jsx(Ut,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Send Quick Message"]}),e.jsxs(bn,{variant:"outline",className:"w-full flex items-center gap-2 hover:bg-purple-50 border-purple-200 text-purple-700 text-xs sm:text-sm h-8 sm:h-10",children:[e.jsx(_e,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"View Family Calendar"]}),e.jsxs(bn,{variant:"outline",className:"w-full flex items-center gap-2 hover:bg-orange-50 border-orange-200 text-orange-700 text-xs sm:text-sm h-8 sm:h-10",children:[e.jsx(vt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Send Good Vibes ✨"]})]})]}),l.length>0&&e.jsxs(Xn,{className:"bg-white/80 backdrop-blur-sm shadow-lg border-0",children:[e.jsx(Zn,{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-lg p-3 sm:p-4",children:e.jsxs(er,{className:"flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(_e,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"}),"Recent Call Requests"]})}),e.jsx(nr,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[l.slice(0,3).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-gray-50 rounded-lg border hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium",children:new Date(t.requested_time).toLocaleDateString()}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(t.requested_time).toLocaleTimeString()})]}),e.jsxs(sr,{variant:"pending"===t.status?"default":"accepted"===t.status?"secondary":"declined"===t.status?"destructive":"outline",className:"capitalize text-xs",children:["pending"===t.status&&"⏳","accepted"===t.status&&"✅","declined"===t.status&&"❌","completed"===t.status&&"🎉"," "+t.status]})]},t.id)),l.length>3&&e.jsxs("p",{className:"text-xs text-gray-500 text-center pt-2",children:["And ",l.length-3," more requests..."]})]})})]}),e.jsxs(Xn,{className:"bg-white/80 backdrop-blur-sm shadow-lg border-0",children:[e.jsx(Zn,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-t-lg p-3 sm:p-4",children:e.jsxs(er,{className:"flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(vt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600"}),"Family Connection"]})}),e.jsx(nr,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"space-y-2 sm:space-y-3 text-center",children:[e.jsx("div",{className:"text-2xl sm:text-3xl",children:"🏠"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["You've been connected as family for"," ",e.jsxs("span",{className:"font-bold text-purple-600",children:[Math.floor(((new Date).getTime()-new Date(t.created_at).getTime())/864e5)," days"]})]}),e.jsx("div",{className:"flex justify-center gap-1 sm:gap-2 text-base sm:text-lg",children:"💜 💙 💚 💛 🧡"})]})})]})]})]})]})}):e.jsx("div",{children:"Loading..."})},bf=()=>{const[t]=oe(),[n,r]=te.useState(""),[a,s]=te.useState(""),[i,l]=te.useState(""),[o,c]=te.useState(""),[u,d]=te.useState(""),[f,m]=te.useState(""),[p,h]=te.useState(""),[g,x]=te.useState(""),[v,y]=te.useState(""),[b,w]=te.useState(null),[N,j]=te.useState(!1),[k,S]=te.useState(null),C=ne(),_=t.get("contactId");t.get("token"),te.useEffect(()=>{_&&E(_);const e=t.get("name");e&&r(e)},[_,t]);const E=async e=>{try{const{data:t,error:n}=await In.from("contacts").select("*").eq("id",e).single();if(n)return;S(t),t.name&&r(t.name)}catch(t){}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-teal-50 to-cyan-100 flex items-center justify-center p-3 sm:p-4 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-sm sm:max-w-lg mx-auto my-4 sm:my-8",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("div",{className:"relative mx-auto w-20 h-20 sm:w-24 sm:h-24 mb-3 sm:mb-4",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-teal-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-2xl sm:text-3xl font-bold",children:"🎉"})})}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 px-2",children:"Join Ritesh's Family Portal"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 px-2",children:[k?`Hi ${k.name}! `:"","Create your profile to connect with the family"]})]}),e.jsxs(Xn,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm mx-2 sm:mx-0",children:[e.jsxs(Zn,{className:"text-center pb-3 px-4 sm:px-6 pt-4 sm:pt-6",children:[e.jsx(er,{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Create Your Family Profile"}),e.jsx(tr,{className:"text-sm sm:text-base text-gray-600",children:"Fill in your details below to join the family network"})]}),e.jsxs(nr,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),w(null),o===u)if(o.length<6)w("Password must be at least 6 characters long.");else if(n&&a&&i){j(!0);try{const e={username:i,name:n,relationship:a,contact_id:_||void 0,grade:p||void 0,age:f?parseInt(f):void 0,school:g||void 0,bio:v||void 0},t=await async function(e,t){try{const n=`hashed_${t}`,{data:r,error:a}=await In.from("family_members").insert({username:e.username,password_hash:n,name:e.name,relationship:e.relationship,grade:e.grade,age:e.age,school:e.school,bio:e.bio,hobbies:e.hobbies||[],is_active:!0}).select().single();return a?"23505"===a.code?{success:!1,error:"Username already taken. Please choose a different one."}:{success:!1,error:a.message}:(await In.from("family_member_status").insert({family_member_id:r.id,status:"available",status_message:"Just joined the family portal!"}),e.contact_id&&await In.from("contacts").update({family_member_id:r.id,family_access_enabled:!0}).eq("id",e.contact_id),{success:!0,familyMember:r})}catch(b){return{success:!1,error:"An unexpected error occurred during registration."}}}(e,o);t.success&&t.familyMember?(Ar({title:"Registration Successful! 🎉",description:`Welcome to the family, ${t.familyMember.name}! You can now log in.`}),C("/ritesh")):w(t.error||"Registration failed. Please try again.")}catch(t){w("An error occurred during registration. Please try again.")}finally{j(!1)}}else w("Please fill in all required fields.");else w("Passwords do not match.")},className:"space-y-4",children:[b&&e.jsx(df,{variant:"destructive",className:"border-red-200 bg-red-50",children:e.jsx(ff,{className:"text-red-700 text-sm",children:b})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"name",className:"text-sm font-medium",children:"Your Full Name *"}),e.jsx(ur,{id:"name",type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"e.g., Aunt Maya Sharma",required:!0,disabled:N,className:"h-11 sm:h-12 text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"relationship",className:"text-sm font-medium",children:"Your Relationship to Ritesh *"}),e.jsxs(dr,{onValueChange:s,value:a,disabled:N,children:[e.jsx(mr,{className:"h-11 sm:h-12 text-base",children:e.jsx(fr,{placeholder:"Select relationship"})}),e.jsxs(gr,{children:[e.jsx(xr,{value:"sister",children:"Sister"}),e.jsx(xr,{value:"brother",children:"Brother"}),e.jsx(xr,{value:"mother",children:"Mother"}),e.jsx(xr,{value:"father",children:"Father"}),e.jsx(xr,{value:"aunt",children:"Aunt"}),e.jsx(xr,{value:"uncle",children:"Uncle"}),e.jsx(xr,{value:"cousin",children:"Cousin"}),e.jsx(xr,{value:"grandmother",children:"Grandmother"}),e.jsx(xr,{value:"grandfather",children:"Grandfather"}),e.jsx(xr,{value:"friend",children:"Family Friend"}),e.jsx(xr,{value:"neighbor",children:"Neighbor"}),e.jsx(xr,{value:"mentor",children:"Mentor"}),e.jsx(xr,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"username",className:"text-sm font-medium",children:"Choose a Username *"}),e.jsx(ur,{id:"username",type:"text",value:i,onChange:e=>l(e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"e.g., maya_aunt",required:!0,disabled:N,className:"h-11 sm:h-12 text-base"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Only lowercase letters, numbers, and underscores allowed"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"age",className:"text-sm font-medium",children:"Age"}),e.jsx(ur,{id:"age",type:"number",value:f,onChange:e=>m(e.target.value),placeholder:"25",disabled:N,className:"h-11 sm:h-12 text-base",min:"1",max:"120"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"grade",className:"text-sm font-medium",children:"Grade/Class"}),e.jsx(ur,{id:"grade",type:"text",value:p,onChange:e=>h(e.target.value),placeholder:"e.g., 12th Grade, College, Working",disabled:N,className:"h-11 sm:h-12 text-base"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"school",className:"text-sm font-medium",children:"School/College/Work"}),e.jsx(ur,{id:"school",type:"text",value:g,onChange:e=>x(e.target.value),placeholder:"e.g., Delhi University, Microsoft, Freelancer",disabled:N,className:"h-11 sm:h-12 text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"password",className:"text-sm font-medium",children:"Create Password *"}),e.jsx(ur,{id:"password",type:"password",value:o,onChange:e=>c(e.target.value),placeholder:"Min. 6 characters",required:!0,disabled:N,className:"h-11 sm:h-12 text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm Password *"}),e.jsx(ur,{id:"confirmPassword",type:"password",value:u,onChange:e=>d(e.target.value),placeholder:"Re-enter your password",required:!0,disabled:N,className:"h-11 sm:h-12 text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(cr,{htmlFor:"bio",className:"text-sm font-medium",children:"Tell us about yourself"}),e.jsx(Un,{id:"bio",value:v,onChange:e=>y(e.target.value),placeholder:"Share your hobbies, interests, or anything you'd like the family to know...",disabled:N,className:"text-base resize-none",rows:3})]}),e.jsx(bn,{type:"submit",className:"w-full h-12 sm:h-13 text-base font-medium bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg",disabled:N,children:N?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"✨"}),"Create My Family Profile"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx("a",{href:"/ritesh",className:"font-medium text-green-600 hover:text-green-500",children:"Sign In"})]})})]})]}),e.jsx("div",{className:"text-center mt-6 px-4",children:e.jsx("p",{className:"text-xs text-gray-500",children:"🏡 Connecting families, one profile at a time 💚"})})]})})},wf=()=>{const[t,n]=te.useState(null),[r,a]=te.useState(!0);return te.useEffect(()=>{const e=localStorage.getItem("familyMember");e&&n(JSON.parse(e)),a(!1)},[]),r?e.jsx("div",{children:"Loading..."}):t?e.jsx(ce,{}):e.jsx(ue,{to:"/ritesh",replace:!0})};class Nf{constructor(){this.actionHistory=[]}static getInstance(){return Nf.instance||(Nf.instance=new Nf),Nf.instance}async executeAction(e){if("advice"===e.type)return{success:!0,message:"Advice provided",data:e};if(!e.action)return{success:!1,message:"No action specified",error:"Missing action parameters"};try{switch(this.actionHistory.push(e),e.action.actionType){case"create_task":case"CREATE_TASK":return await this.createTask(e.action.parameters);case"create_habit":case"CREATE_HABIT":return await this.createHabit(e.action.parameters);case"delete_task":case"DELETE_TASK":return await this.deleteTask(e.action.parameters);case"update_task":case"UPDATE_TASK":return await this.updateTask(e.action.parameters);case"change_theme":case"CHANGE_THEME":return await this.changeTheme(e.action.parameters);case"update_profile":case"UPDATE_PROFILE":return await this.updateProfile(e.action.parameters);case"delete_family_member":case"DELETE_FAMILY_MEMBER":return await this.deleteFamilyMember(e.action.parameters);case"update_family_status":case"UPDATE_FAMILY_STATUS":return await this.updateFamilyStatus(e.action.parameters);case"navigate_to_page":case"NAVIGATE_TO_PAGE":return await this.navigateToPage(e.action.parameters);case"export_data":case"EXPORT_DATA":return await this.exportData(e.action.parameters);case"create_diary_entry":case"CREATE_DIARY_ENTRY":return await this.createDiaryEntry(e.action.parameters);case"update_settings":case"UPDATE_SETTINGS":return await this.updateSettings(e.action.parameters);default:return{success:!1,message:"Unknown action type",error:`Action type ${e.action.actionType} not supported`}}}catch(t){return{success:!1,message:"Action execution failed",error:t instanceof Error?t.message:"Unknown error"}}}async createTask(e){try{const t=this.normalizeTaskParams(e),n={title:t.title,description:t.description,main_topic:t.mainTopic,sub_topic:t.subTopic,location:t.location,due_date:t.dueDate,due_time:t.dueTime,priority:t.priority,rule_id:t.ruleAlignment,is_holiday:t.isHoliday,holiday_name:t.holidayName,status:"pending",is_habit:!1},r=await Tr(n);return r?(Ar({title:"Task Created",description:`Successfully created task: ${r.title}`}),{success:!0,message:`Task "${r.title}" created successfully`,data:r}):{success:!1,message:"Failed to create task"}}catch(t){return{success:!1,message:"Error creating task",error:t instanceof Error?t.message:"Unknown error"}}}async createHabit(e){try{const t={title:e.title,description:e.description||"",category:e.category||"General",frequency:e.frequency||"daily",target_count:e.targetCount||1,color:e.color||"#8B5CF6",rule_id:e.ruleAlignment||2},n=await Rr(t);return n?(Ar({title:"Habit Created",description:`Successfully created habit: ${n.title}`}),{success:!0,message:`Habit "${n.title}" created successfully`,data:n}):{success:!1,message:"Failed to create habit"}}catch(t){return{success:!1,message:"Error creating habit",error:t instanceof Error?t.message:"Unknown error"}}}async deleteTask(e){try{return await Pr(e.taskId)?(Ar({title:"Task Deleted",description:"Task has been successfully deleted"}),{success:!0,message:"Task deleted successfully"}):{success:!1,message:"Failed to delete task"}}catch(t){return{success:!1,message:"Error deleting task",error:t instanceof Error?t.message:"Unknown error"}}}async updateTask(e){try{const t={};e.title&&(t.title=e.title),e.description&&(t.description=e.description),e.status&&(t.status=e.status),e.priority&&(t.priority=e.priority),e.dueDate&&(t.due_date=e.dueDate),e.dueTime&&(t.due_time=e.dueTime);const n=await Or(e.taskId,t);return n?(Ar({title:"Task Updated",description:`Successfully updated task: ${n.title}`}),{success:!0,message:`Task "${n.title}" updated successfully`,data:n}):{success:!1,message:"Failed to update task"}}catch(t){return{success:!1,message:"Error updating task",error:t instanceof Error?t.message:"Unknown error"}}}async changeTheme(e){try{const t=this.normalizeThemeParams(e),n=document.documentElement;if("system"===t){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;n.classList.toggle("dark",e)}else n.classList.toggle("dark","dark"===t);localStorage.setItem("theme-mode",t);const{data:{user:r}}=await In.auth.getUser();return r&&await In.from("user_settings").upsert({user_id:r.id,dark_mode:"system"===t?null:"dark"===t,updated_at:(new Date).toISOString()}),Ar({title:"Theme Changed",description:`Theme changed to ${t} mode`}),{success:!0,message:`Theme changed to ${t} mode successfully`}}catch(t){return{success:!1,message:"Error changing theme",error:t instanceof Error?t.message:"Unknown error"}}}async updateProfile(e){try{const{data:{user:t}}=await In.auth.getUser();if(!t)return{success:!1,message:"User not authenticated"};const n={};e.fullName&&(n.full_name=e.fullName),e.bio&&(n.bio=e.bio),e.location&&(n.location=e.location),e.occupation&&(n.occupation=e.occupation),e.company&&(n.company=e.company),e.interests&&(n.interests=e.interests),e.goals&&(n.goals=e.goals);const{error:r}=await In.from("user_profiles").upsert({user_id:t.id,email:t.email,...n,updated_at:(new Date).toISOString()});if(r)throw r;return Ar({title:"Profile Updated",description:"Your profile has been updated successfully"}),{success:!0,message:"Profile updated successfully",data:n}}catch(t){return{success:!1,message:"Error updating profile",error:t instanceof Error?t.message:"Unknown error"}}}async deleteFamilyMember(e){try{return Ar({title:"Family Member Removed",description:"Family member has been successfully removed"}),{success:!0,message:"Family member deleted successfully"}}catch(t){return{success:!1,message:"Error deleting family member",error:t instanceof Error?t.message:"Unknown error"}}}async updateFamilyStatus(e){try{return await gf(e.familyMemberId,e.status,e.statusMessage)?(Ar({title:"Status Updated",description:"Family member status updated successfully"}),{success:!0,message:"Family status updated successfully"}):{success:!1,message:"Failed to update family status"}}catch(t){return{success:!1,message:"Error updating family status",error:t instanceof Error?t.message:"Unknown error"}}}async navigateToPage(e){try{const t=e.page||e.pageName||e.route,n={dashboard:"/dashboard",tasks:"/dashboard",contacts:"/contacts",hierarchy:"/hierarchy",profile:"/profile",settings:"/dashboard/settings",diary:"/dashboard/daily-diary",calendar:"/calendar-timeline",timeline:"/calendar-timeline",family:"/family-profile",login:"/login"},r=t.toLowerCase().replace(/[^a-z]/g,""),a=n[r]||`/${r}`;if("undefined"!=typeof window){const e=new CustomEvent("agentic-navigation",{detail:{route:a,page:r}});return window.dispatchEvent(e),setTimeout(()=>{window.location.pathname!==a&&(window.location.href=a)},100),{success:!0,message:`Navigated to ${r} page`}}return{success:!1,message:"Navigation not available"}}catch(t){return{success:!1,message:"Error navigating",error:t instanceof Error?t.message:"Unknown error"}}}async exportData(e){try{const{data:{user:e}}=await In.auth.getUser();if(!e)return{success:!1,message:"User not authenticated"};const[t,n,r]=await Promise.all([In.from("contacts").select("*").eq("user_id",e.id),In.from("tasks").select("*").eq("user_id",e.id),In.from("diary_entries").select("*").eq("user_id",e.id)]),a={exported_at:(new Date).toISOString(),user_info:{id:e.id,email:e.email},contacts:t.data||[],tasks:n.data||[],diary_entries:r.data||[]},s=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),i=URL.createObjectURL(s),l=document.createElement("a");return l.href=i,l.download=`stage-data-export-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i),Ar({title:"Data Exported",description:"Your data has been exported successfully"}),{success:!0,message:"Data exported successfully"}}catch(t){return{success:!1,message:"Error exporting data",error:t instanceof Error?t.message:"Unknown error"}}}async createDiaryEntry(e){try{const{data:{user:t}}=await In.auth.getUser();if(!t)return{success:!1,message:"User not authenticated"};const{data:n,error:r}=await In.from("diary_entries").insert({user_id:t.id,entry_date:e.date||(new Date).toISOString().split("T")[0],content:e.content,mood:e.mood||"neutral",tags:e.tags||[],created_at:(new Date).toISOString()}).select().single();if(r)throw r;return Ar({title:"Diary Entry Created",description:"Your diary entry has been saved successfully"}),{success:!0,message:"Diary entry created successfully",data:n}}catch(t){return{success:!1,message:"Error creating diary entry",error:t instanceof Error?t.message:"Unknown error"}}}async updateSettings(e){try{const{data:{user:t}}=await In.auth.getUser();if(!t)return{success:!1,message:"User not authenticated"};const n={};void 0!==e.notifications&&(n.notifications_enabled=e.notifications),void 0!==e.emailNotifications&&(n.email_notifications=e.emailNotifications),e.language&&(n.language=e.language),e.timezone&&(n.timezone=e.timezone),void 0!==e.autoSave&&(n.auto_save=e.autoSave);const{error:r}=await In.from("user_settings").upsert({user_id:t.id,...n,updated_at:(new Date).toISOString()});if(r)throw r;return Ar({title:"Settings Updated",description:"Your settings have been updated successfully"}),{success:!0,message:"Settings updated successfully",data:n}}catch(t){return{success:!1,message:"Error updating settings",error:t instanceof Error?t.message:"Unknown error"}}}normalizeThemeParams(e){if(!e)return"dark";let t=e.theme||e.mode||"dark";if("string"==typeof t){if(t=t.toLowerCase().trim(),t.includes("dark")||t.includes("night")||t.includes("black"))return"dark";if(t.includes("light")||t.includes("bright")||t.includes("white"))return"light";if(t.includes("system")||t.includes("auto")||t.includes("default"))return"system"}return["light","dark","system"].includes(t)?t:"dark"}normalizeTaskParams(e){const t=new Date(new Date);return t.setDate(t.getDate()+1),{title:e.title||e.name||"New Task",description:e.description||e.details||"",mainTopic:e.mainTopic||e.category||"General",subTopic:e.subTopic||e.subcategory||"Task",location:e.location||null,dueDate:e.dueDate||e.date||null,dueTime:e.dueTime||e.time||null,priority:e.priority||"medium",ruleAlignment:e.ruleAlignment||2,isHoliday:e.isHoliday||!1,holidayName:e.holidayName||null}}getActionHistory(){return this.actionHistory}clearActionHistory(){this.actionHistory=[]}}const jf=Nf.getInstance(),kf="// ...existing code...";function Sf(){var t;const[n,r]=te.useState(!0),[a,s]=te.useState(!1),[i,l]=te.useState(""),[o,c]=te.useState([]),[u,d]=te.useState(!1),[f,m]=te.useState(!1),[p,h]=te.useState(null),[g,x]=te.useState(null),[v,y]=te.useState(!1),b=te.useRef(null),w=ne();te.useEffect(()=>{const e=e=>{const{route:t}=e.detail;t&&w(t)};return window.addEventListener("agentic-navigation",e),()=>{window.removeEventListener("agentic-navigation",e)}},[w]),te.useEffect(()=>{try{const e=localStorage.getItem("gemini-advisor-messages"),t="true"===localStorage.getItem("gemini-agentic-mode");if(m(t),e)c(JSON.parse(e));else{c([{role:"assistant",content:t?'Hello! I\'m your Agentic Aethera Advisor. I can provide life guidance AND take actions for you! Try: "Create a task to call mom", "Change theme to dark", or ask for advice like "Should I learn Python?". For casual chat, just say hi!':"Hello! I'm your Aethera Advisor. Ask for advice on decisions and life choices, and I'll provide guidance based on your life rules. For casual conversation, just say hello!"}])}h(new Nr(kf,t))}catch(e){c([{role:"assistant",content:"Hello! I'm your Aethera Advisor. Share an action or thought, and I'll provide feedback based on your life rules."}]),h(new Nr(kf,!1))}},[]),te.useEffect(()=>{o.length>0&&localStorage.setItem("gemini-advisor-messages",JSON.stringify(o))},[o]),te.useEffect(()=>{localStorage.setItem("gemini-agentic-mode",f.toString()),p&&p.setAgenticMode(f)},[f,p]);const N=()=>{if(c([]),p&&p.clearSession&&"function"==typeof p.clearSession)try{p.clearSession()}catch(e){}c([{role:"assistant",content:f?'Hello! I\'m your Agentic Aethera Advisor. I can provide life guidance AND take actions for you! Try: "Create a task to call mom", "Change theme to dark", or ask for advice like "Should I learn Python?". For casual chat, just say hi!':"Hello! I'm your Aethera Advisor. Ask for advice on decisions and life choices, and I'll provide guidance based on your life rules. For casual conversation, just say hello!"}]),localStorage.removeItem("gemini-advisor-messages")},j=async e=>{var t;d(!0);try{let r;r=p?await p.sendMessage(e):await async function(e,t,n=!1){const r=wr();if(!r)return"API connection error. Please check your API key configuration.";try{const i=`\nYou are an AI advisor that analyzes user messages according to three life rules that guide them.\nThe three life rules are:\n\n${t}\n\nIMPORTANT GUIDELINES:\n1. Only provide rule alignment analysis when the user is asking for advice, making decisions, or sharing something meaningful that relates to their life rules.\n2. For casual conversation (greetings, small talk, simple questions), respond naturally without rule analysis.\n3. Casual inputs that should NOT trigger rule analysis: "hi", "hello", "thanks", "okay", "good", "yes", "no", basic acknowledgments.\n4. Rule analysis should only trigger for: specific advice requests, decision-making, sharing experiences, asking about habits/goals, moral dilemmas, life choices.\n\nFor casual conversation, respond with simple, friendly text.\nFor advice-worthy content, respond with the JSON format including rule analysis.\n`,l=n?`\n${i}\n\nYou are now operating in AGENTIC MODE - you can both provide advice AND take actions within the LifePilot app.\n\nAvailable Actions:\n1. CREATE_TASK - Create a new task/activity\n2. CREATE_HABIT - Create a recurring habit\n3. DELETE_TASK - Delete an existing task (requires task ID)\n4. UPDATE_TASK - Update an existing task (requires task ID)\n5. CHANGE_THEME - Change app theme (light/dark/system)\n6. UPDATE_PROFILE - Update user profile information\n7. DELETE_FAMILY_MEMBER - Remove a family member (requires confirmation)\n8. UPDATE_FAMILY_STATUS - Update family member status\n9. NAVIGATE_TO_PAGE - Navigate to a specific app page\n10. EXPORT_DATA - Export user data\n11. CREATE_DIARY_ENTRY - Create a diary/journal entry\n12. UPDATE_SETTINGS - Update app settings\n\nYou should respond with either:\n1. ADVICE ONLY - Traditional life rule analysis in JSON format\n2. ACTION - Structured action request that the app can execute\n\nFor ACTION responses, use this format:\n{\n  "type": "action",\n  "content": "I'll help you with that! [explanation of what you're doing]",\n  "action": {\n    "actionType": "CHANGE_THEME",\n    "parameters": {\n      "theme": "dark"\n    },\n    "confirmationRequired": false\n  }\n}\n\nExamples of ACTION responses:\n- User: "Change theme to dark" → \n  {\n    "type": "action",\n    "content": "I'll switch the app to dark mode for you!",\n    "action": {\n      "actionType": "CHANGE_THEME",\n      "parameters": { "theme": "dark" },\n      "confirmationRequired": false\n    }\n  }\n\n- User: "Create a task to call mom tomorrow" →\n  {\n    "type": "action", \n    "content": "I'll create that task for you!",\n    "action": {\n      "actionType": "CREATE_TASK",\n      "parameters": {\n        "title": "Call mom",\n        "dueDate": "2025-06-27",\n        "priority": "medium",\n        "ruleAlignment": 2\n      },\n      "confirmationRequired": false\n    }\n  }\n\nFor ADVICE responses, use the traditional format:\n{\n  "type": "advice",\n  "ruleMatch": "Rule X: Title",\n  "ruleNumber": X,\n  "statusEmoji": "✅ or ⚠️",\n  "ruleIcon": "brain/shield/bar-chart",\n  "alignmentStrength": "Strong/Potential",\n  "alignmentClass": "success/warning",\n  "quote": "Relevant quote",\n  "advice": "Personalized advice"\n}\n\nExamples of ACTION triggers:\n- "Create a task to..." → CREATE_TASK\n- "Add a habit for..." → CREATE_HABIT  \n- "Delete the task..." → DELETE_TASK (needs confirmation)\n- "Change theme to dark" → CHANGE_THEME with {"theme": "dark"}\n- "Switch to light mode" → CHANGE_THEME with {"theme": "light"}\n- "Update my profile..." → UPDATE_PROFILE\n- "Go to tasks page" → NAVIGATE_TO_PAGE with {"page": "tasks"}\n- "Export my data" → EXPORT_DATA\n- "Create a diary entry about..." → CREATE_DIARY_ENTRY\n\nBe proactive and magnetic - if the user mentions wanting to do something actionable, offer to do it for them!\n`:i,o=n?`\nAnalyze the following user message and determine the response type:\n"${e}"\n\nRESPONSE RULES:\n1. If it's casual conversation ("hi", "hello", "thanks", "okay", "good", "yes", "no") → Respond with PLAIN TEXT only, no JSON\n2. If it's an action request ("create task", "change theme", "go to") → Use ACTION JSON format\n3. If it's seeking advice ("should I", "help me", "what do you think") → Use ADVICE JSON format\n\nExamples:\n- "hi" → "Hello! How can I help you today?" (plain text, no JSON)\n- "change theme to dark" → JSON action format\n- "should I learn Python?" → JSON advice format\n\nRespond appropriately.\n`:`\nAnalyze the following user message:\n"${e}"\n\nRESPONSE RULES:\n1. If this is casual conversation ("hi", "hello", "thanks", "okay") → Respond with PLAIN TEXT only, no JSON\n2. If it relates to life decisions, goals, or needs advice → Use JSON advice format\n\nExamples:\n- "hi" → "Hello! How can I help you today?" (plain text, no JSON)\n- "should I take this job?" → JSON advice format with rule analysis\n\nRespond appropriately.\n`,c=(await r.generateContent({contents:[{role:"user",parts:[{text:l}]},{role:"model",parts:[{text:"I understand and will follow these instructions."}]},{role:"user",parts:[{text:o}]}],generationConfig:{...br}})).response.text();try{if(!c.includes("{")&&!c.includes('"type"'))return c;try{const e=JSON.parse(c);return JSON.stringify(e)}catch(a){const e=c.match(/```json\n([\s\S]*?)\n```/)||c.match(/```\n([\s\S]*?)\n```/)||c.match(/{[\s\S]*?}/);if(!e)return c;const t=e[1]||e[0],n=JSON.parse(t);return JSON.stringify(n)}}catch(s){return JSON.stringify({ruleMatch:"Processing Error",ruleNumber:0,statusEmoji:"⚠️",ruleIcon:"alert-circle",alignmentStrength:"Error",alignmentClass:"error",quote:"The obstacle is the way.",advice:"I couldn't properly analyze your message. Could you try rephrasing it or providing more context?"})}}catch(i){return JSON.stringify({ruleMatch:"API Error",ruleNumber:0,statusEmoji:"⚠️",ruleIcon:"alert-circle",alignmentStrength:"Error",alignmentClass:"error",quote:"The impediment to action advances action. What stands in the way becomes the way.",advice:"I encountered a technical issue. Please try again in a moment."})}}(e,kf,f);try{const e=JSON.parse(r);if("action"===e.type&&e.action){const n=e;if(null==(t=n.action)?void 0:t.confirmationRequired)return x(n),y(!0),c(t=>[...t,{role:"assistant",content:e.content||"Action requires confirmation."}]),null;{const t=await jf.executeAction(n),r=`${e.content||"Action requested!"}\n\n${t.success?"✅ ":"❌ "}${t.message}`;return c(e=>[...e,{role:"assistant",content:r,actionResult:t}]),null}}return r}catch(n){return r}}catch(r){return"Sorry, I encountered an error processing your request. Please try again."}finally{d(!1)}};te.useEffect(()=>{var e;null==(e=b.current)||e.scrollIntoView({behavior:"smooth"})},[o]);let k="w-1/3";"undefined"!=typeof window&&(window.innerWidth<1024&&(k="w-1/2"),window.innerWidth<768&&(k="w-full"));const S=({response:t})=>{let n;try{n=JSON.parse(t)}catch(m){return e.jsx("div",{className:"whitespace-pre-wrap",children:t})}if("action"===n.type)return e.jsx("div",{className:"whitespace-pre-wrap",children:t});if(!n.ruleMatch||!n.ruleNumber)return e.jsx("div",{className:"whitespace-pre-wrap",children:t});const{ruleMatch:r,ruleNumber:a,statusEmoji:s,ruleIcon:i,alignmentStrength:l,alignmentClass:o,quote:c,advice:u}=n,d=()=>{switch(i){case"brain":return e.jsx(Xe,{className:"h-5 w-5"});case"shield":return e.jsx(et,{className:"h-5 w-5"});case"bar-chart":return e.jsx(Yt,{className:"h-5 w-5"});default:return e.jsx(Lt,{className:"h-5 w-5"})}},f="success"===o?e.jsx(Vt,{className:"h-5 w-5 text-green-500"}):e.jsx(Lt,{className:"h-5 w-5 text-amber-500"});return e.jsxs("div",{className:"space-y-4 w-full",children:[e.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:vn("p-3 rounded-md border flex items-center gap-3 shadow-sm","success"===o?"bg-gradient-to-r from-green-50 to-green-50/50 border-green-200 dark:bg-gradient-to-r dark:from-green-950/30 dark:to-green-900/10 dark:border-green-800/50":"bg-gradient-to-r from-amber-50 to-amber-50/50 border-amber-200 dark:bg-gradient-to-r dark:from-amber-950/30 dark:to-amber-900/10 dark:border-amber-800/50"),children:[f,e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"font-medium text-sm",children:"success"===o?`Strong alignment with ${r}`:`Potential alignment with ${r}`})})]}),e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1},children:e.jsxs(Xn,{className:vn("overflow-hidden shadow-md transition-all hover:shadow-lg",1===a?"border-blue-200 dark:border-blue-900/50":2===a?"border-purple-200 dark:border-purple-900/50":"border-amber-200 dark:border-amber-900/50"),children:[e.jsx(Zn,{className:vn("pb-3",1===a?"bg-gradient-to-r from-blue-50 to-blue-50/30 border-b border-blue-100 dark:from-blue-900/20 dark:to-blue-800/5 dark:border-blue-900/30":2===a?"bg-gradient-to-r from-purple-50 to-purple-50/30 border-b border-purple-100 dark:from-purple-900/20 dark:to-purple-800/5 dark:border-purple-900/30":"bg-gradient-to-r from-amber-50 to-amber-50/30 border-b border-amber-100 dark:from-amber-900/20 dark:to-amber-800/5 dark:border-amber-900/30"),children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:vn("p-2 rounded-full shadow-inner",1===a?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":2===a?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"),children:e.jsx(d,{})}),e.jsx(er,{className:"text-lg font-semibold tracking-tight",children:r})]})})}),e.jsxs(nr,{className:"pt-4",children:[e.jsxs("blockquote",{className:vn("relative border-l-4 pl-5 italic text-muted-foreground my-4 py-3 bg-muted/30 rounded-r-md",1===a?"border-blue-300 dark:border-blue-700":2===a?"border-purple-300 dark:border-purple-700":"border-amber-300 dark:border-amber-700"),children:[e.jsx("span",{className:"absolute -left-1 -top-3 text-3xl text-muted-foreground opacity-20",children:'"'}),c,e.jsx("span",{className:"absolute -right-1 -bottom-4 text-3xl text-muted-foreground opacity-20",children:'"'})]}),e.jsx("p",{className:"mt-4 text-foreground leading-relaxed",children:u})]})]})})]})},C=({result:t})=>e.jsxs(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:vn("p-3 rounded-lg border flex items-start gap-3 shadow-sm",t.success?"bg-gradient-to-r from-green-50 to-green-50/50 border-green-200 dark:bg-gradient-to-r dark:from-green-950/30 dark:to-green-900/10 dark:border-green-800/50":"bg-gradient-to-r from-red-50 to-red-50/50 border-red-200 dark:bg-gradient-to-r dark:from-red-950/30 dark:to-red-900/10 dark:border-red-800/50"),children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:t.success?e.jsx(Vt,{className:"h-5 w-5 text-green-500"}):e.jsx(Lt,{className:"h-5 w-5 text-red-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:t.success?"Action Completed":"Action Failed"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.message}),t.error&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Error: ",t.error]})]})]});return te.useEffect(()=>{const e=()=>{window.innerWidth<768&&s(!1)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),n?e.jsxs(Me,{children:[n&&e.jsxs(De.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1,height:a?"64px":"auto"},exit:{x:300,opacity:0},transition:{type:"spring",damping:20},className:vn("border-l border-border bg-card flex flex-col z-40 shadow-xl",a?"h-16":"h-screen",k),children:[e.jsxs("div",{className:"p-3 border-b bg-gradient-to-r from-card to-card/95",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:vn("p-1.5 rounded-md transition-colors",f?"bg-gradient-to-r from-purple-500/20 to-blue-500/20":"bg-primary/10"),children:f?e.jsx(Dt,{className:"h-5 w-5 text-purple-600"}):e.jsx($t,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:["Aethera Advisor",f&&e.jsx("span",{className:"text-xs bg-gradient-to-r from-purple-500 to-blue-500 text-white px-2 py-0.5 rounded-full",children:"AGENTIC"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:f?"AI assistant with actions":"Personal guidance system"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(bn,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-muted/80",onClick:()=>{if(p&&p.resetSession&&"function"==typeof p.resetSession)try{p.resetSession()}catch(e){h(new Nr(kf,f))}else h(new Nr(kf,f));N()},title:"New Session",children:e.jsx($e,{className:"h-4 w-4"})}),e.jsx(bn,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-muted/80",onClick:N,title:"Clear History",children:e.jsx(nt,{className:"h-4 w-4"})}),e.jsx(bn,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-muted/80",onClick:()=>s(!a),children:a?e.jsx(Gt,{className:"h-4 w-4"}):e.jsx(qt,{className:"h-4 w-4"})}),e.jsx(bn,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-muted/80",onClick:()=>r(!1),children:e.jsx(ge,{className:"h-4 w-4"})})]})]}),!a&&e.jsxs("div",{className:"mt-3 flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Agentic Mode"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:f?"Can take actions":"Advice only"})]}),e.jsx(Yr,{checked:f,onCheckedChange:e=>{if(m(e),p&&p.setAgenticMode&&"function"==typeof p.setAgenticMode)try{p.setAgenticMode(e)}catch(n){h(new Nr(kf,e))}else h(new Nr(kf,e));const t=e?'Agentic mode enabled! I can now take actions for you. Try commands like "Create a task to..." or "Change theme to..."':"Agentic mode disabled. I'll focus on providing life guidance and advice.";c(e=>[...e,{role:"assistant",content:t}])}})]})]}),!a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-card/90 to-card",children:[o.map((t,n)=>e.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*n},className:vn("rounded-lg","user"===t.role?"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground ml-auto max-w-[85%] p-3 shadow-md shadow-primary/10":t.content.startsWith("{")?"bg-transparent w-full p-0":"bg-muted max-w-[85%] p-3 shadow-sm"),children:["user"===t.role&&e.jsxs("div",{className:"flex items-center gap-2 mb-1 opacity-80",children:[e.jsx(Wt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"You"})]}),"assistant"===t.role&&!t.content.startsWith("{")&&e.jsxs("div",{className:"flex items-center gap-2 mb-1 opacity-80",children:[e.jsx($t,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Aethera Advisor"})]}),"assistant"===t.role?e.jsxs("div",{className:"space-y-2",children:[t.content.startsWith("{")&&t.content.includes("ruleMatch")?e.jsx(S,{response:t.content}):e.jsx("div",{className:"prose prose-sm dark:prose-invert",children:t.content.split("\n\n").map((t,n)=>{const r=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return e.jsx("p",{dangerouslySetInnerHTML:{__html:r},className:"mb-2 leading-relaxed"},n)})}),t.actionResult&&e.jsx(C,{result:t.actionResult})]}):e.jsx("p",{className:"leading-relaxed",children:t.content})]},n)),e.jsx("div",{ref:b})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!i.trim())return;const t=i;l(""),c(e=>[...e,{role:"user",content:t}]);const n=await j(t);n&&c(e=>{const t=e[e.length-1];return t&&"assistant"===t.role&&(t.content===n||t.content.includes(n)||n.includes(t.content))?e:[...e,{role:"assistant",content:n}]})},className:"p-3 border-t flex items-center gap-2 bg-card/95",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ur,{value:i,onChange:e=>l(e.target.value),placeholder:f?"Ask for advice or request actions: 'Create a task...', 'Change theme...', 'Export data'":"Share an action or thought...",className:"flex-1 bg-muted/50 focus-visible:ring-primary/30 pr-8 shadow-sm",disabled:u}),u&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-opacity-50 border-t-primary rounded-full"})})]}),e.jsx(bn,{type:"submit",size:"icon",disabled:u||!i.trim(),className:"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary/80 shadow-sm",children:e.jsx(Be,{className:"h-4 w-4"})})]})]})]}),e.jsx(Ma,{open:v,onOpenChange:y,children:e.jsxs(Ua,{children:[e.jsxs($a,{children:[e.jsxs(qa,{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-5 w-5 text-amber-500"}),"Confirm Action"]}),e.jsx(Ha,{children:(null==(t=null==g?void 0:g.action)?void 0:t.confirmationMessage)||"This action requires confirmation. Are you sure you want to proceed?"})]}),e.jsxs(Ga,{children:[e.jsx(Va,{onClick:()=>{x(null),y(!1),c(e=>[...e,{role:"assistant",content:"Action cancelled. How else can I help you?"}])},children:"Cancel"}),e.jsx(Wa,{onClick:async()=>{if(g){const e=await jf.executeAction(g),t=`${g.content||"Action completed!"}\n\n${e.success?"✅ ":"❌ "}${e.message}`;c(n=>[...n,{role:"assistant",content:t,actionResult:e}]),x(null),y(!1)}},children:"Confirm"})]})]})})]}):e.jsx(De.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},className:"fixed bottom-4 right-4 z-50",children:e.jsx(bn,{onClick:()=>r(!0),className:"rounded-full h-14 w-14 bg-gradient-to-r from-primary to-primary/90 shadow-lg shadow-primary/20","aria-label":"Open Aethera Advisor",children:e.jsx($t,{className:"h-7 w-7"})})})}const Cf=()=>{const[t,n]=te.useState(null),[r,a]=te.useState(!0),s=ne();return te.useEffect(()=>{(async()=>{const{data:{session:e}}=await In.auth.getSession();n(e),a(!1)})()},[s,r]),r?e.jsx("div",{children:"Loading..."}):t?e.jsx(ue,{to:"/dashboard",replace:!0}):e.jsx(ue,{to:"/login",replace:!0})};var _f,Ef;function Df(){if(Ef)return _f;Ef=1;const e=(e,n,r,a)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const s=Object.getOwnPropertyDescriptor(e,r),i=Object.getOwnPropertyDescriptor(n,r);!t(s,i)&&a||Object.defineProperty(e,r,i)},t=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},n=(e,t)=>`/* Wrapped ${e}*/\n${t}`,r=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),a=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");return _f=(t,s,{ignoreNonConfigurable:i=!1}={})=>{const{name:l}=t;for(const n of Reflect.ownKeys(s))e(t,s,n,i);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(t,s),((e,t,s)=>{const i=""===s?"":`with ${s.trim()}() `,l=n.bind(null,i,t.toString());Object.defineProperty(l,"name",a),Object.defineProperty(e,"toString",{...r,value:l})})(t,s,l),t}}var Af,If,Tf={exports:{}};var Of,Pf,Rf,Lf=Tf.exports;function Mf(){return Of||(Of=1,function(e,t){var n=Lf&&Lf.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{o(r.next(e))}catch(t){s(t)}}function l(e){try{o(r.throw(e))}catch(t){s(t)}}function o(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}o((r=r.apply(e,t||[])).next())})},r=Lf&&Lf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(If?Af:(If=1,Af=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}));function s(e,t="maxAge"){let r,s,i;const l=()=>n(this,void 0,void 0,function*(){if(void 0!==r)return;const l=l=>n(this,void 0,void 0,function*(){i=a.default();const n=l[1][t]-Date.now();return n<=0?(e.delete(l[0]),void i.resolve()):(r=l[0],s=setTimeout(()=>{e.delete(l[0]),i&&i.resolve()},n),"function"==typeof s.unref&&s.unref(),i.promise)});try{for(const t of e)yield l(t)}catch(o){}r=void 0}),o=e.set.bind(e);return e.set=(t,n)=>{e.has(t)&&e.delete(t);const a=o(t,n);return r&&r===t&&(r=void 0,void 0!==s&&(clearTimeout(s),s=void 0),void 0!==i&&(i.reject(void 0),i=void 0)),l(),a},l(),e}t.default=s,e.exports=s,e.exports.default=s}(Tf,Tf.exports)),Tf.exports}const Ff=ee(function(){if(Rf)return Pf;Rf=1;const e=Df(),t=Mf(),n=new WeakMap,r=new WeakMap,a=(n,{cacheKey:a,cache:s=new Map,maxAge:i}={})=>{"number"==typeof i&&t(s);const l=function(...e){const t=a?a(e):e[0],r=s.get(t);if(r)return r.data;const l=n.apply(this,e);return s.set(t,{data:l,maxAge:i?Date.now()+i:Number.POSITIVE_INFINITY}),l};return e(l,n,{ignoreNonConfigurable:!0}),r.set(l,s),l};return a.decorator=(e={})=>(t,r,s)=>{const i=t[r];if("function"!=typeof i)throw new TypeError("The decorated value must be a function");delete s.value,delete s.writable,s.get=function(){if(!n.has(this)){const t=a(i,e);return n.set(this,t),t}return n.get(this)}},a.clear=e=>{const t=r.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if("function"!=typeof t.clear)throw new TypeError("The cache Map can't be cleared!");t.clear()},Pf=a}());function zf(e){return"string"==typeof e}function Bf(e,t,n){return n.indexOf(e)===t}function Uf(e){return-1===e.indexOf(",")?e:e.split(",")}function $f(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return $f(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return $f(void 0===n?"":n)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,a=e.split("-"),s=a[0],i=a[1],l=void 0===i?"":i;return"".concat(s,"-").concat(l.toUpperCase())}var Gf=Ff(function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,a=t.fallbackLocale,s=void 0===a?"en-US":a,i=[];if("undefined"!=typeof navigator){for(var l=[],o=0,c=navigator.languages||[];o<c.length;o++){var u=c[o];l=l.concat(Uf(u))}var d=navigator.language,f=d?Uf(d):d;i=i.concat(l,f)}return r&&i.push(s),i.filter(zf).map($f).filter(Bf)},{cacheKey:JSON.stringify});var qf=Ff(function(e){return Gf(e)[0]||null},{cacheKey:JSON.stringify});function Hf(e,t,n){return function(r,a){void 0===a&&(a=n);var s=e(r)+a;return t(s)}}function Wf(e){return function(t){return new Date(e(t).getTime()-1)}}function Vf(e,t){return function(n){return[e(n),t(n)]}}function Yf(e){if(e instanceof Date)return e.getFullYear();if("number"==typeof e)return e;var t=parseInt(e,10);if("string"==typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Jf(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Qf(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Kf(e){var t=Yf(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Xf=Hf(Yf,Kf,-100),Zf=Hf(Yf,Kf,100),em=Wf(Zf),tm=Hf(Yf,em,-100),nm=Vf(Kf,em);function rm(e){var t=Yf(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var am=Hf(Yf,rm,-10),sm=Hf(Yf,rm,10),im=Wf(sm),lm=Hf(Yf,im,-10),om=Vf(rm,im);function cm(e){var t=Yf(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var um=Hf(Yf,cm,-1),dm=Hf(Yf,cm,1),fm=Wf(dm),mm=Hf(Yf,fm,-1),pm=Vf(cm,fm);function hm(e,t){return function(n,r){void 0===r&&(r=t);var a=Yf(n),s=Jf(n)+r,i=new Date;return i.setFullYear(a,s,1),i.setHours(0,0,0,0),e(i)}}function gm(e){var t=Yf(e),n=Jf(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var xm=hm(gm,-1),vm=hm(gm,1),ym=Wf(vm),bm=hm(ym,-1),wm=Vf(gm,ym);function Nm(e){var t=Yf(e),n=Jf(e),r=Qf(e),a=new Date;return a.setFullYear(t,n,r),a.setHours(0,0,0,0),a}var jm,km,Sm=Wf((jm=Nm,km=1,function(e,t){void 0===t&&(t=km);var n=Yf(e),r=Jf(e),a=Qf(e)+t,s=new Date;return s.setFullYear(n,r,a),s.setHours(0,0,0,0),jm(s)})),Cm=Vf(Nm,Sm);function _m(e){return Qf(ym(e))}var Em="gregory",Dm="hebrew",Am="islamic",Im="iso8601",Tm={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Om=[0,1,2,3,4,5,6],Pm=new Map;function Rm(e){return function(t,n){return function(e){return function(t,n){var r=t||qf();Pm.has(r)||Pm.set(r,new Map);var a=Pm.get(r);return a.has(e)||a.set(e,new Intl.DateTimeFormat(r||void 0,e).format),a.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}var Lm=Rm({day:"numeric"}),Mm=Rm({day:"numeric",month:"long",year:"numeric"}),Fm=Rm({month:"long"}),zm=Rm({month:"long",year:"numeric"}),Bm=Rm({weekday:"short"}),Um=Rm({weekday:"long"}),$m=Rm({year:"numeric"}),Gm=Om[0],qm=Om[5],Hm=Om[6];function Wm(e,t){void 0===t&&(t=Im);var n=e.getDay();switch(t){case Im:return(n+6)%7;case Am:return(n+1)%7;case Dm:case Em:return n;default:throw new Error("Unsupported calendar type.")}}function Vm(e,t){void 0===t&&(t=Im);var n=Yf(e),r=Jf(e),a=e.getDate()-Wm(e,t);return new Date(n,r,a)}function Ym(e,t){switch(e){case"century":return Kf(t);case"decade":return rm(t);case"year":return cm(t);case"month":return gm(t);case"day":return Nm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Jm(e,t){switch(e){case"century":return Zf(t);case"decade":return sm(t);case"year":return dm(t);case"month":return vm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Qm(e,t){switch(e){case"century":return em(t);case"decade":return im(t);case"year":return fm(t);case"month":return ym(t);case"day":return Sm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Km(e,t){switch(e){case"century":return nm(t);case"decade":return om(t);case"year":return pm(t);case"month":return wm(t);case"day":return Cm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Xm(e,t,n){return n.map(function(n){return(t||$m)(e,n)}).join(" – ")}function Zm(e,t,n){return Xm(e,t,om(n))}function ep(e){return e.getDay()===(new Date).getDay()}function tp(e,t){void 0===t&&(t=Im);var n=e.getDay();switch(t){case Am:case Dm:return n===qm||n===Hm;case Im:case Em:return n===Hm||n===Gm;default:throw new Error("Unsupported calendar type.")}}var np="react-calendar__navigation";function rp(t){var n,r=t.activeStartDate,a=t.drillUp,s=t.formatMonthYear,i=void 0===s?zm:s,l=t.formatYear,o=void 0===l?$m:l,c=t.locale,u=t.maxDate,d=t.minDate,f=t.navigationAriaLabel,m=void 0===f?"":f,p=t.navigationAriaLive,h=t.navigationLabel,g=t.next2AriaLabel,x=void 0===g?"":g,v=t.next2Label,y=void 0===v?"»":v,b=t.nextAriaLabel,w=void 0===b?"":b,N=t.nextLabel,j=void 0===N?"›":N,k=t.prev2AriaLabel,S=void 0===k?"":k,C=t.prev2Label,_=void 0===C?"«":C,E=t.prevAriaLabel,D=void 0===E?"":E,A=t.prevLabel,I=void 0===A?"‹":A,T=t.setActiveStartDate,O=t.showDoubleView,P=t.view,R=t.views.indexOf(P)>0,L="century"!==P,M=function(e,t){switch(e){case"century":return Xf(t);case"decade":return am(t);case"year":return um(t);case"month":return xm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(P,r),F=L?function(e,t){switch(e){case"decade":return am(t,-100);case"year":return um(t,-10);case"month":return xm(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(P,r):void 0,z=Jm(P,r),B=L?function(e,t){switch(e){case"decade":return sm(t,100);case"year":return dm(t,10);case"month":return vm(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(P,r):void 0,U=function(){if(M.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return tm(t);case"decade":return lm(t);case"year":return mm(t);case"month":return bm(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(P,r);return d&&d>=e}(),$=L&&function(){if(F.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return lm(t,-100);case"year":return mm(t,-10);case"month":return bm(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(P,r);return d&&d>=e}(),G=u&&u<z,q=L&&u&&u<B;function H(e){var t=function(){switch(P){case"century":return function(e,t,n){return Xm(e,t,nm(n))}(c,o,e);case"decade":return Zm(c,o,e);case"year":return o(c,e);case"month":return i(c,e);default:throw new Error("Invalid view: ".concat(P,"."))}}();return h?h({date:e,label:t,locale:c||qf()||void 0,view:P}):t}return e.jsxs("div",{className:np,children:[null!==_&&L?e.jsx("button",{"aria-label":S,className:"".concat(np,"__arrow ").concat(np,"__prev2-button"),disabled:$,onClick:function(){T(F,"prev2")},type:"button",children:_}):null,null!==I&&e.jsx("button",{"aria-label":D,className:"".concat(np,"__arrow ").concat(np,"__prev-button"),disabled:U,onClick:function(){T(M,"prev")},type:"button",children:I}),(n="".concat(np,"__label"),e.jsxs("button",{"aria-label":m,"aria-live":p,className:n,disabled:!R,onClick:a,style:{flexGrow:1},type:"button",children:[e.jsx("span",{className:"".concat(n,"__labelText ").concat(n,"__labelText--from"),children:H(r)}),O?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"".concat(n,"__divider"),children:" – "}),e.jsx("span",{className:"".concat(n,"__labelText ").concat(n,"__labelText--to"),children:H(z)})]}):null]})),null!==j&&e.jsx("button",{"aria-label":w,className:"".concat(np,"__arrow ").concat(np,"__next-button"),disabled:G,onClick:function(){T(z,"next")},type:"button",children:j}),null!==y&&L?e.jsx("button",{"aria-label":x,className:"".concat(np,"__arrow ").concat(np,"__next2-button"),disabled:q,onClick:function(){T(B,"next2")},type:"button",children:y}):null]})}var ap=function(){return ap=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ap.apply(this,arguments)};function sp(e){return"".concat(e,"%")}function ip(t){var n=t.children,r=t.className,a=t.count,s=t.direction,i=t.offset,l=t.style,o=t.wrap,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["children","className","count","direction","offset","style","wrap"]);return e.jsx("div",ap({className:r,style:ap({display:"flex",flexDirection:s,flexWrap:o?"wrap":"nowrap"},l)},c,{children:te.Children.map(n,function(e,t){var n=i&&0===t?sp(100*i/a):null;return te.cloneElement(e,ap(ap({},e.props),{style:{flexBasis:sp(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:n,marginInlineStart:n,marginInlineEnd:0}}))})}))}function lp(e,t){return t[0]<=e&&t[1]>=e}function op(e,t){return lp(e[0],t)||lp(e[1],t)}function cp(e,t,n){var r=[];if(op(t,e)){r.push(n);var a=lp(e[0],t),s=lp(e[1],t);a&&r.push("".concat(n,"Start")),s&&r.push("".concat(n,"End")),a&&s&&r.push("".concat(n,"BothEnds"))}return r}function up(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,a="react-calendar__tile",s=[a];if(!n)return s;var i=new Date,l=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Km(t,n)}();if(lp(i,l)&&s.push("".concat(a,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return s;var o,c,u=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Km(n,t)}();c=l,(o=u)[0]<=c[0]&&o[1]>=c[1]?s.push("".concat(a,"--active")):op(u,l)&&s.push("".concat(a,"--hasActive"));var d=cp(u,l,"".concat(a,"--range"));s.push.apply(s,d);var f=Array.isArray(t)?t:[t];if(r&&1===f.length){var m=cp(r>u[0]?[u[0],r]:[r,u[0]],l,"".concat(a,"--hover"));s.push.apply(s,m)}return s}function dp(t){for(var n=t.className,r=t.count,a=void 0===r?3:r,s=t.dateTransform,i=t.dateType,l=t.end,o=t.hover,c=t.offset,u=t.renderTile,d=t.start,f=t.step,m=void 0===f?1:f,p=t.value,h=t.valueType,g=[],x=d;x<=l;x+=m){var v=s(x);g.push(u({classes:up({date:v,dateType:i,hover:o,value:p,valueType:h}),date:v}))}return e.jsx(ip,{className:n,count:a,offset:c,wrap:!0,children:g})}function fp(t){var n=t.activeStartDate,r=t.children,a=t.classes,s=t.date,i=t.formatAbbr,l=t.locale,o=t.maxDate,c=t.maxDateTransform,u=t.minDate,d=t.minDateTransform,f=t.onClick,m=t.onMouseOver,p=t.style,h=t.tileClassName,g=t.tileContent,x=t.tileDisabled,v=t.view,y=te.useMemo(function(){return"function"==typeof h?h({activeStartDate:n,date:s,view:v}):h},[n,s,h,v]),b=te.useMemo(function(){return"function"==typeof g?g({activeStartDate:n,date:s,view:v}):g},[n,s,g,v]);return e.jsxs("button",{className:pe(a,y),disabled:u&&d(u)>s||o&&c(o)<s||(null==x?void 0:x({activeStartDate:n,date:s,view:v})),onClick:f?function(e){return f(s,e)}:void 0,onFocus:m?function(){return m(s)}:void 0,onMouseOver:m?function(){return m(s)}:void 0,style:p,type:"button",children:[i?e.jsx("abbr",{"aria-label":i(l,s),children:r}):r,b]})}var mp=function(){return mp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mp.apply(this,arguments)},pp="react-calendar__century-view__decades__decade";function hp(t){var n=t.classes,r=void 0===n?[]:n,a=t.currentCentury,s=t.formatYear,i=void 0===s?$m:s,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["classes","currentCentury","formatYear"]),o=l.date,c=l.locale,u=[];return r&&u.push.apply(u,r),u.push(pp),Kf(o).getFullYear()!==a&&u.push("".concat(pp,"--neighboringCentury")),e.jsx(fp,mp({},l,{classes:u,maxDateTransform:im,minDateTransform:rm,view:"century",children:Zm(c,i,o)}))}var gp=function(){return gp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},gp.apply(this,arguments)},xp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function vp(t){var n=t.activeStartDate,r=t.hover,a=t.showNeighboringCentury,s=t.value,i=t.valueType,l=xp(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=Yf(Kf(n)),c=o+(a?119:99);return e.jsx(dp,{className:"react-calendar__century-view__decades",dateTransform:rm,dateType:"decade",end:c,hover:r,renderTile:function(t){var r=t.date,a=xp(t,["date"]);return e.jsx(hp,gp({},l,a,{activeStartDate:n,currentCentury:o,date:r}),r.getTime())},start:o,step:10,value:s,valueType:i})}var yp=function(){return yp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},yp.apply(this,arguments)};function bp(t){return e.jsx("div",{className:"react-calendar__century-view",children:e.jsx(vp,yp({},t))})}var wp=function(){return wp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},wp.apply(this,arguments)},Np="react-calendar__decade-view__years__year";function jp(t){var n=t.classes,r=void 0===n?[]:n,a=t.currentDecade,s=t.formatYear,i=void 0===s?$m:s,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["classes","currentDecade","formatYear"]),o=l.date,c=l.locale,u=[];return r&&u.push.apply(u,r),u.push(Np),rm(o).getFullYear()!==a&&u.push("".concat(Np,"--neighboringDecade")),e.jsx(fp,wp({},l,{classes:u,maxDateTransform:fm,minDateTransform:cm,view:"decade",children:i(c,o)}))}var kp=function(){return kp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},kp.apply(this,arguments)},Sp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Cp(t){var n=t.activeStartDate,r=t.hover,a=t.showNeighboringDecade,s=t.value,i=t.valueType,l=Sp(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=Yf(rm(n)),c=o+(a?11:9);return e.jsx(dp,{className:"react-calendar__decade-view__years",dateTransform:cm,dateType:"year",end:c,hover:r,renderTile:function(t){var r=t.date,a=Sp(t,["date"]);return e.jsx(jp,kp({},l,a,{activeStartDate:n,currentDecade:o,date:r}),r.getTime())},start:o,value:s,valueType:i})}var _p=function(){return _p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_p.apply(this,arguments)};function Ep(t){return e.jsx("div",{className:"react-calendar__decade-view",children:e.jsx(Cp,_p({},t))})}var Dp=function(){return Dp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Dp.apply(this,arguments)},Ap=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function Ip(t){var n=t.classes,r=void 0===n?[]:n,a=t.formatMonth,s=void 0===a?Fm:a,i=t.formatMonthYear,l=void 0===i?zm:i,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["classes","formatMonth","formatMonthYear"]),c=o.date,u=o.locale;return e.jsx(fp,Dp({},o,{classes:Ap(Ap([],r,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:l,maxDateTransform:ym,minDateTransform:gm,view:"year",children:s(u,c)}))}var Tp=function(){return Tp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Tp.apply(this,arguments)},Op=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Pp(t){var n=t.activeStartDate,r=t.hover,a=t.value,s=t.valueType,i=Op(t,["activeStartDate","hover","value","valueType"]),l=Yf(n);return e.jsx(dp,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(l,e,1),gm(t)},dateType:"month",end:11,hover:r,renderTile:function(t){var r=t.date,a=Op(t,["date"]);return e.jsx(Ip,Tp({},i,a,{activeStartDate:n,date:r}),r.getTime())},start:0,value:a,valueType:s})}var Rp=function(){return Rp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Rp.apply(this,arguments)};function Lp(t){return e.jsx("div",{className:"react-calendar__year-view",children:e.jsx(Pp,Rp({},t))})}var Mp=function(){return Mp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Mp.apply(this,arguments)},Fp="react-calendar__month-view__days__day";function zp(t){var n=t.calendarType,r=t.classes,a=void 0===r?[]:r,s=t.currentMonthIndex,i=t.formatDay,l=void 0===i?Lm:i,o=t.formatLongDate,c=void 0===o?Mm:o,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=u.date,f=u.locale,m=[];return a&&m.push.apply(m,a),m.push(Fp),tp(d,n)&&m.push("".concat(Fp,"--weekend")),d.getMonth()!==s&&m.push("".concat(Fp,"--neighboringMonth")),e.jsx(fp,Mp({},u,{classes:m,formatAbbr:c,maxDateTransform:Sm,minDateTransform:Nm,view:"month",children:l(f,d)}))}var Bp=function(){return Bp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Bp.apply(this,arguments)},Up=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function $p(t){var n=t.activeStartDate,r=t.calendarType,a=t.hover,s=t.showFixedNumberOfWeeks,i=t.showNeighboringMonth,l=t.value,o=t.valueType,c=Up(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=Yf(n),d=Jf(n),f=s||i,m=Wm(n,r),p=f?0:m,h=1+(f?-m:0),g=function(){if(s)return h+42-1;var e=_m(n);if(i){var t=new Date;return t.setFullYear(u,d,e),t.setHours(0,0,0,0),e+(7-Wm(t,r)-1)}return e}();return e.jsx(dp,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(u,d,e),Nm(t)},dateType:"day",hover:a,end:g,renderTile:function(t){var a=t.date,s=Up(t,["date"]);return e.jsx(zp,Bp({},c,s,{activeStartDate:n,calendarType:r,currentMonthIndex:d,date:a}),a.getTime())},offset:p,start:h,value:l,valueType:o})}var Gp="react-calendar__month-view__weekdays",qp="".concat(Gp,"__weekday");function Hp(t){for(var n=t.calendarType,r=t.formatShortWeekday,a=void 0===r?Bm:r,s=t.formatWeekday,i=void 0===s?Um:s,l=t.locale,o=t.onMouseLeave,c=gm(new Date),u=Yf(c),d=Jf(c),f=[],m=1;m<=7;m+=1){var p=new Date(u,d,m-Wm(c,n)),h=i(l,p);f.push(e.jsx("div",{className:pe(qp,ep(p)&&"".concat(qp,"--current"),tp(p,n)&&"".concat(qp,"--weekend")),children:e.jsx("abbr",{"aria-label":h,title:h,children:a(l,p).replace(".","")})},m))}return e.jsx(ip,{className:Gp,count:7,onFocus:o,onMouseOver:o,children:f})}var Wp=function(){return Wp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Wp.apply(this,arguments)},Vp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Yp="react-calendar__tile";function Jp(t){var n=t.onClickWeekNumber,r=t.weekNumber,a=e.jsx("span",{children:r});if(n){var s=t.date,i=t.onClickWeekNumber,l=t.weekNumber,o=Vp(t,["date","onClickWeekNumber","weekNumber"]);return e.jsx("button",Wp({},o,{className:Yp,onClick:function(e){return i(l,s,e)},type:"button",children:a}))}t.date,t.onClickWeekNumber,t.weekNumber;o=Vp(t,["date","onClickWeekNumber","weekNumber"]);return e.jsx("div",Wp({},o,{className:Yp,children:a}))}function Qp(t){var n=t.activeStartDate,r=t.calendarType,a=t.onClickWeekNumber,s=t.onMouseLeave,i=t.showFixedNumberOfWeeks,l=function(){if(i)return 6;var e=_m(n)-(7-Wm(n,r));return 1+Math.ceil(e/7)}(),o=function(){for(var e=Yf(n),t=Jf(n),a=Qf(n),s=[],i=0;i<l;i+=1)s.push(Vm(new Date(e,t,a+7*i),r));return s}(),c=o.map(function(e){return function(e,t){void 0===t&&(t=Im);var n,r=t===Em?Em:Im,a=Vm(e,t),s=Yf(e)+1;do{n=Vm(new Date(s,0,r===Im?4:1),t),s-=1}while(e<n);return Math.round((a.getTime()-n.getTime())/6048e5)+1}(e,r)});return e.jsx(ip,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:c.map(function(t,n){var r=o[n];if(!r)throw new Error("date is not defined");return e.jsx(Jp,{date:r,onClickWeekNumber:a,weekNumber:t},t)})})}var Kp=function(){return Kp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Kp.apply(this,arguments)};function Xp(t){var n=t.activeStartDate,r=t.locale,a=t.onMouseLeave,s=t.showFixedNumberOfWeeks,i=t.calendarType,l=void 0===i?function(e){if(e)for(var t=0,n=Object.entries(Tm);t<n.length;t++){var r=n[t],a=r[0];if(r[1].includes(e))return a}return Im}(r):i,o=t.formatShortWeekday,c=t.formatWeekday,u=t.onClickWeekNumber,d=t.showWeekNumbers,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var m="react-calendar__month-view";return e.jsx("div",{className:pe(m,d?"".concat(m,"--weekNumbers"):""),children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[d?e.jsx(Qp,{activeStartDate:n,calendarType:l,onClickWeekNumber:u,onMouseLeave:a,showFixedNumberOfWeeks:s}):null,e.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[e.jsx(Hp,{calendarType:l,formatShortWeekday:o,formatWeekday:c,locale:r,onMouseLeave:a}),e.jsx($p,Kp({calendarType:l},f))]})]})})}var Zp=function(){return Zp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Zp.apply(this,arguments)},eh="react-calendar",th=["century","decade","year","month"],nh=["decade","year","month","day"],rh=new Date;rh.setFullYear(1,0,1),rh.setHours(0,0,0,0);var ah=new Date(864e13);function sh(e){return e instanceof Date?e:new Date(e)}function ih(e,t){return th.slice(th.indexOf(e),th.indexOf(t)+1)}function lh(e,t,n){return e&&function(e,t,n){return-1!==ih(t,n).indexOf(e)}(e,t,n)?e:n}function oh(e){var t=th.indexOf(e);return nh[t]}function ch(e,t){var n=e.value,r=e.minDate,a=e.maxDate,s=e.maxDetail,i=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=sh(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!i)return null;var l=oh(s);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return Ym(l,i);case 1:return Qm(l,i);default:throw new Error("Invalid index value: ".concat(t))}}(),r,a)}var uh=function(e){return ch(e,0)},dh=function(e){return ch(e,1)},fh=function(e){return[uh,dh].map(function(t){return t(e)})};function mh(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,a=e.minDetail,s=e.value;return Ym(lh(e.view,a,n),uh({value:s,minDate:r,maxDate:t,maxDetail:n})||new Date)}function ph(e){return e&&(!Array.isArray(e)||1===e.length)}function hh(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var gh=te.forwardRef(function(t,n){var r,a=t.activeStartDate,s=t.allowPartialRange,i=t.calendarType,l=t.className,o=t.defaultActiveStartDate,c=t.defaultValue,u=t.defaultView,d=t.formatDay,f=t.formatLongDate,m=t.formatMonth,p=t.formatMonthYear,h=t.formatShortWeekday,g=t.formatWeekday,x=t.formatYear,v=t.goToRangeStartOnSelect,y=void 0===v||v,b=t.inputRef,w=t.locale,N=t.maxDate,j=void 0===N?ah:N,k=t.maxDetail,S=void 0===k?"month":k,C=t.minDate,_=void 0===C?rh:C,E=t.minDetail,D=void 0===E?"century":E,A=t.navigationAriaLabel,I=t.navigationAriaLive,T=t.navigationLabel,O=t.next2AriaLabel,P=t.next2Label,R=t.nextAriaLabel,L=t.nextLabel,M=t.onActiveStartDateChange,F=t.onChange,z=t.onClickDay,B=t.onClickDecade,U=t.onClickMonth,$=t.onClickWeekNumber,G=t.onClickYear,q=t.onDrillDown,H=t.onDrillUp,W=t.onViewChange,V=t.prev2AriaLabel,Y=t.prev2Label,J=t.prevAriaLabel,Q=t.prevLabel,K=t.returnValue,X=void 0===K?"start":K,Z=t.selectRange,ee=t.showDoubleView,ne=t.showFixedNumberOfWeeks,re=t.showNavigation,ae=void 0===re||re,se=t.showNeighboringCentury,ie=t.showNeighboringDecade,le=t.showNeighboringMonth,oe=void 0===le||le,ce=t.showWeekNumbers,ue=t.tileClassName,de=t.tileContent,fe=t.tileDisabled,me=t.value,he=t.view,ge=te.useState(o),xe=ge[0],ve=ge[1],ye=te.useState(null),be=ye[0],we=ye[1],Ne=te.useState(Array.isArray(c)?c.map(function(e){return null!==e?sh(e):null}):null!=c?sh(c):null),je=Ne[0],ke=Ne[1],Se=te.useState(u),Ce=Se[0],_e=Se[1],Ee=a||xe||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,a=e.defaultView,s=e.maxDate,i=e.maxDetail,l=e.minDate,o=e.minDetail,c=e.value,u=e.view,d=lh(u,o,i),f=t||n;return f?Ym(d,f):mh({maxDate:s,maxDetail:i,minDate:l,minDetail:o,value:c||r,view:u||a})}({activeStartDate:a,defaultActiveStartDate:o,defaultValue:c,defaultView:u,maxDate:j,maxDetail:S,minDate:_,minDetail:D,value:me,view:he}),De=(r=Z&&ph(je)?je:void 0!==me?me:je)?Array.isArray(r)?r.map(function(e){return null!==e?sh(e):null}):null!==r?sh(r):null:null,Ae=oh(S),Ie=lh(he||Ce,D,S),Te=ih(D,S),Oe=Z?be:null,Pe=Te.indexOf(Ie)<Te.length-1,Re=Te.indexOf(Ie)>0,Le=te.useCallback(function(e){return function(){switch(X){case"start":return uh;case"end":return dh;case"range":return fh;default:throw new Error("Invalid returnValue.")}}()({maxDate:j,maxDetail:S,minDate:_,value:e})},[j,S,_,X]),Me=te.useCallback(function(e,t){ve(e);var n={action:t,activeStartDate:e,value:De,view:Ie};M&&!hh(Ee,e)&&M(n)},[Ee,M,De,Ie]),Fe=te.useCallback(function(e,t){var n=function(){switch(Ie){case"century":return B;case"decade":return G;case"year":return U;case"month":return z;default:throw new Error("Invalid view: ".concat(Ie,"."))}}();n&&n(e,t)},[z,B,U,G,Ie]),ze=te.useCallback(function(e,t){if(Pe){Fe(e,t);var n=Te[Te.indexOf(Ie)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");ve(e),_e(n);var r={action:"drillDown",activeStartDate:e,value:De,view:n};M&&!hh(Ee,e)&&M(r),W&&Ie!==n&&W(r),q&&q(r)}},[Ee,Pe,M,Fe,q,W,De,Ie,Te]),Be=te.useCallback(function(){if(Re){var e=Te[Te.indexOf(Ie)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=Ym(e,Ee);ve(t),_e(e);var n={action:"drillUp",activeStartDate:t,value:De,view:e};M&&!hh(Ee,t)&&M(n),W&&Ie!==e&&W(n),H&&H(n)}},[Ee,Re,M,H,W,De,Ie,Te]),Ue=te.useCallback(function(e,t){var n=De;Fe(e,t);var r,a=Z&&!ph(n);if(Z)if(a)r=Ym(Ae,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");r=function(e,t,n){var r=[t,n].sort(function(e,t){return e.getTime()-t.getTime()});return[Ym(e,r[0]),Qm(e,r[1])]}(Ae,n,e)}else r=Le(e);var i=!Z||a||y?mh({maxDate:j,maxDetail:S,minDate:_,minDetail:D,value:r,view:Ie}):null;t.persist(),ve(i),ke(r);var l={action:"onChange",activeStartDate:i,value:r,view:Ie};if(M&&!hh(Ee,i)&&M(l),F)if(Z)if(ph(r)){if(s){if(Array.isArray(r))throw new Error("value must not be an array");F([r||null,null],t)}}else F(r||null,t);else F(r||null,t)},[Ee,s,Le,y,j,S,_,D,M,F,Fe,Z,De,Ae,Ie]);function $e(e){we(e)}function Ge(){we(null)}function qe(t){var n={activeStartDate:t?Jm(Ie,Ee):Ym(Ie,Ee),hover:Oe,locale:w,maxDate:j,minDate:_,onClick:Pe?ze:Ue,onMouseOver:Z?$e:void 0,tileClassName:ue,tileContent:de,tileDisabled:fe,value:De,valueType:Ae};switch(Ie){case"century":return e.jsx(bp,Zp({formatYear:x,showNeighboringCentury:se},n));case"decade":return e.jsx(Ep,Zp({formatYear:x,showNeighboringDecade:ie},n));case"year":return e.jsx(Lp,Zp({formatMonth:m,formatMonthYear:p},n));case"month":return e.jsx(Xp,Zp({calendarType:i,formatDay:d,formatLongDate:f,formatShortWeekday:h,formatWeekday:g,onClickWeekNumber:$,onMouseLeave:Z?Ge:void 0,showFixedNumberOfWeeks:void 0!==ne?ne:ee,showNeighboringMonth:oe,showWeekNumbers:ce},n));default:throw new Error("Invalid view: ".concat(Ie,"."))}}te.useImperativeHandle(n,function(){return{activeStartDate:Ee,drillDown:ze,drillUp:Be,onChange:Ue,setActiveStartDate:Me,value:De,view:Ie}},[Ee,ze,Be,Ue,Me,De,Ie]);var He=Array.isArray(De)?De:[De];return e.jsxs("div",{className:pe(eh,Z&&1===He.length&&"".concat(eh,"--selectRange"),ee&&"".concat(eh,"--doubleView"),l),ref:b,children:[ae?e.jsx(rp,{activeStartDate:Ee,drillUp:Be,formatMonthYear:p,formatYear:x,locale:w,maxDate:j,minDate:_,navigationAriaLabel:A,navigationAriaLive:I,navigationLabel:T,next2AriaLabel:O,next2Label:P,nextAriaLabel:R,nextLabel:L,prev2AriaLabel:V,prev2Label:Y,prevAriaLabel:J,prevLabel:Q,setActiveStartDate:Me,showDoubleView:ee,view:Ie,views:Te}):null,e.jsxs("div",{className:"".concat(eh,"__viewContainer"),onBlur:Z?Ge:void 0,onMouseLeave:Z?Ge:void 0,children:[qe(),ee?qe(!0):null]})]})});const xh=()=>{const[t,n]=te.useState(new Date),[r,a]=te.useState([]),[s,i]=te.useState([]),[l,o]=te.useState([]),[c,u]=te.useState(!0),[d,f]=te.useState(null),[m,p]=te.useState("calendar"),[h,g]=te.useState(""),[x,v]=te.useState("all"),[y,b]=te.useState("all"),[w,N]=te.useState("month");te.useEffect(()=>{(async()=>{const{data:{user:e}}=await In.auth.getUser();f(e),e&&await j(e.id)})()},[]);const j=async e=>{try{u(!0);const{data:t,error:n}=await In.from("diary_entries").select("*").eq("user_id",e).order("entry_date",{ascending:!1});n||a(t||[]);const r=await async function(){try{const{data:{user:e}}=await In.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:n}=await In.from("tasks").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(n)throw n;return t}catch(e){return null}}();i((r||[]).map(e=>({...e,id:e.id??""})))}catch(t){Ar({title:"Error",description:"Failed to load calendar data",variant:"destructive"})}finally{u(!1)}};te.useEffect(()=>{let e=[...r.map(e=>({id:`diary-${e.id}`,date:e.entry_date,type:"diary",title:"Diary Entry",content:e.content})),...s.map(e=>({id:`task-${e.id}`,date:e.due_date||e.created_at.split("T")[0],time:e.due_time||void 0,type:"task",title:e.title,content:e.description,status:e.status,priority:e.priority,rule_id:e.rule_id,location:e.location??void 0,is_holiday:e.is_holiday,holiday_name:e.holiday_name??void 0}))];"all"!==x&&(e=e.filter(e=>e.type===x.slice(0,-1))),"all"!==y&&(e=e.filter(e=>e.rule_id===parseInt(y))),h.trim()&&(e=e.filter(e=>e.title.toLowerCase().includes(h.toLowerCase())||e.content.toLowerCase().includes(h.toLowerCase()))),e.sort((e,t)=>{const n=new Date(e.date+(e.time?` ${e.time}`:""));return new Date(t.date+(t.time?` ${t.time}`:"")).getTime()-n.getTime()}),o(e)},[r,s,h,x,y]);const k=e=>{const t=e.toISOString().split("T")[0];return l.filter(e=>e.date===t)},S=e=>{switch(e){case"urgent":return"text-red-600 border-red-300 bg-red-50";case"high":return"text-orange-600 border-orange-300 bg-orange-50";case"medium":return"text-yellow-600 border-yellow-300 bg-yellow-50";case"low":return"text-green-600 border-green-300 bg-green-50";default:return"text-gray-600 border-gray-300 bg-gray-50"}},C=e=>{switch(e){case"completed":return"text-green-600 border-green-300 bg-green-50";case"in_progress":return"text-blue-600 border-blue-300 bg-blue-50";case"cancelled":return"text-red-600 border-red-300 bg-red-50";default:return"text-gray-600 border-gray-300 bg-gray-50"}},_=e=>{const t=new Date(e),n=new Date,r=new Date(n);return r.setDate(r.getDate()-1),e===n.toISOString().split("T")[0]?"Today":e===r.toISOString().split("T")[0]?"Yesterday":t.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",year:t.getFullYear()!==n.getFullYear()?"numeric":void 0})};return c?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading your calendar..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs(De.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(_e,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Calendar & Timeline"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize your diary entries and tasks across time"})]}),e.jsxs(_n,{value:m,onValueChange:e=>p(e),className:"space-y-6",children:[e.jsxs(En,{className:"grid w-full grid-cols-2 lg:w-auto lg:grid-cols-2",children:[e.jsxs(Dn,{value:"calendar",className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),"Calendar"]}),e.jsxs(Dn,{value:"timeline",className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4"}),"Timeline"]})]}),e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"h-5 w-5"}),"Filters & Search"]}),e.jsx(tr,{children:"Search and filter your diary entries and tasks"})]}),e.jsx(nr,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(ur,{placeholder:"Search entries and tasks...",value:h,onChange:e=>g(e.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Type"}),e.jsxs(dr,{value:x,onValueChange:e=>v(e),children:[e.jsx(mr,{children:e.jsx(fr,{placeholder:"Filter by type"})}),e.jsxs(gr,{children:[e.jsx(xr,{value:"all",children:"All Items"}),e.jsx(xr,{value:"diary",children:"Diary Only"}),e.jsx(xr,{value:"tasks",children:"Tasks Only"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Rule"}),e.jsxs(dr,{value:y,onValueChange:e=>b(e),children:[e.jsx(mr,{children:e.jsx(fr,{placeholder:"Filter by rule"})}),e.jsxs(gr,{children:[e.jsx(xr,{value:"all",children:"All Rules"}),e.jsx(xr,{value:"1",children:"Rule 1 - Truth"}),e.jsx(xr,{value:"2",children:"Rule 2 - Integrity"}),e.jsx(xr,{value:"3",children:"Rule 3 - Growth"})]})]})]})]})})]})}),e.jsx(An,{value:"calendar",className:"space-y-6",children:e.jsxs(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-5 w-5"}),"Calendar View"]}),e.jsx(tr,{children:"Click on any date to see your entries and tasks"})]}),e.jsx(nr,{className:"p-4",children:e.jsx("div",{className:"calendar-container",children:e.jsx(gh,{onChange:e=>{e instanceof Date?n(e):Array.isArray(e)&&e[0]instanceof Date&&n(e[0])},value:t,tileContent:({date:t,view:n})=>{if("month"===n){const n=k(t);if(n.length>0)return e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[n.slice(0,2).map((t,n)=>e.jsx("div",{className:"w-2 h-2 rounded-full "+("diary"===t.type?"bg-purple-500":"completed"===t.status?"bg-green-500":"bg-blue-500")},n)),n.length>2&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"})]})}return null},className:"w-full border-none"})})})]}),e.jsxs(Xn,{children:[e.jsx(Zn,{children:e.jsxs(er,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),_(t.toISOString().split("T")[0])]}),e.jsxs(sr,{variant:"secondary",children:[k(t).length," items"]})]})}),e.jsx(nr,{className:"p-6",children:e.jsx(Me,{mode:"wait",children:e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:k(t).length>0?k(t).map(t=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:["diary"===t.type?e.jsx(He,{className:"h-4 w-4 text-purple-500"}):"completed"===t.status?e.jsx(qe,{className:"h-4 w-4 text-green-500"}):e.jsx(ye,{className:"h-4 w-4 text-blue-500"}),e.jsx("h4",{className:"font-medium",children:t.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.time&&e.jsx(sr,{variant:"outline",className:"text-xs",children:t.time}),"task"===t.type&&t.rule_id&&e.jsxs(sr,{variant:"outline",className:"text-xs",children:["Rule ",t.rule_id]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-3",children:t.content}),"task"===t.type&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.status&&e.jsx(sr,{variant:"outline",className:C(t.status),children:t.status}),t.priority&&e.jsx(sr,{variant:"outline",className:S(t.priority),children:t.priority}),t.location&&e.jsxs(sr,{variant:"outline",className:"text-xs",children:[e.jsx(Ke,{className:"h-3 w-3 mr-1"}),t.location]})]})]},t.id)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(_e,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No events on this date"}),e.jsx("p",{className:"text-sm",children:"Select a different date or create new entries"})]})},t.toISOString())})})]})]})}),e.jsx(An,{value:"timeline",className:"space-y-6",children:e.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs(Xn,{children:[e.jsxs(Zn,{children:[e.jsxs(er,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5"}),"Timeline View"]}),e.jsx(tr,{children:"Chronological view of all your diary entries and tasks"})]}),e.jsx(nr,{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:l.length>0?l.map((t,n)=>e.jsxs(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*n},className:"relative",children:[n!==l.length-1&&e.jsx("div",{className:"absolute left-4 top-8 w-0.5 h-full bg-border -z-10"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shrink-0 "+("diary"===t.type?"bg-purple-100 text-purple-600":"completed"===t.status?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"),children:"diary"===t.type?e.jsx(He,{className:"h-4 w-4"}):"completed"===t.status?e.jsx(qe,{className:"h-4 w-4"}):e.jsx(ye,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 bg-card border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:t.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[_(t.date),t.time&&` at ${t.time}`]})]}),e.jsx("div",{className:"flex items-center gap-2",children:"task"===t.type&&t.rule_id&&e.jsxs(sr,{variant:"outline",className:"text-xs",children:["Rule ",t.rule_id]})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-3",children:t.content}),"task"===t.type&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.status&&e.jsx(sr,{variant:"outline",className:C(t.status),children:t.status}),t.priority&&e.jsx(sr,{variant:"outline",className:S(t.priority),children:t.priority}),t.location&&e.jsxs(sr,{variant:"outline",className:"text-xs",children:[e.jsx(Ke,{className:"h-3 w-3 mr-1"}),t.location]})]})]})]})]},t.id)):e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(Jt,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No timeline events found"}),e.jsx("p",{className:"text-sm",children:"Create some diary entries or tasks to see your timeline"})]})})})]})})})]})]}),e.jsx("style",{children:"\n        .calendar-container .react-calendar {\n          width: 100%;\n          background: transparent;\n          border: none;\n          font-family: inherit;\n        }\n        \n        .calendar-container .react-calendar__tile {\n          max-width: initial;\n          padding: 0.75rem 0.5rem;\n          background: none;\n          text-align: center;\n          line-height: 16px;\n          font-size: 0.875rem;\n        }\n        \n        .calendar-container .react-calendar__tile:enabled:hover,\n        .calendar-container .react-calendar__tile:enabled:focus {\n          background-color: hsl(var(--accent));\n        }\n        \n        .calendar-container .react-calendar__tile--active {\n          background: hsl(var(--primary));\n          color: hsl(var(--primary-foreground));\n        }\n        \n        .calendar-container .react-calendar__tile--now {\n          background: hsl(var(--accent));\n        }\n        \n        .calendar-container .react-calendar__month-view__weekdays {\n          text-align: center;\n          text-transform: uppercase;\n          font-weight: bold;\n          font-size: 0.75rem;\n          padding: 10px 0;\n        }\n        \n        .calendar-container .react-calendar__month-view__weekdays__weekday {\n          padding: 0.5rem;\n        }\n        \n        .line-clamp-2 {\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n        \n        .line-clamp-3 {\n          display: -webkit-box;\n          -webkit-line-clamp: 3;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n      "})]})},vh=()=>{const[t,n]=te.useState(null),[r,a]=te.useState(!0);return te.useEffect(()=>{(async()=>{const{data:{session:e}}=await In.auth.getSession();n(e),a(!1)})();const{data:e}=In.auth.onAuthStateChange((e,t)=>{n(t)});return()=>{null==e||e.subscription.unsubscribe()}},[]),r?e.jsx("div",{children:"Loading..."}):t?e.jsx(ce,{}):e.jsx(ue,{to:"/login",replace:!0})};function yh(){return te.useEffect(()=>{const e=()=>{document.querySelectorAll("[data-rbd-draggable-id]").forEach(e=>{e.offsetHeight})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e.jsx(de,{children:e.jsxs("div",{className:"flex h-screen",children:[e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:e.jsxs(fe,{children:[e.jsx(me,{path:"/login",element:e.jsx(Kn,{})}),e.jsx(me,{path:"/ritesh",element:e.jsx(vf,{})}),e.jsx(me,{path:"/family/register",element:e.jsx(bf,{})}),e.jsx(me,{element:e.jsx(wf,{}),children:e.jsx(me,{path:"/family-profile",element:e.jsx(yf,{})})}),e.jsxs(me,{element:e.jsx(vh,{}),children:[e.jsx(me,{path:"/dashboard",element:e.jsx(Qn,{children:e.jsx(ra,{})})}),e.jsx(me,{path:"/dashboard/daily-diary",element:e.jsx(Qn,{children:e.jsx(Nd,{})})}),e.jsx(me,{path:"/dashboard/settings",element:e.jsx(Qn,{children:e.jsx(pf,{})})}),e.jsx(me,{path:"/profile",element:e.jsx(Qn,{children:e.jsx(cf,{})})}),e.jsx(me,{path:"/contacts",element:e.jsx(Qn,{children:e.jsx(Za,{})})}),e.jsx(me,{path:"/hierarchy",element:e.jsx(Qn,{children:e.jsx(vd,{})})}),e.jsx(me,{path:"/calendar-timeline",element:e.jsx(Qn,{children:e.jsx(xh,{})})})]}),e.jsx(me,{path:"*",element:e.jsx(Cf,{})})]})}),e.jsx(Sf,{})]})})}pn.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(yh,{})}));
